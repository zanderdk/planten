<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/HttpResponse.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_http_response_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HttpResponse.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_http_response_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HttpResponse.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Sep 2, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_request_8h.html">HttpRequest.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_response_8h.html">HttpResponse.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;HttpResponse&quot;</span>;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a14191faa2704dad3c241058387eba6c8">HttpResponse::HTTP_STATUS_CONTINUE</a>              = 100;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a78dc24a606063749c4f2e1b97c9a7567">HttpResponse::HTTP_STATUS_SWITCHING_PROTOCOL</a>    = 101;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#acbede84921ca67c8b69bc8d34eaca9df">HttpResponse::HTTP_STATUS_OK</a>                    = 200;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a51aea8413871f1ee4581ac322330e264">HttpResponse::HTTP_STATUS_MOVED_PERMANENTLY</a>     = 301;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a21825e9540a6191a6931462eaf3e84f9">HttpResponse::HTTP_STATUS_BAD_REQUEST</a>           = 400;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a667caee7f0cf004544c857c97cf91d22">HttpResponse::HTTP_STATUS_UNAUTHORIZED</a>          = 401;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a43582ffd281bc9351381ed13c0f52bbb">HttpResponse::HTTP_STATUS_FORBIDDEN</a>             = 403;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#af4884dda4f4cf2d963392730321a4065">HttpResponse::HTTP_STATUS_NOT_FOUND</a>             = 404;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a13d6968a62356795ac2ff57b7c43269c">HttpResponse::HTTP_STATUS_METHOD_NOT_ALLOWED</a>    = 405;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#aae872936152764decdd1d850e98666ca">HttpResponse::HTTP_STATUS_INTERNAL_SERVER_ERROR</a> = 500;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#a210b24a07a5e028f4386d2628f69c3c9">HttpResponse::HTTP_STATUS_NOT_IMPLEMENTED</a>       = 501;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_http_response.html#aa6f248fa25a7eef790510c81d086976b">HttpResponse::HTTP_STATUS_SERVICE_UNAVAILABLE</a>   = 503;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">static</span> <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> lineTerminator = <span class="stringliteral">&quot;\r\n&quot;</span>;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_http_response.html#ae2e9409c572d6912bbca076d3c667db0">   29</a></span>&#160;<a class="code" href="class_http_response.html#ae2e9409c572d6912bbca076d3c667db0">HttpResponse::HttpResponse</a>(<a class="code" href="class_http_request.html">HttpRequest</a>* request) {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_request = request;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    m_status  = 200;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    m_headerCommitted = <span class="keyword">false</span>; <span class="comment">// We have not yet sent a header.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_http_response.html#a7dc8102dcf63b07b9bf3c3dfed468857">   36</a></span>&#160;<a class="code" href="class_http_response.html#a7dc8102dcf63b07b9bf3c3dfed468857">HttpResponse::~HttpResponse</a>() {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">   46</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">HttpResponse::addHeader</a>(<span class="keyword">const</span> <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, <span class="keyword">const</span> <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (m_headerCommitted) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    m_responseHeaders.insert(std::pair&lt;std::string, std::string&gt;(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>));</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;} <span class="comment">// addHeader</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">   57</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">HttpResponse::close</a>() {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// If we haven&#39;t yet sent the header of the data, send that now.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (!m_headerCommitted) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        sendHeader();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    m_request-&gt;<a class="code" href="class_http_request.html#a970869c3e73fb4cf6758793e5fa27471">close</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;} <span class="comment">// close</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_http_response.html#ab76b0ba3926f6ddd0396b9cbe75c8cfe">   71</a></span>&#160;<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="class_http_response.html#ab76b0ba3926f6ddd0396b9cbe75c8cfe">HttpResponse::getHeader</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (m_responseHeaders.find(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>) == m_responseHeaders.end()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> m_responseHeaders.at(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;} <span class="comment">// getHeader</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_http_response.html#a3a883e5228ab2e8a117bea82853fdcb3">   77</a></span>&#160;std::map&lt;std::string, std::string&gt; <a class="code" href="class_http_response.html#a3a883e5228ab2e8a117bea82853fdcb3">HttpResponse::getHeaders</a>() {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> m_responseHeaders;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;} <span class="comment">// getHeaders</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">   88</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">HttpResponse::sendData</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; sendData&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// If the request is already closed, nothing further to do.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (m_request-&gt;<a class="code" href="class_http_request.html#a219c6b9d700e5940d86d909e4c9a0169">isClosed</a>()) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; sendData: Request to send more data but the request/response is already closed&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// If we haven&#39;t yet sent the header of the data, send that now.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (!m_headerCommitted) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        sendHeader();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// Send the payload data.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    m_request-&gt;<a class="code" href="class_http_request.html#a704e22a6312c4b88d3a13803893faccf">getSocket</a>().<a class="code" href="class_socket.html#ad9757badfe9d9903d07ef7c70279ad77">send</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; sendData&quot;</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;} <span class="comment">// sendData</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="class_http_response.html#ac4253a47d101696a39dd18ed25d7670e">  106</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">HttpResponse::sendData</a>(uint8_t* pData, <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; sendData: 0x%x, size: %d&quot;</span>, (uint32_t) pData, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// If the request is already closed, nothing further to do.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (m_request-&gt;<a class="code" href="class_http_request.html#a219c6b9d700e5940d86d909e4c9a0169">isClosed</a>()) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; sendData: Request to send more data but the request/response is already closed&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// If we haven&#39;t yet sent the header of the data, send that now.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (!m_headerCommitted) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        sendHeader();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Send the payload data.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    m_request-&gt;<a class="code" href="class_http_request.html#a704e22a6312c4b88d3a13803893faccf">getSocket</a>().<a class="code" href="class_socket.html#ad9757badfe9d9903d07ef7c70279ad77">send</a>(pData, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; sendData&quot;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;} <span class="comment">// sendData</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="class_http_response.html#a9f9ee4a4b3305963fd72c14097a48a60">  124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#a9f9ee4a4b3305963fd72c14097a48a60">HttpResponse::sendFile</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> fileName, <span class="keywordtype">size_t</span> bufSize) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    ESP_LOGI(LOG_TAG, <span class="stringliteral">&quot;Opening file: %s&quot;</span>, fileName.c_str());</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    std::ifstream ifStream;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    ifStream.open(fileName, <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">std::ifstream::in</a> | std::ifstream::binary);      <span class="comment">// Attempt to open the file for reading.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// If we failed to open the requested file, then it probably didn&#39;t exist so return a not found.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (!ifStream.is_open()) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;Unable to open file %s for reading&quot;</span>, fileName.c_str());</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">setStatus</a>(<a class="code" href="class_http_response.html#af4884dda4f4cf2d963392730321a4065">HttpResponse::HTTP_STATUS_NOT_FOUND</a>, <span class="stringliteral">&quot;Not Found&quot;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">addHeader</a>(<a class="code" href="class_http_request.html#acd9cc6de0d1b29e34ed9a29b7825726e">HttpRequest::HTTP_HEADER_CONTENT_TYPE</a>, <span class="stringliteral">&quot;text/plain&quot;</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;Not Found&quot;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">close</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// Since we failed to open the file, no further work to be done.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// We now have an open file and want to push the content of that file through to the browser.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// because of defect #252 we have to do some pretty important re-work here.  Specifically, we can&#39;t host the whole file in</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// RAM at one time.  Instead what we have to do is ensure that we only have enough data in RAM to be sent.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">setStatus</a>(<a class="code" href="class_http_response.html#acbede84921ca67c8b69bc8d34eaca9df">HttpResponse::HTTP_STATUS_OK</a>, <span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    uint8_t *pData = <span class="keyword">new</span> uint8_t[bufSize];</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">while</span> (!ifStream.eof()) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        ifStream.read((<span class="keywordtype">char</span>*) pData, bufSize);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(pData, ifStream.gcount());</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">delete</span>[] pData;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    ifStream.close();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">close</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;} <span class="comment">// sendFile</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keywordtype">void</span> HttpResponse::sendHeader() {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// If we haven&#39;t yet sent the header of the data, send that now.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (!m_headerCommitted) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        std::ostringstream oss;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        oss &lt;&lt; m_request-&gt;<a class="code" href="class_http_request.html#aa8ffb5df637ec2c7d3d0c4346c5154e7">getVersion</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; m_status &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; m_statusMessage &lt;&lt; lineTerminator;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> = m_responseHeaders.begin(); <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> != m_responseHeaders.end(); ++<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            oss &lt;&lt; <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;first.c_str() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;second.c_str() &lt;&lt; lineTerminator;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        oss &lt;&lt; lineTerminator;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        m_headerCommitted = <span class="keyword">true</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        m_request-&gt;<a class="code" href="class_http_request.html#a704e22a6312c4b88d3a13803893faccf">getSocket</a>().<a class="code" href="class_socket.html#ad9757badfe9d9903d07ef7c70279ad77">send</a>(oss.str());</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;} <span class="comment">// sendHeader</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">HttpResponse::setStatus</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> status, <span class="keyword">const</span> <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> message) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (m_headerCommitted) { <span class="comment">// If the header has already been sent, don&#39;t set the new values.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        ESP_LOGW(LOG_TAG, <span class="stringliteral">&quot;Attempt to set a new status(%d)/message(%s) but header has already been committed.&quot;</span>, status, message.c_str());</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    m_status        = status;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    m_statusMessage = message;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;} <span class="comment">// setStatus</span></div><div class="ttc" id="class_http_response_html_a9fa95070f1861a24558f4a63f6d87818"><div class="ttname"><a href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">HttpResponse::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Close the response. We close the response. If we haven&amp;#39;t yet sent the header, we send that now and th...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00057">HttpResponse.cpp:57</a></div></div>
<div class="ttc" id="class_http_response_html_acbede84921ca67c8b69bc8d34eaca9df"><div class="ttname"><a href="class_http_response.html#acbede84921ca67c8b69bc8d34eaca9df">HttpResponse::HTTP_STATUS_OK</a></div><div class="ttdeci">static const int HTTP_STATUS_OK</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00020">HttpResponse.h:20</a></div></div>
<div class="ttc" id="class_http_response_html_a43582ffd281bc9351381ed13c0f52bbb"><div class="ttname"><a href="class_http_response.html#a43582ffd281bc9351381ed13c0f52bbb">HttpResponse::HTTP_STATUS_FORBIDDEN</a></div><div class="ttdeci">static const int HTTP_STATUS_FORBIDDEN</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00024">HttpResponse.h:24</a></div></div>
<div class="ttc" id="class_http_response_html_ae2e9409c572d6912bbca076d3c667db0"><div class="ttname"><a href="class_http_response.html#ae2e9409c572d6912bbca076d3c667db0">HttpResponse::HttpResponse</a></div><div class="ttdeci">HttpResponse(HttpRequest *httpRequest)</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00029">HttpResponse.cpp:29</a></div></div>
<div class="ttc" id="class_http_request_html_acd9cc6de0d1b29e34ed9a29b7825726e"><div class="ttname"><a href="class_http_request.html#acd9cc6de0d1b29e34ed9a29b7825726e">HttpRequest::HTTP_HEADER_CONTENT_TYPE</a></div><div class="ttdeci">static const char HTTP_HEADER_CONTENT_TYPE[]</div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8h_source.html#l00027">HttpRequest.h:27</a></div></div>
<div class="ttc" id="class_http_request_html_a219c6b9d700e5940d86d909e4c9a0169"><div class="ttname"><a href="class_http_request.html#a219c6b9d700e5940d86d909e4c9a0169">HttpRequest::isClosed</a></div><div class="ttdeci">bool isClosed()</div><div class="ttdoc">Determine if the request is closed. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00285">HttpRequest.cpp:285</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_http_response_html_af4884dda4f4cf2d963392730321a4065"><div class="ttname"><a href="class_http_response.html#af4884dda4f4cf2d963392730321a4065">HttpResponse::HTTP_STATUS_NOT_FOUND</a></div><div class="ttdeci">static const int HTTP_STATUS_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00025">HttpResponse.h:25</a></div></div>
<div class="ttc" id="class_socket_html_ad9757badfe9d9903d07ef7c70279ad77"><div class="ttname"><a href="class_socket.html#ad9757badfe9d9903d07ef7c70279ad77">Socket::send</a></div><div class="ttdeci">int send(std::string value) const</div><div class="ttdoc">Send a string to the partner. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00457">Socket.cpp:457</a></div></div>
<div class="ttc" id="_http_response_8h_html"><div class="ttname"><a href="_http_response_8h.html">HttpResponse.h</a></div></div>
<div class="ttc" id="class_http_request_html_aa8ffb5df637ec2c7d3d0c4346c5154e7"><div class="ttname"><a href="class_http_request.html#aa8ffb5df637ec2c7d3d0c4346c5154e7">HttpRequest::getVersion</a></div><div class="ttdeci">std::string getVersion()</div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00271">HttpRequest.cpp:271</a></div></div>
<div class="ttc" id="class_http_response_html_a51aea8413871f1ee4581ac322330e264"><div class="ttname"><a href="class_http_response.html#a51aea8413871f1ee4581ac322330e264">HttpResponse::HTTP_STATUS_MOVED_PERMANENTLY</a></div><div class="ttdeci">static const int HTTP_STATUS_MOVED_PERMANENTLY</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00021">HttpResponse.h:21</a></div></div>
<div class="ttc" id="class_http_response_html_a14191faa2704dad3c241058387eba6c8"><div class="ttname"><a href="class_http_response.html#a14191faa2704dad3c241058387eba6c8">HttpResponse::HTTP_STATUS_CONTINUE</a></div><div class="ttdeci">static const int HTTP_STATUS_CONTINUE</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00018">HttpResponse.h:18</a></div></div>
<div class="ttc" id="class_http_response_html_a667caee7f0cf004544c857c97cf91d22"><div class="ttname"><a href="class_http_response.html#a667caee7f0cf004544c857c97cf91d22">HttpResponse::HTTP_STATUS_UNAUTHORIZED</a></div><div class="ttdeci">static const int HTTP_STATUS_UNAUTHORIZED</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00023">HttpResponse.h:23</a></div></div>
<div class="ttc" id="class_http_response_html_a9f9ee4a4b3305963fd72c14097a48a60"><div class="ttname"><a href="class_http_response.html#a9f9ee4a4b3305963fd72c14097a48a60">HttpResponse::sendFile</a></div><div class="ttdeci">void sendFile(std::string fileName, size_t bufSize=4 *1024)</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00124">HttpResponse.cpp:124</a></div></div>
<div class="ttc" id="remote-name_8d_html_aa335f8bb20424b03700f57b150bf0aa6"><div class="ttname"><a href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a></div><div class="ttdeci">Long the path is cut off.The file will be saved in the current working directory.If you want the file saved in a different make sure you change the current working directory before invoking curl with this option.The remote file name to use for saving is extracted from the given nothing and if it already exists it will be overwritten.If you want the server to be able to choose the file name refer to remote header name which can be used in addition to this option.If the server chooses a file name and that name already exists it will not be overwritten.There is no URL decoding done on the file name.If it has or other URL encoded parts of the name</div><div class="ttdef"><b>Definition:</b> <a href="remote-name_8d_source.html#l00006">remote-name.d:6</a></div></div>
<div class="ttc" id="class_http_request_html_a704e22a6312c4b88d3a13803893faccf"><div class="ttname"><a href="class_http_request.html#a704e22a6312c4b88d3a13803893faccf">HttpRequest::getSocket</a></div><div class="ttdeci">Socket getSocket()</div><div class="ttdoc">Get the underlying socket. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00266">HttpRequest.cpp:266</a></div></div>
<div class="ttc" id="class_http_response_html_aae872936152764decdd1d850e98666ca"><div class="ttname"><a href="class_http_response.html#aae872936152764decdd1d850e98666ca">HttpResponse::HTTP_STATUS_INTERNAL_SERVER_ERROR</a></div><div class="ttdeci">static const int HTTP_STATUS_INTERNAL_SERVER_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00027">HttpResponse.h:27</a></div></div>
<div class="ttc" id="class_http_request_html"><div class="ttname"><a href="class_http_request.html">HttpRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8h_source.html#l00019">HttpRequest.h:19</a></div></div>
<div class="ttc" id="class_http_response_html_a210b24a07a5e028f4386d2628f69c3c9"><div class="ttname"><a href="class_http_response.html#a210b24a07a5e028f4386d2628f69c3c9">HttpResponse::HTTP_STATUS_NOT_IMPLEMENTED</a></div><div class="ttdeci">static const int HTTP_STATUS_NOT_IMPLEMENTED</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00028">HttpResponse.h:28</a></div></div>
<div class="ttc" id="progress-bar_8d_html_ab8db689d5132c4523a63d67bedf23c8a"><div class="ttname"><a href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a></div><div class="ttdeci">Short more meter.This progress bar draws a single line of shows a percentage if the transfer size is known.For transfers without a known size</div><div class="ttdef"><b>Definition:</b> <a href="progress-bar_8d_source.html#l00006">progress-bar.d:6</a></div></div>
<div class="ttc" id="class_http_response_html_a6a83c668bb537a24f3e62255501fb25e"><div class="ttname"><a href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">HttpResponse::addHeader</a></div><div class="ttdeci">void addHeader(std::string name, std::string value)</div><div class="ttdoc">Add a header to the response message. If the response has already been committed then ignore this req...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00046">HttpResponse.cpp:46</a></div></div>
<div class="ttc" id="class_http_response_html_a7dc8102dcf63b07b9bf3c3dfed468857"><div class="ttname"><a href="class_http_response.html#a7dc8102dcf63b07b9bf3c3dfed468857">HttpResponse::~HttpResponse</a></div><div class="ttdeci">virtual ~HttpResponse()</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00036">HttpResponse.cpp:36</a></div></div>
<div class="ttc" id="class_http_response_html_a13d6968a62356795ac2ff57b7c43269c"><div class="ttname"><a href="class_http_response.html#a13d6968a62356795ac2ff57b7c43269c">HttpResponse::HTTP_STATUS_METHOD_NOT_ALLOWED</a></div><div class="ttdeci">static const int HTTP_STATUS_METHOD_NOT_ALLOWED</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00026">HttpResponse.h:26</a></div></div>
<div class="ttc" id="class_http_response_html_aa6f248fa25a7eef790510c81d086976b"><div class="ttname"><a href="class_http_response.html#aa6f248fa25a7eef790510c81d086976b">HttpResponse::HTTP_STATUS_SERVICE_UNAVAILABLE</a></div><div class="ttdeci">static const int HTTP_STATUS_SERVICE_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00029">HttpResponse.h:29</a></div></div>
<div class="ttc" id="header_8d_html_af039c1a4bf9f7d5ffdd981d66cd3fb2d"><div class="ttname"><a href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a></div><div class="ttdeci">Long your externally set header will be used instead of the one.This allows you to make even trickier stuff than curl would normally do.You should not replace internally set headers without knowing perfectly well what you re doing.Remove an header by giving a replacement without content on the right side of the as in</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00009">header.d:9</a></div></div>
<div class="ttc" id="_http_request_8h_html"><div class="ttname"><a href="_http_request_8h.html">HttpRequest.h</a></div></div>
<div class="ttc" id="unit1602_8c_html_a1f81d06f9ccd5ec47176a7fc466b6030"><div class="ttname"><a href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a></div><div class="ttdeci">UNITTEST_START int * value</div><div class="ttdef"><b>Definition:</b> <a href="unit1602_8c_source.html#l00051">unit1602.c:51</a></div></div>
<div class="ttc" id="ftp-ssl-ccc-mode_8d_html_ac4f4031531425afe8fbe576a1e1d1642"><div class="ttname"><a href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a></div><div class="ttdeci">Long but instead wait for the server to do it</div><div class="ttdef"><b>Definition:</b> <a href="ftp-ssl-ccc-mode_8d_source.html#l00008">ftp-ssl-ccc-mode.d:8</a></div></div>
<div class="ttc" id="class_http_request_html_a970869c3e73fb4cf6758793e5fa27471"><div class="ttname"><a href="class_http_request.html#a970869c3e73fb4cf6758793e5fa27471">HttpRequest::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Close the HttpRequest. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00148">HttpRequest.cpp:148</a></div></div>
<div class="ttc" id="class_http_response_html_a68bc032812a96326d9fe4fde668a372b"><div class="ttname"><a href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">HttpResponse::sendData</a></div><div class="ttdeci">void sendData(std::string data)</div><div class="ttdoc">Send data to the partner. Send some data to the partner. If we haven&amp;#39;t yet sent the HTTP header then ...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00088">HttpResponse.cpp:88</a></div></div>
<div class="ttc" id="class_http_response_html_a21825e9540a6191a6931462eaf3e84f9"><div class="ttname"><a href="class_http_response.html#a21825e9540a6191a6931462eaf3e84f9">HttpResponse::HTTP_STATUS_BAD_REQUEST</a></div><div class="ttdeci">static const int HTTP_STATUS_BAD_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00022">HttpResponse.h:22</a></div></div>
<div class="ttc" id="class_http_response_html_a3a883e5228ab2e8a117bea82853fdcb3"><div class="ttname"><a href="class_http_response.html#a3a883e5228ab2e8a117bea82853fdcb3">HttpResponse::getHeaders</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00077">HttpResponse.cpp:77</a></div></div>
<div class="ttc" id="class_http_response_html_ab76b0ba3926f6ddd0396b9cbe75c8cfe"><div class="ttname"><a href="class_http_response.html#ab76b0ba3926f6ddd0396b9cbe75c8cfe">HttpResponse::getHeader</a></div><div class="ttdeci">std::string getHeader(std::string name)</div><div class="ttdoc">Get the value of the named header. </div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00071">HttpResponse.cpp:71</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="class_http_response_html_af13a61ae987f15599232fa30d2cfdeab"><div class="ttname"><a href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">HttpResponse::setStatus</a></div><div class="ttdeci">void setStatus(int status, std::string message)</div><div class="ttdoc">Set the status code that is to be sent back to the client. When a client makes a request, the response contains a status. This call sets the status that will be sent back to the client. </div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00179">HttpResponse.cpp:179</a></div></div>
<div class="ttc" id="class_http_response_html_a78dc24a606063749c4f2e1b97c9a7567"><div class="ttname"><a href="class_http_response.html#a78dc24a606063749c4f2e1b97c9a7567">HttpResponse::HTTP_STATUS_SWITCHING_PROTOCOL</a></div><div class="ttdeci">static const int HTTP_STATUS_SWITCHING_PROTOCOL</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00019">HttpResponse.h:19</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_http_response_8cpp.html">HttpResponse.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
