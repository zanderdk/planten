<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/HttpServer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_http_server_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HttpServer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_http_server_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HttpServer.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Design:</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This class represents an HTTP server.  We create an instance of the class and then it is configured.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * When the user has completed the configuration, they execute the start() method which starts it running.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * A subsequent call to stop() will stop it.  When start() is called, a new task is created which listens</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * for incoming messages.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  Created on: Aug 30, 2017</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_server_8h.html">HttpServer.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_sock_serv_8h.html">SockServ.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_task_8h.html">Task.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_request_8h.html">HttpRequest.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_response_8h.html">HttpResponse.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_file_system_8h.html">FileSystem.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_web_socket_8h.html">WebSocket.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_general_utils_8h.html">GeneralUtils.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_memory_8h.html">Memory.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;HttpServer&quot;</span>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#undef close</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_http_server.html#a303273c5e6469b4ea4277668cd86ec67">   32</a></span>&#160;<a class="code" href="class_http_server.html#a303273c5e6469b4ea4277668cd86ec67">HttpServer::HttpServer</a>() {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    m_portNumber = 80;            <span class="comment">// The default port number.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    m_clientTimeout = 5;            <span class="comment">// The default timeout 5 seconds.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    m_rootPath   = <span class="stringliteral">&quot;&quot;</span>;            <span class="comment">// The default path.</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    m_useSSL     = <span class="keyword">false</span>;         <span class="comment">// Default SSL is no.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">setDirectoryListing</a>(<span class="keyword">false</span>);   <span class="comment">// Default directory listing is disabled.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    m_fileBufferSize = 4 * 1024;    <span class="comment">// Default size of the file buffer.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;} <span class="comment">// HttpServer</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_http_server.html#a5e9887bc9a815fc4b2b506a335d916af">   42</a></span>&#160;<a class="code" href="class_http_server.html#a5e9887bc9a815fc4b2b506a335d916af">HttpServer::~HttpServer</a>() {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;~HttpServer&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_http_server_task.html">   53</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_http_server_task.html">HttpServerTask</a>: <span class="keyword">public</span> <a class="code" href="class_task.html">Task</a> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_http_server_task.html#af0e407e558eab01c2fd459a98cd20579">   55</a></span>&#160;    <a class="code" href="class_http_server_task.html#af0e407e558eab01c2fd459a98cd20579">HttpServerTask</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>): <a class="code" href="class_task.html">Task</a>(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, 16 * 1024) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        m_pHttpServer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    };</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="class_http_server.html">HttpServer</a>* m_pHttpServer; <span class="comment">// Reference to the HTTP Server</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">void</span> processRequest(<a class="code" href="class_http_request.html">HttpRequest</a>&amp; request) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; processRequest: Method: %s, Path: %s&quot;</span>,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            request.<a class="code" href="class_http_request.html#ab71053bfdeac7cab93f438361f0a800d">getMethod</a>().c_str(), request.<a class="code" href="class_http_request.html#a1c8e0c2c14135ece794b8bbbd37ccfdb">getPath</a>().c_str());</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// Loop over all the path handlers we have looking for the first one that matches.  Note that none of them</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">// need to match.  If we find one that does, then invoke the handler and that is the end of processing.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> pathHandlerIterartor = m_pHttpServer-&gt;m_pathHandlers.begin();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                pathHandlerIterartor != m_pHttpServer-&gt;m_pathHandlers.end();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                ++pathHandlerIterartor) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (pathHandlerIterartor-&gt;match(request.<a class="code" href="class_http_request.html#ab71053bfdeac7cab93f438361f0a800d">getMethod</a>(), request.<a class="code" href="class_http_request.html#a1c8e0c2c14135ece794b8bbbd37ccfdb">getPath</a>())) { <span class="comment">// Did we match the handler?</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;Found a path handler match!!&quot;</span>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="keywordflow">if</span> (request.<a class="code" href="class_http_request.html#ada6a0b548a6a104d1e94b17f6c96d5fe">isWebsocket</a>()) {                                     <span class="comment">// Is this handler to be invoked for a web socket?</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    pathHandlerIterartor-&gt;invokePathHandler(&amp;request, <span class="keyword">nullptr</span>);    <span class="comment">// Invoke the handler.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    request.<a class="code" href="class_http_request.html#ad888f752e5970269ddcba963304d57d0">getWebSocket</a>()-&gt;startReader();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                    <a class="code" href="class_http_response.html">HttpResponse</a> response(&amp;request);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    pathHandlerIterartor-&gt;invokePathHandler(&amp;request, &amp;response); <span class="comment">// Invoke the handler.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="keywordflow">return</span>;                                                         <span class="comment">// End of processing the request</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            } <span class="comment">// Path handler match</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        } <span class="comment">// For each path handler</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;No Path handler found&quot;</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">// If we reach here, then we did not find a handler for the request.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (request.<a class="code" href="class_http_request.html#ada6a0b548a6a104d1e94b17f6c96d5fe">isWebsocket</a>()) {               <span class="comment">// Check to see if we have an un-handled WebSocket</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            request.<a class="code" href="class_http_request.html#ad888f752e5970269ddcba963304d57d0">getWebSocket</a>()-&gt;<a class="code" href="class_web_socket.html#a57b53de6aeafeb1f57eed90a3357aaa8">close</a>();     <span class="comment">// If we do, close the socket as there is nothing further to do.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="comment">// Serve up the content from the file on the file system ... if found ...</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> fileName = m_pHttpServer-&gt;<a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">getRootPath</a>() + request.<a class="code" href="class_http_request.html#a1c8e0c2c14135ece794b8bbbd37ccfdb">getPath</a>(); <span class="comment">// Build the absolute file name to read.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// If the file name ends with a &#39;/&#39; then remove it ... we are normalizing to NO trailing slashes.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_general_utils.html#ade237631b5595e2426f9e86fc6e38932">GeneralUtils::endsWith</a>(fileName, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            fileName = fileName.substr(0, fileName.length() - 1);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="class_http_response.html">HttpResponse</a> response(&amp;request);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// Test if the path is a directory.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_file_system.html#aac9e04e4ec84a9edbf43fe0577d77305">FileSystem::isDirectory</a>(fileName)) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Path %s is a directory&quot;</span>, fileName.c_str());</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            m_pHttpServer-&gt;listDirectory(fileName, response);   <span class="comment">// List the contents of the directory.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        } <span class="comment">// Path was a directory.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        response.sendFile(fileName, m_pHttpServer-&gt;<a class="code" href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">getFileBufferSize</a>());</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    } <span class="comment">// processRequest</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">void</span> run(<span class="keywordtype">void</span>* <a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        m_pHttpServer = (<a class="code" href="class_http_server.html">HttpServer</a>*) <a class="code" href="structdata.html">data</a>;          <span class="comment">// The passed in data is an instance of an HttpServer.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        m_pHttpServer-&gt;m_socket.<a class="code" href="class_socket.html#a73d0af1a733ff70a622eac54a997f887">setSSL</a>(m_pHttpServer-&gt;m_useSSL);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        m_pHttpServer-&gt;m_socket.<a class="code" href="class_socket.html#a893bb9a6107d2139cfb088f0c82ac5ae">listen</a>(m_pHttpServer-&gt;m_portNumber, <span class="keyword">false</span> <span class="comment">/* is datagram */</span>, <span class="keyword">true</span> <span class="comment">/* Allow address reuse */</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;Listening on port %d&quot;</span>, m_pHttpServer-&gt;<a class="code" href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">getPort</a>());</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="class_socket.html">Socket</a> clientSocket;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">while</span> (<span class="keyword">true</span>) {   <span class="comment">// Loop forever.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;Waiting for new peer client&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                clientSocket = m_pHttpServer-&gt;m_socket.<a class="code" href="class_socket.html#a3f749d9a206e48a875e8c24f29500a93">accept</a>();   <span class="comment">// Block waiting for a new external client connection.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                clientSocket.<a class="code" href="class_socket.html#aef6249eaa9b2be5a386f85cb828c2b4a">setTimeout</a>(m_pHttpServer-&gt;<a class="code" href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">getClientTimeout</a>());</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                ESP_LOGE(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;Caught an exception waiting for new client!&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                m_pHttpServer-&gt;m_semaphoreServerStarted.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">give</a>();  <span class="comment">// Release the semaphore .. we are now no longer running.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            ESP_LOGD(<span class="stringliteral">&quot;HttpServerTask&quot;</span>, <span class="stringliteral">&quot;HttpServer that was listening on port %d has received a new client connection; sockFd=%d&quot;</span>, m_pHttpServer-&gt;<a class="code" href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">getPort</a>(), clientSocket.getFD());</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <a class="code" href="class_http_request.html">HttpRequest</a> request(clientSocket);   <span class="comment">// Build the HTTP Request from the socket.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (request.<a class="code" href="class_http_request.html#ada6a0b548a6a104d1e94b17f6c96d5fe">isWebsocket</a>()) {        <span class="comment">// If this is a WebSocket</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                clientSocket.setTimeout(0);     <span class="comment">//   Clear the timeout.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            request.<a class="code" href="class_http_request.html#a0a5ce3688a7340c0e04b026c51ee5154">dump</a>();                      <span class="comment">// debug.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            processRequest(request);             <span class="comment">// Process the request.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!request.<a class="code" href="class_http_request.html#ada6a0b548a6a104d1e94b17f6c96d5fe">isWebsocket</a>()) {        <span class="comment">// If this is NOT a WebSocket, then close it as the request</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                request.<a class="code" href="class_http_request.html#a970869c3e73fb4cf6758793e5fa27471">close</a>();                   <span class="comment">//   has been completed.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        } <span class="comment">// while</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    } <span class="comment">// run</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}; <span class="comment">// HttpServerTask</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_http_server.html#a57af2880e0ac2d49cd0ca8d35e662b4d">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">HttpServer::addPathHandler</a>(</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        std::regex* pathExpr,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordtype">void</span> (*handler)(<a class="code" href="class_http_request.html">HttpRequest</a>* pHttpRequest, <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// We are maintaining a C++ vector of PathHandler objects.  We add a new entry into that vector.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    m_pathHandlers.push_back(<a class="code" href="class_path_handler.html">PathHandler</a>(<a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, pathExpr, handler));</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;} <span class="comment">// addPathHandler</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">  215</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">HttpServer::addPathHandler</a>(</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordtype">void</span> (*handler)(<a class="code" href="class_http_request.html">HttpRequest</a>* pHttpRequest, <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// We are maintaining a C++ vector of PathHandler objects.  We add a new entry into that vector.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    m_pathHandlers.push_back(<a class="code" href="class_path_handler.html">PathHandler</a>(<a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, handler));</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;} <span class="comment">// addPathHandler</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">  232</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">HttpServer::getFileBufferSize</a>() {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> m_fileBufferSize;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;} <span class="comment">// getFileBufferSize</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">  241</a></span>&#160;uint16_t <a class="code" href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">HttpServer::getPort</a>() {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> m_portNumber;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;} <span class="comment">// getPort</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">  250</a></span>&#160;<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">HttpServer::getRootPath</a>() {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> m_rootPath;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;} <span class="comment">// getRootPath</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="class_http_server.html#ad3d17b4df0252445a2ed4f0f8ea06201">  259</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_http_server.html#ad3d17b4df0252445a2ed4f0f8ea06201">HttpServer::getSSL</a>() {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> m_useSSL;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;} <span class="comment">// getSSL</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keywordtype">void</span> HttpServer::listDirectory(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <a class="code" href="class_http_response.html">HttpResponse</a>&amp; response) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// If path ends with a &quot;/&quot; then remove it.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_general_utils.html#ade237631b5595e2426f9e86fc6e38932">GeneralUtils::endsWith</a>(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a> = <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.substr(0, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.length()-1);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// The url path may not be the same as path which is the path on the file system.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// They will differ if we are using a root path.  We check to see if the file system path</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// starts with the root path, if it does, we remove the root path from the url path.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> urlPath = <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (urlPath.compare(0, <a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">getRootPath</a>().length(), <a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">getRootPath</a>()) == 0) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        urlPath = urlPath.substr(<a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">getRootPath</a>().length());</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    response.<a class="code" href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">addHeader</a>(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    response.<a class="code" href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">setStatus</a>(<a class="code" href="class_http_response.html#acbede84921ca67c8b69bc8d34eaca9df">HttpResponse::HTTP_STATUS_OK</a>, <span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;html&gt;&lt;head&gt;&quot;</span>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_general_utils.html#ade237631b5595e2426f9e86fc6e38932">GeneralUtils::endsWith</a>(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;base href=&#39;&quot;</span> + urlPath + <span class="stringliteral">&quot;/&#39; /&gt;&quot;</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;/head&gt;&lt;body&gt;&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> + <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a> + <span class="stringliteral">&quot;&lt;/h1&gt;&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;hr/&gt;&quot;</span>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;p&gt;&lt;a href=&#39;..&#39;&gt;[To Parent Directory]&lt;/a&gt;&lt;/p&gt;&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;table style=&#39;font-family: monospace;&#39;&gt;&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">auto</span> files = <a class="code" href="class_file_system.html#a300fa44365bef5cfc3abfb6a9ad117ee">FileSystem::getDirectoryContents</a>(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> = files.begin(); <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> != files.end(); ++<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        std::stringstream ss;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        ss &lt;&lt; <span class="stringliteral">&quot;&lt;tr&gt;&lt;td&gt;&lt;a href=&#39;&quot;</span> &lt;&lt; <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&#39;&gt;&quot;</span> &lt;&lt; <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&lt;/a&gt;&lt;/td&gt;&quot;</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;isDirectory()) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&amp;lt;dir&amp;gt;&lt;/td&gt;&quot;</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> &lt;&lt; <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;length() &lt;&lt; <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        ss &lt;&lt; <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(ss.str());</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;file: %s&quot;</span>, ss.str().c_str());</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;/table&gt;&quot;</span>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;hr/&gt;&quot;</span>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    response.<a class="code" href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">sendData</a>(<span class="stringliteral">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    response.<a class="code" href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">close</a>();</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;} <span class="comment">// listDirectory</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="class_http_server.html#ad70784b8f9484a16bf74c34413a24d4d">  319</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#ad70784b8f9484a16bf74c34413a24d4d">HttpServer::setClientTimeout</a>(uint32_t <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    m_clientTimeout = <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">  328</a></span>&#160;uint32_t <a class="code" href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">HttpServer::getClientTimeout</a>() {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> m_clientTimeout;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">HttpServer::setDirectoryListing</a>(<span class="keywordtype">bool</span> use) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    m_directoryListing = use;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;} <span class="comment">// setDirectoryListening</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="class_http_server.html#a7686343c224f5e8a62f5f07de481345d">  349</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#a7686343c224f5e8a62f5f07de481345d">HttpServer::setFileBufferSize</a>(<span class="keywordtype">size_t</span> fileBufferSize) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    m_fileBufferSize = fileBufferSize;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;} <span class="comment">// setFileBufferSize</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="class_http_server.html#a141a7cde0ccf11ff395df0faef79d6a5">  371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#a141a7cde0ccf11ff395df0faef79d6a5">HttpServer::setRootPath</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// Should the user have supplied a path that ends in a &quot;/&quot; remove the trailing slash.  This also</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// means that &quot;/&quot; becomes &quot;&quot;.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_general_utils.html#ade237631b5595e2426f9e86fc6e38932">GeneralUtils::endsWith</a>(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a> = <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.substr(0, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.length()-1);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    m_rootPath = <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;} <span class="comment">// setRootPath</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="class_http_server.html#a79bbf11522346b2eae709e6112b130c2">  388</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#a79bbf11522346b2eae709e6112b130c2">HttpServer::start</a>(uint16_t portNumber, <span class="keywordtype">bool</span> useSSL) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// Design:</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// The start of the HTTP server should be as fast as possible.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; start: port: %d, useSSL: %d&quot;</span>, portNumber, useSSL);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// Take the semaphore that says that we are now running.  If we are already running, then end here as</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// there is nothing further to do.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!m_semaphoreServerStarted.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">take</a>(100, <span class="stringliteral">&quot;start&quot;</span>)) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; start: Already running&quot;</span>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    m_useSSL     = useSSL;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    m_portNumber = portNumber;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="class_http_server_task.html">HttpServerTask</a>* pHttpServerTask = <span class="keyword">new</span> <a class="code" href="class_http_server.html#a3cc3306861979ff7b3b2c03500780072">HttpServerTask</a>(<span class="stringliteral">&quot;HttpServerTask&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    pHttpServerTask-&gt;<a class="code" href="class_task.html#a6f13d13787e21dc929b61d112b863433">start</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; start&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;} <span class="comment">// start</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="class_http_server.html#aad9c63d3f8cda248e3c87067ac3ac5a5">  412</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_http_server.html#aad9c63d3f8cda248e3c87067ac3ac5a5">HttpServer::stop</a>() {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// Shutdown the HTTP Server.  The high level is that we will stop the server socket</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// that is listening for incoming connections.  That will then shutdown all the other</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// activities.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; stop&quot;</span>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    m_socket.<a class="code" href="class_socket.html#aef06605c6725958004116983f1a2051f">close</a>();                      <span class="comment">// Close the socket that is being used to watch for incoming requests.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    m_semaphoreServerStarted.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">wait</a>(<span class="stringliteral">&quot;stop&quot;</span>); <span class="comment">// Wait for the server to stop.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; stop&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;} <span class="comment">// stop</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="class_path_handler.html#af959d3f50d33d3be44af827a93662720">  430</a></span>&#160;<a class="code" href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler::PathHandler</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, std::regex* pRegex,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordtype">void</span> (*pWebServerRequestHandler)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        (</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        ) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    m_method          = <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>;                  <span class="comment">// Save the method we are looking for.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    m_pRegex          = pRegex;                  <span class="comment">// Save the Regex</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    m_textPattern     = <span class="stringliteral">&quot;&lt;Regex&gt;&quot;</span>;               <span class="comment">// The plain text of the regex pattern.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    m_isRegex         = <span class="keyword">true</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    m_pRequestHandler = pWebServerRequestHandler; <span class="comment">// The handler to be invoked if the pattern matches.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;} <span class="comment">// PathHandler</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">  451</a></span>&#160;<a class="code" href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler::PathHandler</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> matchPath,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordtype">void</span> (*pWebServerRequestHandler)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        (</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        ) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    m_method          = <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>;                  <span class="comment">// Save the method we are looking for.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    m_textPattern     = matchPath;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    m_isRegex         = <span class="keyword">false</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    m_pRegex          = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    m_pRequestHandler = pWebServerRequestHandler; <span class="comment">// The handler to be invoked if the pattern matches.</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;} <span class="comment">// PathHandler</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="class_path_handler.html#a5a50a3baba682292270f79b3a435cc4c">  472</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_path_handler.html#a5a50a3baba682292270f79b3a435cc4c">PathHandler::match</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a> != m_method) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (m_isRegex) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        ESP_LOGD(<span class="stringliteral">&quot;PathHandler&quot;</span>, <span class="stringliteral">&quot;regex matching: %s with %s&quot;</span>, m_textPattern.c_str(), <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.c_str());</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> std::regex_search(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, *m_pRegex);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    ESP_LOGD(<span class="stringliteral">&quot;PathHandler&quot;</span>, <span class="stringliteral">&quot;plain matching: %s with %s&quot;</span>, m_textPattern.c_str(), <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>.c_str());</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> m_textPattern.compare(0, m_textPattern.length(), <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>) ==0;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;} <span class="comment">// match</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="class_path_handler.html#ae5f06052f99f675aef8ccea42b7cd09f">  489</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_path_handler.html#ae5f06052f99f675aef8ccea42b7cd09f">PathHandler::invokePathHandler</a>(<a class="code" href="class_http_request.html">HttpRequest</a>* request, <a class="code" href="class_http_response.html">HttpResponse</a>* response) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    m_pRequestHandler(request, response);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;} <span class="comment">// invokePathHandler</span></div><div class="ttc" id="anyauth_8d_html_a7eb9744e157c215b8e0de36856880ebf"><div class="ttname"><a href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response thus possibly inducing an extra network round trip.This is used instead of setting a specific authentication method</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="class_http_response_html_a9fa95070f1861a24558f4a63f6d87818"><div class="ttname"><a href="class_http_response.html#a9fa95070f1861a24558f4a63f6d87818">HttpResponse::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Close the response. We close the response. If we haven&amp;#39;t yet sent the header, we send that now and th...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00057">HttpResponse.cpp:57</a></div></div>
<div class="ttc" id="class_http_request_html_ad888f752e5970269ddcba963304d57d0"><div class="ttname"><a href="class_http_request.html#ad888f752e5970269ddcba963304d57d0">HttpRequest::getWebSocket</a></div><div class="ttdeci">WebSocket * getWebSocket()</div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00276">HttpRequest.cpp:276</a></div></div>
<div class="ttc" id="class_http_response_html_acbede84921ca67c8b69bc8d34eaca9df"><div class="ttname"><a href="class_http_response.html#acbede84921ca67c8b69bc8d34eaca9df">HttpResponse::HTTP_STATUS_OK</a></div><div class="ttdeci">static const int HTTP_STATUS_OK</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00020">HttpResponse.h:20</a></div></div>
<div class="ttc" id="class_http_request_html_a1c8e0c2c14135ece794b8bbbd37ccfdb"><div class="ttname"><a href="class_http_request.html#a1c8e0c2c14135ece794b8bbbd37ccfdb">HttpRequest::getPath</a></div><div class="ttdeci">std::string getPath()</div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00199">HttpRequest.cpp:199</a></div></div>
<div class="ttc" id="_general_utils_8h_html"><div class="ttname"><a href="_general_utils_8h.html">GeneralUtils.h</a></div></div>
<div class="ttc" id="class_http_server_html_aa4dfccf48a9c721ca8bb00d61f7b4e13"><div class="ttname"><a href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">HttpServer::getRootPath</a></div><div class="ttdeci">std::string getRootPath()</div><div class="ttdoc">Get the current root path. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00250">HttpServer.cpp:250</a></div></div>
<div class="ttc" id="_web_socket_8h_html"><div class="ttname"><a href="_web_socket_8h.html">WebSocket.h</a></div></div>
<div class="ttc" id="_sock_serv_8h_html"><div class="ttname"><a href="_sock_serv_8h.html">SockServ.h</a></div></div>
<div class="ttc" id="class_task_html_a6f13d13787e21dc929b61d112b863433"><div class="ttname"><a href="class_task.html#a6f13d13787e21dc929b61d112b863433">Task::start</a></div><div class="ttdeci">void start(void *taskData=nullptr)</div><div class="ttdoc">Start an instance of the task. </div><div class="ttdef"><b>Definition:</b> <a href="_task_8cpp_source.html#l00070">Task.cpp:70</a></div></div>
<div class="ttc" id="class_file_system_html_a300fa44365bef5cfc3abfb6a9ad117ee"><div class="ttname"><a href="class_file_system.html#a300fa44365bef5cfc3abfb6a9ad117ee">FileSystem::getDirectoryContents</a></div><div class="ttdeci">static std::vector&lt; File &gt; getDirectoryContents(std::string path)</div><div class="ttdoc">Get the contents of a directory. </div><div class="ttdef"><b>Definition:</b> <a href="_file_system_8cpp_source.html#l00063">FileSystem.cpp:63</a></div></div>
<div class="ttc" id="class_socket_html_aef6249eaa9b2be5a386f85cb828c2b4a"><div class="ttname"><a href="class_socket.html#aef6249eaa9b2be5a386f85cb828c2b4a">Socket::setTimeout</a></div><div class="ttdeci">int setTimeout(uint32_t seconds)</div><div class="ttdoc">Socket timeout. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00303">Socket.cpp:303</a></div></div>
<div class="ttc" id="_task_8h_html"><div class="ttname"><a href="_task_8h.html">Task.h</a></div></div>
<div class="ttc" id="_file_system_8h_html"><div class="ttname"><a href="_file_system_8h.html">FileSystem.h</a></div></div>
<div class="ttc" id="class_web_socket_html_a57b53de6aeafeb1f57eed90a3357aaa8"><div class="ttname"><a href="class_web_socket.html#a57b53de6aeafeb1f57eed90a3357aaa8">WebSocket::close</a></div><div class="ttdeci">void close(uint16_t status=CLOSE_NORMAL_CLOSURE, std::string message=&quot;&quot;)</div><div class="ttdoc">Close the Web socket. </div><div class="ttdef"><b>Definition:</b> <a href="_web_socket_8cpp_source.html#l00262">WebSocket.cpp:262</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_socket_html_aef06605c6725958004116983f1a2051f"><div class="ttname"><a href="class_socket.html#aef06605c6725958004116983f1a2051f">Socket::close</a></div><div class="ttdeci">int close()</div><div class="ttdoc">Close the socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00135">Socket.cpp:135</a></div></div>
<div class="ttc" id="multi-uv_8c_html_afb43b78d9a22f95e721353db4408304c"><div class="ttname"><a href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a></div><div class="ttdeci">uv_timer_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="multi-uv_8c_source.html#l00042">multi-uv.c:42</a></div></div>
<div class="ttc" id="class_http_server_html_a79bbf11522346b2eae709e6112b130c2"><div class="ttname"><a href="class_http_server.html#a79bbf11522346b2eae709e6112b130c2">HttpServer::start</a></div><div class="ttdeci">void start(uint16_t portNumber, bool useSSL=false)</div><div class="ttdoc">Start the HTTP server listening. We start an instance of the HTTP server listening. A new task is spawned to perform this work in the back ground. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00388">HttpServer.cpp:388</a></div></div>
<div class="ttc" id="class_http_server_html_aac086f847e37748c0c54f1e295baf2e4"><div class="ttname"><a href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">HttpServer::addPathHandler</a></div><div class="ttdeci">void addPathHandler(std::string method, std::string pathExpr, void(*webServerRequestHandler)(HttpRequest *pHttpRequest, HttpResponse *pHttpResponse))</div><div class="ttdoc">Register a handler for a path. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00215">HttpServer.cpp:215</a></div></div>
<div class="ttc" id="class_socket_html_a73d0af1a733ff70a622eac54a997f887"><div class="ttname"><a href="class_socket.html#a73d0af1a733ff70a622eac54a997f887">Socket::setSSL</a></div><div class="ttdeci">void setSSL(bool sslValue=true)</div><div class="ttdoc">Flag the socket as using SSL. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00510">Socket.cpp:510</a></div></div>
<div class="ttc" id="class_http_server_html_ad70784b8f9484a16bf74c34413a24d4d"><div class="ttname"><a href="class_http_server.html#ad70784b8f9484a16bf74c34413a24d4d">HttpServer::setClientTimeout</a></div><div class="ttdeci">void setClientTimeout(uint32_t timeout)</div><div class="ttdoc">Set different socket timeout for new connections. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00319">HttpServer.cpp:319</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_ad1aa158e37d15363b4441482fae82dd8"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">FreeRTOS::Semaphore::give</a></div><div class="ttdeci">void give()</div><div class="ttdoc">Give a semaphore. The Semaphore is given. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00114">FreeRTOS.cpp:114</a></div></div>
<div class="ttc" id="class_http_server_html_aad9c63d3f8cda248e3c87067ac3ac5a5"><div class="ttname"><a href="class_http_server.html#aad9c63d3f8cda248e3c87067ac3ac5a5">HttpServer::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Shutdown the HTTP server. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00412">HttpServer.cpp:412</a></div></div>
<div class="ttc" id="class_path_handler_html"><div class="ttname"><a href="class_path_handler.html">PathHandler</a></div><div class="ttdoc">Handle path matching for an incoming HTTP request. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8h_source.html#l00027">HttpServer.h:27</a></div></div>
<div class="ttc" id="class_path_handler_html_a2fd73ffd5f17f9a0de2f8bd89b4437c2"><div class="ttname"><a href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler::PathHandler</a></div><div class="ttdeci">PathHandler(std::string method, std::string pathPattern, void(*pWebServerRequestHandler)(HttpRequest *pHttpRequest, HttpResponse *pHttpResponse))</div><div class="ttdoc">Construct an instance of a PathHandler. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00451">HttpServer.cpp:451</a></div></div>
<div class="ttc" id="class_http_server_html_a7686343c224f5e8a62f5f07de481345d"><div class="ttname"><a href="class_http_server.html#a7686343c224f5e8a62f5f07de481345d">HttpServer::setFileBufferSize</a></div><div class="ttdeci">void setFileBufferSize(size_t fileBufferSize)</div><div class="ttdoc">Set the size of the file buffer. When serving up a file from the file system, we can&amp;#39;t afford to read...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00349">HttpServer.cpp:349</a></div></div>
<div class="ttc" id="_http_response_8h_html"><div class="ttname"><a href="_http_response_8h.html">HttpResponse.h</a></div></div>
<div class="ttc" id="class_http_request_html_a0a5ce3688a7340c0e04b026c51ee5154"><div class="ttname"><a href="class_http_request.html#a0a5ce3688a7340c0e04b026c51ee5154">HttpRequest::dump</a></div><div class="ttdeci">void dump()</div><div class="ttdoc">Dump the HttpRequest for debugging purposes. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00160">HttpRequest.cpp:160</a></div></div>
<div class="ttc" id="class_http_server_task_html"><div class="ttname"><a href="class_http_server_task.html">HttpServerTask</a></div><div class="ttdoc">Be an HTTP server task. Here we define a Task that will be run when the HTTP server starts...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00053">HttpServer.cpp:53</a></div></div>
<div class="ttc" id="class_http_server_html_a5e9887bc9a815fc4b2b506a335d916af"><div class="ttname"><a href="class_http_server.html#a5e9887bc9a815fc4b2b506a335d916af">HttpServer::~HttpServer</a></div><div class="ttdeci">virtual ~HttpServer()</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00042">HttpServer.cpp:42</a></div></div>
<div class="ttc" id="class_http_server_html_a284988ba72075a9abc3af5499ed9ed56"><div class="ttname"><a href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">HttpServer::getClientTimeout</a></div><div class="ttdeci">uint32_t getClientTimeout()</div><div class="ttdoc">Get current socket&amp;#39;s timeout for new connections. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00328">HttpServer.cpp:328</a></div></div>
<div class="ttc" id="class_http_server_html_ac771b9fe9b2d825df7231ff0dee7e253"><div class="ttname"><a href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">HttpServer::getFileBufferSize</a></div><div class="ttdeci">size_t getFileBufferSize()</div><div class="ttdoc">Get the size of the file buffer. When serving up a file from the file system, we can&amp;#39;t afford to read...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00232">HttpServer.cpp:232</a></div></div>
<div class="ttc" id="class_path_handler_html_ae5f06052f99f675aef8ccea42b7cd09f"><div class="ttname"><a href="class_path_handler.html#ae5f06052f99f675aef8ccea42b7cd09f">PathHandler::invokePathHandler</a></div><div class="ttdeci">void invokePathHandler(HttpRequest *request, HttpResponse *response)</div><div class="ttdoc">Invoke the handler. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00489">HttpServer.cpp:489</a></div></div>
<div class="ttc" id="remote-name_8d_html_aa335f8bb20424b03700f57b150bf0aa6"><div class="ttname"><a href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a></div><div class="ttdeci">Long the path is cut off.The file will be saved in the current working directory.If you want the file saved in a different make sure you change the current working directory before invoking curl with this option.The remote file name to use for saving is extracted from the given nothing and if it already exists it will be overwritten.If you want the server to be able to choose the file name refer to remote header name which can be used in addition to this option.If the server chooses a file name and that name already exists it will not be overwritten.There is no URL decoding done on the file name.If it has or other URL encoded parts of the name</div><div class="ttdef"><b>Definition:</b> <a href="remote-name_8d_source.html#l00006">remote-name.d:6</a></div></div>
<div class="ttc" id="class_http_server_html_a141a7cde0ccf11ff395df0faef79d6a5"><div class="ttname"><a href="class_http_server.html#a141a7cde0ccf11ff395df0faef79d6a5">HttpServer::setRootPath</a></div><div class="ttdeci">void setRootPath(std::string path)</div><div class="ttdoc">Set the root path for URL file mapping. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00371">HttpServer.cpp:371</a></div></div>
<div class="ttc" id="class_http_request_html"><div class="ttname"><a href="class_http_request.html">HttpRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8h_source.html#l00019">HttpRequest.h:19</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a023cb404ff897bb39064b454732ccf21"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">FreeRTOS::Semaphore::wait</a></div><div class="ttdeci">uint32_t wait(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Wait for a semaphore to be released by trying to take it and then releasing it again. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00064">FreeRTOS.cpp:64</a></div></div>
<div class="ttc" id="class_http_server_html"><div class="ttname"><a href="class_http_server.html">HttpServer</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8h_source.html#l00056">HttpServer.h:56</a></div></div>
<div class="ttc" id="class_socket_html"><div class="ttname"><a href="class_socket.html">Socket</a></div><div class="ttdoc">Encapsulate a socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8h_source.html#l00062">Socket.h:62</a></div></div>
<div class="ttc" id="class_http_request_html_ab71053bfdeac7cab93f438361f0a800d"><div class="ttname"><a href="class_http_request.html#ab71053bfdeac7cab93f438361f0a800d">HttpRequest::getMethod</a></div><div class="ttdeci">std::string getMethod()</div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00194">HttpRequest.cpp:194</a></div></div>
<div class="ttc" id="class_http_server_html_a303273c5e6469b4ea4277668cd86ec67"><div class="ttname"><a href="class_http_server.html#a303273c5e6469b4ea4277668cd86ec67">HttpServer::HttpServer</a></div><div class="ttdeci">HttpServer()</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00032">HttpServer.cpp:32</a></div></div>
<div class="ttc" id="_memory_8h_html"><div class="ttname"><a href="_memory_8h.html">Memory.h</a></div></div>
<div class="ttc" id="class_http_response_html_a6a83c668bb537a24f3e62255501fb25e"><div class="ttname"><a href="class_http_response.html#a6a83c668bb537a24f3e62255501fb25e">HttpResponse::addHeader</a></div><div class="ttdeci">void addHeader(std::string name, std::string value)</div><div class="ttdoc">Add a header to the response message. If the response has already been committed then ignore this req...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00046">HttpResponse.cpp:46</a></div></div>
<div class="ttc" id="class_http_server_html_af4a61a2ac8da8773025da0d2fde1aef5"><div class="ttname"><a href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">HttpServer::getPort</a></div><div class="ttdeci">uint16_t getPort()</div><div class="ttdoc">Get the port number on which the HTTP Server is listening. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00241">HttpServer.cpp:241</a></div></div>
<div class="ttc" id="class_http_request_html_ada6a0b548a6a104d1e94b17f6c96d5fe"><div class="ttname"><a href="class_http_request.html#ada6a0b548a6a104d1e94b17f6c96d5fe">HttpRequest::isWebsocket</a></div><div class="ttdeci">bool isWebsocket()</div><div class="ttdoc">Determine if this request represents a WebSocket. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00294">HttpRequest.cpp:294</a></div></div>
<div class="ttc" id="class_file_system_html_aac9e04e4ec84a9edbf43fe0577d77305"><div class="ttname"><a href="class_file_system.html#aac9e04e4ec84a9edbf43fe0577d77305">FileSystem::isDirectory</a></div><div class="ttdeci">static bool isDirectory(std::string path)</div><div class="ttdoc">Does the path refer to a directory? </div><div class="ttdef"><b>Definition:</b> <a href="_file_system_8cpp_source.html#l00085">FileSystem.cpp:85</a></div></div>
<div class="ttc" id="class_task_html"><div class="ttname"><a href="class_task.html">Task</a></div><div class="ttdoc">Encapsulate a runnable task. </div><div class="ttdef"><b>Definition:</b> <a href="_task_8h_source.html#l00034">Task.h:34</a></div></div>
<div class="ttc" id="class_path_handler_html_a5a50a3baba682292270f79b3a435cc4c"><div class="ttname"><a href="class_path_handler.html#a5a50a3baba682292270f79b3a435cc4c">PathHandler::match</a></div><div class="ttdeci">bool match(std::string method, std::string path)</div><div class="ttdoc">Determine if the path matches. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00472">HttpServer.cpp:472</a></div></div>
<div class="ttc" id="class_http_server_html_a3cc3306861979ff7b3b2c03500780072"><div class="ttname"><a href="class_http_server.html#a3cc3306861979ff7b3b2c03500780072">HttpServer::HttpServerTask</a></div><div class="ttdeci">friend class HttpServerTask</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8h_source.html#l00090">HttpServer.h:90</a></div></div>
<div class="ttc" id="class_http_response_html"><div class="ttname"><a href="class_http_response.html">HttpResponse</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00016">HttpResponse.h:16</a></div></div>
<div class="ttc" id="class_general_utils_html_ade237631b5595e2426f9e86fc6e38932"><div class="ttname"><a href="class_general_utils.html#ade237631b5595e2426f9e86fc6e38932">GeneralUtils::endsWith</a></div><div class="ttdeci">static bool endsWith(std::string str, char c)</div><div class="ttdoc">Does the string end with a specific character? </div><div class="ttdef"><b>Definition:</b> <a href="_general_utils_8cpp_source.html#l00126">GeneralUtils.cpp:126</a></div></div>
<div class="ttc" id="class_socket_html_a3f749d9a206e48a875e8c24f29500a93"><div class="ttname"><a href="class_socket.html#a3f749d9a206e48a875e8c24f29500a93">Socket::accept</a></div><div class="ttdeci">Socket accept()</div><div class="ttdoc">Accept a new socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00057">Socket.cpp:57</a></div></div>
<div class="ttc" id="_http_request_8h_html"><div class="ttname"><a href="_http_request_8h.html">HttpRequest.h</a></div></div>
<div class="ttc" id="ftp-ssl-ccc-mode_8d_html_ac4f4031531425afe8fbe576a1e1d1642"><div class="ttname"><a href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a></div><div class="ttdeci">Long but instead wait for the server to do it</div><div class="ttdef"><b>Definition:</b> <a href="ftp-ssl-ccc-mode_8d_source.html#l00008">ftp-ssl-ccc-mode.d:8</a></div></div>
<div class="ttc" id="class_http_request_html_a970869c3e73fb4cf6758793e5fa27471"><div class="ttname"><a href="class_http_request.html#a970869c3e73fb4cf6758793e5fa27471">HttpRequest::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Close the HttpRequest. </div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8cpp_source.html#l00148">HttpRequest.cpp:148</a></div></div>
<div class="ttc" id="class_http_server_html_ad3d17b4df0252445a2ed4f0f8ea06201"><div class="ttname"><a href="class_http_server.html#ad3d17b4df0252445a2ed4f0f8ea06201">HttpServer::getSSL</a></div><div class="ttdeci">bool getSSL()</div><div class="ttdoc">Return whether or not we are using SSL. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00259">HttpServer.cpp:259</a></div></div>
<div class="ttc" id="class_http_response_html_a68bc032812a96326d9fe4fde668a372b"><div class="ttname"><a href="class_http_response.html#a68bc032812a96326d9fe4fde668a372b">HttpResponse::sendData</a></div><div class="ttdeci">void sendData(std::string data)</div><div class="ttdoc">Send data to the partner. Send some data to the partner. If we haven&amp;#39;t yet sent the HTTP header then ...</div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00088">HttpResponse.cpp:88</a></div></div>
<div class="ttc" id="class_socket_html_a893bb9a6107d2139cfb088f0c82ac5ae"><div class="ttname"><a href="class_socket.html#a893bb9a6107d2139cfb088f0c82ac5ae">Socket::listen</a></div><div class="ttdeci">int listen(uint16_t port, bool isDatagram=false, bool reuseAddress=false)</div><div class="ttdoc">Create a listening socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00259">Socket.cpp:259</a></div></div>
<div class="ttc" id="_http_server_8h_html"><div class="ttname"><a href="_http_server_8h.html">HttpServer.h</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a67fa9bf777be48332a30154e006827fd"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">FreeRTOS::Semaphore::take</a></div><div class="ttdeci">bool take(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Take a semaphore. Take a semaphore and wait indefinitely. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00159">FreeRTOS.cpp:159</a></div></div>
<div class="ttc" id="class_http_server_html_aab1f060cbbaaeaa2b75f812e866e6ff0"><div class="ttname"><a href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">HttpServer::setDirectoryListing</a></div><div class="ttdeci">void setDirectoryListing(bool use)</div><div class="ttdoc">Set whether or not we will list directories. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00337">HttpServer.cpp:337</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="class_http_response_html_af13a61ae987f15599232fa30d2cfdeab"><div class="ttname"><a href="class_http_response.html#af13a61ae987f15599232fa30d2cfdeab">HttpResponse::setStatus</a></div><div class="ttdeci">void setStatus(int status, std::string message)</div><div class="ttdoc">Set the status code that is to be sent back to the client. When a client makes a request, the response contains a status. This call sets the status that will be sent back to the client. </div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8cpp_source.html#l00179">HttpResponse.cpp:179</a></div></div>
<div class="ttc" id="util_8c_html_a3b02c6de5c049804444a246f7fdf46b4"><div class="ttname"><a href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00194">util.c:194</a></div></div>
<div class="ttc" id="class_http_server_task_html_af0e407e558eab01c2fd459a98cd20579"><div class="ttname"><a href="class_http_server_task.html#af0e407e558eab01c2fd459a98cd20579">HttpServerTask::HttpServerTask</a></div><div class="ttdeci">HttpServerTask(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00055">HttpServer.cpp:55</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_http_server_8cpp.html">HttpServer.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
