<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/lib/telnet.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('components_2curl_2lib_2telnet_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">telnet.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="components_2curl_2lib_2telnet_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *                                  _   _ ____  _</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Project                     ___| | | |  _ \| |</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                             / __| | | | |_) | |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                            | (__| |_| |  _ &lt;| |___</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                             \___|\___/|_| \_\_____|</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 1998 - 2018, Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This software is licensed as described in the file COPYING, which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * you should have received as part of this distribution. The terms</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * are also available at https://curl.haxx.se/docs/copyright.html.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You may opt to use, copy, modify, merge, publish, distribute and/or sell</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * copies of the Software, and permit persons to whom the Software is</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * furnished to do so, under the terms of the COPYING file.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * KIND, either express or implied.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__setup_8h.html">curl_setup.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_TELNET</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#ifdef HAVE_NETINET_IN_H</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef HAVE_NETDB_H</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#ifdef HAVE_ARPA_INET_H</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#ifdef HAVE_NET_IF_H</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;net/if.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_IOCTL_H</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_PARAM_H</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;sys/param.h&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="urldata_8h.html">urldata.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="curl_8h.html">curl/curl.h</a>&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transfer_8h.html">transfer.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sendf_8h.html">sendf.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="components_2curl_2lib_2telnet_8h.html">telnet.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="connect_8h.html">connect.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="progress_8h.html">progress.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="system__win32_8h.html">system_win32.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="arpa__telnet_8h.html">arpa_telnet.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="select_8h.html">select.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strcase_8h.html">strcase.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="warnless_8h.html">warnless.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/* The last 3 #include files should be in this order */</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__printf_8h.html">curl_printf.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__memory_8h.html">curl_memory.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memdebug_8h.html">memdebug.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a9c7dafa74b2f6a55fb929ab8098f4f0a">   65</a></span>&#160;<span class="preprocessor">#define SUBBUFSIZE 512</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a1b63bc7b0654d86e3ccf9089e7271b11">   67</a></span>&#160;<span class="preprocessor">#define CURL_SB_CLEAR(x)  x-&gt;subpointer = x-&gt;subbuffer</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#add51e60c582bb442bd3aff5560db78fd">   68</a></span>&#160;<span class="preprocessor">#define CURL_SB_TERM(x)                                 \</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">  do {                                                  \</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">    x-&gt;subend = x-&gt;subpointer;                          \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">    CURL_SB_CLEAR(x);                                   \</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">  } WHILE_FALSE</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">   73</a></span>&#160;<span class="preprocessor">#define CURL_SB_ACCUM(x,c)                                      \</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">  do {                                                          \</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">    if(x-&gt;subpointer &lt; (x-&gt;subbuffer + sizeof(x-&gt;subbuffer)))   \</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">      *x-&gt;subpointer++ = (c);                                   \</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">  } WHILE_FALSE</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a20a6affdf317c9505e9f361d5ded3df4">   79</a></span>&#160;<span class="preprocessor">#define  CURL_SB_GET(x) ((*x-&gt;subpointer++)&amp;0xff)</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a334c5c603073f8a9dc36b61a8cfb13e5">   80</a></span>&#160;<span class="preprocessor">#define  CURL_SB_LEN(x) (x-&gt;subend - x-&gt;subpointer)</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/* For posterity:</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">#define  CURL_SB_PEEK(x) ((*x-&gt;subpointer)&amp;0xff)</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">#define  CURL_SB_EOF(x) (x-&gt;subpointer &gt;= x-&gt;subend) */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef CURL_DISABLE_VERBOSE_STRINGS</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#define printoption(a,b,c,d)  Curl_nop_stmt</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifdef USE_WINSOCK</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">typedef</span> WSAEVENT (WINAPI *WSOCK2_EVENT)(void);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">typedef</span> FARPROC WSOCK2_FUNC;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> check_wsock2(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telrcv(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *inbuf, <span class="comment">/* Data received from socket */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> count);             <span class="comment">/* Number of bytes received */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_VERBOSE_STRINGS</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> printoption(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *direction,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                        <span class="keywordtype">int</span> cmd, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> negotiate(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> send_negotiation(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *, <span class="keywordtype">int</span> cmd, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> set_local_option(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                             <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>, <span class="keywordtype">int</span> newstate);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> set_remote_option(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                              <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>, <span class="keywordtype">int</span> newstate);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> printsub(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                     <span class="keywordtype">int</span> direction, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pointer,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                     <span class="keywordtype">size_t</span> length);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> suboption(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> sendsuboption(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telnet_do(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">bool</span> *<a class="code" href="struct_curl__handler.html#ac77e1b77c701181a1ba5e58922504524">done</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telnet_done(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                 <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a>, <span class="keywordtype">bool</span> premature);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> send_telnet_data(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                 <span class="keywordtype">char</span> *<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>, <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> nread);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/* For negotiation compliant to RFC 1143 */</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">  127</a></span>&#160;<span class="preprocessor">#define CURL_NO          0</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">  128</a></span>&#160;<span class="preprocessor">#define CURL_YES         1</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">  129</a></span>&#160;<span class="preprocessor">#define CURL_WANTYES     2</span></div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">  130</a></span>&#160;<span class="preprocessor">#define CURL_WANTNO      3</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">  132</a></span>&#160;<span class="preprocessor">#define CURL_EMPTY       0</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">  133</a></span>&#160;<span class="preprocessor">#define CURL_OPPOSITE    1</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> * Telnet receiver states for fsm</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747d">  138</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">  140</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a> = 0,</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">  141</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">CURL_TS_IAC</a>,</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d">  142</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d">CURL_TS_WILL</a>,</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842">  143</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842">CURL_TS_WONT</a>,</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139">  144</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139">CURL_TS_DO</a>,</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de">  145</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de">CURL_TS_DONT</a>,</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714">  146</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714">CURL_TS_CR</a>,</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">  147</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">CURL_TS_SB</a>,   <span class="comment">/* sub-option collection */</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf">  148</a></span>&#160;   <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf">CURL_TS_SE</a>   <span class="comment">/* looking for sub-option end */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;} <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747d">TelnetReceive</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html">  151</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> {</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">  152</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a>;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">  153</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">already_negotiated</a>;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">  154</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[256];</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">  155</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[256];</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">  156</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[256];</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">  157</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[256];</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">  158</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[256];</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">  159</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[256];</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">  160</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">subnegotiation</a>[256];</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">  161</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">subopt_ttype</a>[32];             <span class="comment">/* Set with suboption TTYPE */</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">  162</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">subopt_xdisploc</a>[128];         <span class="comment">/* Set with suboption XDISPLOC */</span></div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a234ad674a0e08053efced01147629d45">  163</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="struct_t_e_l_n_e_t.html#a234ad674a0e08053efced01147629d45">subopt_wsx</a>;         <span class="comment">/* Set with suboption NAWS */</span></div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a9caeb5ed20bced40f4600f2abdb69867">  164</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="struct_t_e_l_n_e_t.html#a9caeb5ed20bced40f4600f2abdb69867">subopt_wsy</a>;         <span class="comment">/* Set with suboption NAWS */</span></div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">  165</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>;    <span class="comment">/* Environment variables */</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">/* suboptions */</span></div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">  168</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a>[<a class="code" href="components_2curl_2lib_2telnet_8c.html#a9c7dafa74b2f6a55fb929ab8098f4f0a">SUBBUFSIZE</a>];</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#af1fd233ab5cf9c917edece2f522d6db8">  169</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct_t_e_l_n_e_t.html#af1fd233ab5cf9c917edece2f522d6db8">subpointer</a>, *<a class="code" href="struct_t_e_l_n_e_t.html#a63fd0d575469c39b28a669d1a6b1c7c8">subend</a>;      <span class="comment">/* buffer for sub-options */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">  171</a></span>&#160;  <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747d">TelnetReceive</a> <a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;};</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * TELNET protocol handler.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="components_2curl_2lib_2telnet_8h.html#a218d1b371584dc032bc046ed14af2ca3">  179</a></span>&#160;<span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a218d1b371584dc032bc046ed14af2ca3">Curl_handler_telnet</a> = {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="stringliteral">&quot;TELNET&quot;</span>,                             <span class="comment">/* scheme */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* setup_connection */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  telnet_do,                            <span class="comment">/* do_it */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  telnet_done,                          <span class="comment">/* done */</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* do_more */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connect_it */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connecting */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* doing */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* proto_getsock */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* doing_getsock */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* domore_getsock */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* perform_getsock */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* disconnect */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* readwrite */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connection_check */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="urldata_8h.html#a1b44acf701916f9a491b700a0c8ba7d3">PORT_TELNET</a>,                          <span class="comment">/* defport */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="curl_8h.html#ab3bdc6e04b3b3af7d40f0719e2f66bf2">CURLPROTO_TELNET</a>,                     <span class="comment">/* protocol */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="urldata_8h.html#a06e40f8f1e2219fb5b519c74715c3537">PROTOPT_NONE</a> | <a class="code" href="urldata_8h.html#a93a3791fdbb761285b636725fed39385">PROTOPT_NOURLQUERY</a>     <span class="comment">/* flags */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;};</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#ifdef USE_WINSOCK</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;check_wsock2(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  WORD wVersionRequested;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  WSADATA wsaData;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">/* telnet requires at least WinSock 2.0 so ask for it. */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  wVersionRequested = MAKEWORD(2, 0);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  err = WSAStartup(wVersionRequested, &amp;wsaData);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">/* We must&#39;ve called this once already, so this call */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">/* should always succeed.  But, just in case... */</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span>(err != 0) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>,<span class="stringliteral">&quot;WSAStartup failed (%d)&quot;</span>,err);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">/* We have to have a WSACleanup call for every successful */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">/* WSAStartup call. */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  WSACleanup();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">/* Check that our version is supported */</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span>(LOBYTE(wsaData.wVersion) != LOBYTE(wVersionRequested) ||</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      HIBYTE(wsaData.wVersion) != HIBYTE(wVersionRequested)) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="comment">/* Our version isn&#39;t supported */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;insufficient winsock version to support &quot;</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          <span class="stringliteral">&quot;telnet&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">/* Our version is supported */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> init_telnet(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  tn = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a>));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span>(!tn)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a> = tn; <span class="comment">/* make us known */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">/* Init suboptions */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1b63bc7b0654d86e3ccf9089e7271b11">CURL_SB_CLEAR</a>(tn);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">/* Set the options we want by default */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a88724d7c45ef187f844a542b2e573e06">CURL_TELOPT_SGA</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a88724d7c45ef187f844a542b2e573e06">CURL_TELOPT_SGA</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">/* To be compliant with previous releases of libcurl</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">     we enable this option by default. This behaviour</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">         can be changed thanks to the &quot;BINARY&quot; option in</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">         CURLOPT_TELNETOPTIONS</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a4b0ce4f37b09e6cc294dce4209c1efda">CURL_TELOPT_BINARY</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a4b0ce4f37b09e6cc294dce4209c1efda">CURL_TELOPT_BINARY</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">/* We must allow the server to echo what we sent</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">         but it is not necessary to request the server</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">         to do so (it might forces the server to close</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">         the connection). Hence, we ignore ECHO in the</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">         negotiate function</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="arpa__telnet_8h.html#ab4f0284df63b7e14629616f42a379fc4">CURL_TELOPT_ECHO</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">/* Set the subnegotiation fields to send information</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    just after negotiation passed (do/will)</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     Default values are (0,0) initialized by calloc.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     According to the RFC1013 it is valid:</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">     A value equal to zero is acceptable for the width (or height),</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">         and means that no character width (or height) is being sent.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">         In this case, the width (or height) that will be assumed by the</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">         Telnet server is operating system specific (it will probably be</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">         based upon the terminal type information that may have been sent</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">         using the TERMINAL TYPE Telnet option). */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">subnegotiation</a>[<a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> negotiate(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *) conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; <a class="code" href="arpa__telnet_8h.html#ad63be31a2c43cecf14bfdfd1ac3a0eec">CURL_NTELOPTS</a>; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> == <a class="code" href="arpa__telnet_8h.html#ab4f0284df63b7e14629616f42a379fc4">CURL_TELOPT_ECHO</a>)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      set_local_option(conn, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>, <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      set_remote_option(conn, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>, <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_VERBOSE_STRINGS</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> printoption(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *direction, <span class="keywordtype">int</span> cmd, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.verbose) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span>(cmd == <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#af514342a152ff6ae49ab5a53af75ee2e">CURL_TELCMD_OK</a>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>))</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s IAC %s\n&quot;</span>, direction, <a class="code" href="arpa__telnet_8h.html#a7cb6ec237331dfde56d9ac5fc1d2e468">CURL_TELCMD</a>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s IAC %d\n&quot;</span>, direction, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt = (cmd == <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>) ? <span class="stringliteral">&quot;WILL&quot;</span> :</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        (cmd == <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>) ? <span class="stringliteral">&quot;WONT&quot;</span> :</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        (cmd == <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>) ? <span class="stringliteral">&quot;DO&quot;</span> :</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        (cmd == <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>) ? <span class="stringliteral">&quot;DONT&quot;</span> : 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span>(fmt) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *opt;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#a57c561b1387d79637637b8997451682d">CURL_TELOPT_OK</a>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>))</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          opt = <a class="code" href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a> == <a class="code" href="arpa__telnet_8h.html#a28c4ffef30d3d3d81a5436b1237d7f85">CURL_TELOPT_EXOPL</a>)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          opt = <span class="stringliteral">&quot;EXOPL&quot;</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          opt = NULL;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span>(opt)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s %s %s\n&quot;</span>, direction, fmt, opt);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s %s %d\n&quot;</span>, direction, fmt, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s %d %d\n&quot;</span>, direction, cmd, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> send_negotiation(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> cmd, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>[3];</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> bytes_written;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>[0] = <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>[1] = (<span class="keywordtype">unsigned</span> char)cmd;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>[2] = (<span class="keywordtype">unsigned</span> char)<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, 3);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;     <span class="keywordtype">int</span> err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;     <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>,<span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>,err);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   printoption(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, <span class="stringliteral">&quot;SENT&quot;</span>, cmd, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keywordtype">void</span> set_remote_option(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>, <span class="keywordtype">int</span> newstate)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span>(newstate == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">/* Already enabled */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">/* Already negotiating for CURL_YES, queue the request */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">/* Error: already queued an enable request */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">/* Error: already negotiating for enable */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">else</span> { <span class="comment">/* NO */</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="comment">/* Already disabled */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">/* Already negotiating for NO */</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="keywordtype">void</span> rec_will(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">/* Already enabled */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">/* Error: DONT answered by WILL */</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="comment">/* Error: DONT answered by WILL */</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keywordtype">void</span> rec_wont(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">/* Already disabled */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">him</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;set_local_option(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>, <span class="keywordtype">int</span> newstate)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;{</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">if</span>(newstate == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="comment">/* Already enabled */</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment">/* Already negotiating for CURL_YES, queue the request */</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">/* Error: already queued an enable request */</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment">/* Error: already negotiating for enable */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">else</span> { <span class="comment">/* NO */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="comment">/* Already disabled */</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="comment">/* Already negotiating for NO */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="keywordtype">void</span> rec_do(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">subnegotiation</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="comment">/* transmission of data option */</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        sendsuboption(conn, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">subnegotiation</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="comment">/* send information to achieve this option*/</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      sendsuboption(conn, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">/* Already enabled */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="comment">/* Error: DONT answered by WILL */</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">/* Error: DONT answered by WILL */</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">subnegotiation</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] == <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">/* transmission of data option */</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        sendsuboption(conn, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">himq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="keywordtype">void</span> rec_dont(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>:</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">/* Already disabled */</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>:</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a>:</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      send_negotiation(conn, <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>, <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a>:</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>]) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>:</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a>:</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">us</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">usq</a>[<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> printsub(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                     <span class="keywordtype">int</span> direction,             <span class="comment">/* &#39;&lt;&#39; or &#39;&gt;&#39; */</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pointer,    <span class="comment">/* where suboption data is */</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                     <span class="keywordtype">size_t</span> length)             <span class="comment">/* length of suboption data */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.verbose) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span>(direction) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s IAC SB &quot;</span>, (direction == <span class="charliteral">&#39;&lt;&#39;</span>)? <span class="stringliteral">&quot;RCVD&quot;</span>:<span class="stringliteral">&quot;SENT&quot;</span>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">if</span>(length &gt;= 3) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = pointer[length-2];</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = pointer[length-1];</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> != <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a> || <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> != <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;(terminated by &quot;</span>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#a57c561b1387d79637637b8997451682d">CURL_TELOPT_OK</a>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>))</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s &quot;</span>, <a class="code" href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>));</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#af514342a152ff6ae49ab5a53af75ee2e">CURL_TELCMD_OK</a>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>))</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s &quot;</span>, <a class="code" href="arpa__telnet_8h.html#a7cb6ec237331dfde56d9ac5fc1d2e468">CURL_TELCMD</a>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>));</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%u &quot;</span>, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#a57c561b1387d79637637b8997451682d">CURL_TELOPT_OK</a>(<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>))</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a>(<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>));</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#af514342a152ff6ae49ab5a53af75ee2e">CURL_TELCMD_OK</a>(<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>))</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a7cb6ec237331dfde56d9ac5fc1d2e468">CURL_TELCMD</a>(<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;, not IAC SE!) &quot;</span>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      length -= 2;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span>(length &lt; 1) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;(Empty suboption?)&quot;</span>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="arpa__telnet_8h.html#a57c561b1387d79637637b8997451682d">CURL_TELOPT_OK</a>(pointer[0])) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">switch</span>(pointer[0]) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a>:</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a>:</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>:</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>:</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a>(pointer[0]));</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%s (unsupported)&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a>(pointer[0]));</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%d (unknown)&quot;</span>, pointer[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>]);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">switch</span>(pointer[0]) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">if</span>(length &gt; 4)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Width: %d ; Height: %d&quot;</span>, (pointer[1]&lt;&lt;8) | pointer[2],</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;              (pointer[3]&lt;&lt;8) | pointer[4]);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">switch</span>(pointer[1]) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a>:</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; IS&quot;</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a885e8566f5e53f56b3e32b7d2b6c3c1a">CURL_TELQUAL_SEND</a>:</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; SEND&quot;</span>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a8764c45be21ba9e3c8d2edec51dc33d1">CURL_TELQUAL_INFO</a>:</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; INFO/REPLY&quot;</span>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a36e508f874d22813ccb54d2d18fbac07">CURL_TELQUAL_NAME</a>:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; NAME&quot;</span>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">switch</span>(pointer[0]) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a>:</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a>:</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        pointer[length] = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; \&quot;%s\&quot;&quot;</span>, &amp;pointer[2]);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>:</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">if</span>(pointer[1] == <a class="code" href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a>) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 3; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; length; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="keywordflow">switch</span>(pointer[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>]) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a7983d3f8efd06310f55844218dcf9f2a">CURL_NEW_ENV_VAR</a>:</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;              <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;, &quot;</span>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a1899daca468219897f3a15a9fbe088a5">CURL_NEW_ENV_VALUE</a>:</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;              <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; = &quot;</span>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;              <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;%c&quot;</span>, pointer[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>]);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 2; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; length; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++)</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot; %.2x&quot;</span>, pointer[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>]);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span>(direction)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;}</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> check_telnet_options(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *<a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *beg;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordtype">char</span> option_keyword[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">char</span> option_arg[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordtype">int</span> binary_option;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">/* Add the user name as an environment variable if it</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">     was given on the command line */</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a>) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>(option_arg, <span class="keyword">sizeof</span>(option_arg), <span class="stringliteral">&quot;USER,%s&quot;</span>, conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    beg = <a class="code" href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>, option_arg);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span>(!beg) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a> = NULL;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a> = beg;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a> = <a class="code" href="structdata.html">data</a>-&gt;set.telnet_options; <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>; <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a> = <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>-&gt;next) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span>(sscanf(<a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>-&gt;data, <span class="stringliteral">&quot;%127[^= ]%*[ =]%255s&quot;</span>,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;              option_keyword, option_arg) == 2) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="comment">/* Terminal type */</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(option_keyword, <span class="stringliteral">&quot;TTYPE&quot;</span>)) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        strncpy(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">subopt_ttype</a>, option_arg, 31);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">subopt_ttype</a>[31] = 0; <span class="comment">/* String termination */</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">/* Display variable */</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(option_keyword, <span class="stringliteral">&quot;XDISPLOC&quot;</span>)) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        strncpy(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">subopt_xdisploc</a>, option_arg, 127);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">subopt_xdisploc</a>[127] = 0; <span class="comment">/* String termination */</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="comment">/* Environment variable */</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(option_keyword, <span class="stringliteral">&quot;NEW_ENV&quot;</span>)) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        beg = <a class="code" href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>, option_arg);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">if</span>(!beg) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a> = beg;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="comment">/* Window Size */</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(option_keyword, <span class="stringliteral">&quot;WS&quot;</span>)) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span>(sscanf(option_arg, <span class="stringliteral">&quot;%hu%*[xX]%hu&quot;</span>,</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                  &amp;tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a234ad674a0e08053efced01147629d45">subopt_wsx</a>, &amp;tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a9caeb5ed20bced40f4600f2abdb69867">subopt_wsy</a>) == 2)</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Syntax error in telnet option: %s&quot;</span>, <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>-&gt;data);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac82a57d4aac86f52a6f04f15e4547f44">CURLE_TELNET_OPTION_SYNTAX</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="comment">/* To take care or not of the 8th bit in data exchange */</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(option_keyword, <span class="stringliteral">&quot;BINARY&quot;</span>)) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        binary_option = atoi(option_arg);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">if</span>(binary_option != 1) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">us_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a4b0ce4f37b09e6cc294dce4209c1efda">CURL_TELOPT_BINARY</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">him_preferred</a>[<a class="code" href="arpa__telnet_8h.html#a4b0ce4f37b09e6cc294dce4209c1efda">CURL_TELOPT_BINARY</a>] = <a class="code" href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Unknown telnet option %s&quot;</span>, <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>-&gt;data);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951abf7638d198de39a72f5594dad2655bbe">CURLE_UNKNOWN_OPTION</a>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Syntax error in telnet option: %s&quot;</span>, <a class="code" href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a>-&gt;data);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac82a57d4aac86f52a6f04f15e4547f44">CURLE_TELNET_OPTION_SYNTAX</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a> = NULL;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"> * suboption()</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * Look at the sub-option buffer, and try to be helpful to the other</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> * side.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> suboption(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *v;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[2048];</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> bytes_written;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordtype">char</span> varname[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordtype">char</span> varval[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)<a class="code" href="structdata.html">data</a>-&gt;req.protop;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  printsub(<a class="code" href="structdata.html">data</a>, <span class="charliteral">&#39;&lt;&#39;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a>, <a class="code" href="components_2curl_2lib_2telnet_8c.html#a334c5c603073f8a9dc36b61a8cfb13e5">CURL_SB_LEN</a>(tn) + 2);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="components_2curl_2lib_2telnet_8c.html#a20a6affdf317c9505e9f361d5ded3df4">CURL_SB_GET</a>(tn)) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a>:</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = strlen(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">subopt_ttype</a>) + 4 + 2;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>((<span class="keywordtype">char</span> *)<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>),</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="stringliteral">&quot;%c%c%c%c%s%c%c&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a>, <a class="code" href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a>,</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                <a class="code" href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a>, tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">subopt_ttype</a>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], <a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>,<span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>,err);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      printsub(<a class="code" href="structdata.html">data</a>, <span class="charliteral">&#39;&gt;&#39;</span>, &amp;<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[2], <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-2);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a>:</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = strlen(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">subopt_xdisploc</a>) + 4 + 2;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>((<span class="keywordtype">char</span> *)<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>),</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <span class="stringliteral">&quot;%c%c%c%c%s%c%c&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a>, <a class="code" href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a>,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <a class="code" href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a>, tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">subopt_xdisploc</a>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], <a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>,<span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>,err);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      printsub(<a class="code" href="structdata.html">data</a>, <span class="charliteral">&#39;&gt;&#39;</span>, &amp;<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[2], <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-2);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>:</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>((<span class="keywordtype">char</span> *)<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>),</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <span class="stringliteral">&quot;%c%c%c%c&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a>, <a class="code" href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a>,</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <a class="code" href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = 4;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">for</span>(v = tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>; v; v = v-&gt;<a class="code" href="structcurl__slist.html#a56fcfc41d89a47865933c310d316a108">next</a>) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordtype">size_t</span> tmplen = (strlen(v-&gt;<a class="code" href="structcurl__slist.html#a5fe4d926491a1c9b8b9a73c40505f601">data</a>) + 1);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">/* Add the variable only if it fits */</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> + tmplen &lt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>)-6) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          <span class="keywordflow">if</span>(sscanf(v-&gt;<a class="code" href="structcurl__slist.html#a5fe4d926491a1c9b8b9a73c40505f601">data</a>, <span class="stringliteral">&quot;%127[^,],%127s&quot;</span>, varname, varval)) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>((<span class="keywordtype">char</span> *)&amp;<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>], <span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>) - <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>,</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                      <span class="stringliteral">&quot;%c%s%c%s&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a7983d3f8efd06310f55844218dcf9f2a">CURL_NEW_ENV_VAR</a>, varname,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                      <a class="code" href="arpa__telnet_8h.html#a1899daca468219897f3a15a9fbe088a5">CURL_NEW_ENV_VALUE</a>, varval);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> += tmplen;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;          }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>((<span class="keywordtype">char</span> *)&amp;<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>], <span class="keyword">sizeof</span>(<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>) - <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>,</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="stringliteral">&quot;%c%c&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> += 2;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], <a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>,<span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>,err);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      }</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      printsub(<a class="code" href="structdata.html">data</a>, <span class="charliteral">&#39;&gt;&#39;</span>, &amp;<a class="code" href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a>[2], <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-2);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"> * sendsuboption()</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"> * Send suboption information to the server side.</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> sendsuboption(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> <a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>)</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> bytes_written;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordtype">int</span> err;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="ignore-content-length_8d.html#a06bf02a476389246deac1e3c53ee7e18">x</a>, y;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *uc1, *uc2;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)<a class="code" href="structdata.html">data</a>-&gt;req.protop;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a>) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>:</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">/* We prepare data to be sent */</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1b63bc7b0654d86e3ccf9089e7271b11">CURL_SB_CLEAR</a>(tn);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a>);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">/* We must deal either with little or big endian processors */</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">/* Window size must be sent according to the &#39;network order&#39; */</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="ignore-content-length_8d.html#a06bf02a476389246deac1e3c53ee7e18">x</a> = htons(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a234ad674a0e08053efced01147629d45">subopt_wsx</a>);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    y = htons(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a9caeb5ed20bced40f4600f2abdb69867">subopt_wsy</a>);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    uc1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;<a class="code" href="ignore-content-length_8d.html#a06bf02a476389246deac1e3c53ee7e18">x</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    uc2 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;y;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, uc1[0]);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, uc1[1]);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, uc2[0]);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, uc2[1]);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="components_2curl_2lib_2telnet_8c.html#add51e60c582bb442bd3aff5560db78fd">CURL_SB_TERM</a>(tn);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">/* data suboption is now ready */</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    printsub(<a class="code" href="structdata.html">data</a>, <span class="charliteral">&#39;&gt;&#39;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a> + 2,</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;             <a class="code" href="components_2curl_2lib_2telnet_8c.html#a334c5c603073f8a9dc36b61a8cfb13e5">CURL_SB_LEN</a>(tn)-2);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">/* we send the header of the suboption... */</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a>, 3);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>, err);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">/* ... then the window size with the send_telnet_data() function</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">       to deal with 0xFF cases ... */</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    send_telnet_data(conn, (<span class="keywordtype">char</span> *)tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a> + 3, 4);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">/* ... and the footer */</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    bytes_written = swrite(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>], tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">subbuffer</a> + 7, 2);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span>(bytes_written &lt; 0) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Sending data failed (%d)&quot;</span>, err);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telrcv(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *inbuf, <span class="comment">/* Data received from socket */</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> count)              <span class="comment">/* Number of bytes received */</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;{</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a> = 0;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordtype">int</span> startwrite = -1;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)<a class="code" href="structdata.html">data</a>-&gt;req.protop;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;#define <a class="code" href="components_2curl_2lib_2telnet_8c.html#a27c0c130cdfc625407e31357219114a5">startskipping</a>()                                       \</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  if(startwrite &gt;= 0) {                                       \</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    result = <a class="code" href="sendf_8c.html#ad59954133649b7538b387f940b86024f">Curl_client_write</a>(conn,                          \</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                               <a class="code" href="sendf_8h.html#aae18389dfefc98a5057629f6a46fd78f">CLIENTWRITE_BODY</a>,              \</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                               (<span class="keywordtype">char</span> *)&amp;inbuf[startwrite],    \</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                               <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>-startwrite);                \</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    if(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)                                                \</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      return <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;                                          \</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  }                                                           \</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  startwrite = -1</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="preprocessor">#define writebyte() \</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="preprocessor">    if(startwrite &lt; 0) \</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">      startwrite = in</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="preprocessor">#define bufferflush() startskipping()</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">while</span>(count--) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    c = inbuf[<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>];</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">switch</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a>) {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714">CURL_TS_CR</a>:</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="components_2curl_2lib_2telnet_8c.html#a27c0c130cdfc625407e31357219114a5">startskipping</a>();</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">break</span>;   <span class="comment">/* Ignore \0 after CR */</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="components_2curl_2lib_2telnet_8c.html#a5faa3a2e86967618cded1404c5f2f26c">writebyte</a>();</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>:</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span>(c == <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>) {</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">CURL_TS_IAC</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <a class="code" href="components_2curl_2lib_2telnet_8c.html#a27c0c130cdfc625407e31357219114a5">startskipping</a>();</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;\r&#39;</span>)</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714">CURL_TS_CR</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <a class="code" href="components_2curl_2lib_2telnet_8c.html#a5faa3a2e86967618cded1404c5f2f26c">writebyte</a>();</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">CURL_TS_IAC</a>:</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    process_iac:</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(startwrite &lt; 0);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">switch</span>(c) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>:</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d">CURL_TS_WILL</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>:</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842">CURL_TS_WONT</a>;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>:</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139">CURL_TS_DO</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>:</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de">CURL_TS_DONT</a>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a>:</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1b63bc7b0654d86e3ccf9089e7271b11">CURL_SB_CLEAR</a>(tn);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">CURL_TS_SB</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>:</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <a class="code" href="components_2curl_2lib_2telnet_8c.html#a5faa3a2e86967618cded1404c5f2f26c">writebyte</a>();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a2020d0efaf0383abd9a44169bb259781">CURL_DM</a>:</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a766e050cfb347b7062daeea39cbd088c">CURL_NOP</a>:</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="arpa__telnet_8h.html#a5a84ca34e4ca329ff1b71cd4372bb996">CURL_GA</a>:</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, c);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d">CURL_TS_WILL</a>:</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a>, c);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> = 1;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        rec_will(conn, c);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842">CURL_TS_WONT</a>:</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a>, c);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> = 1;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        rec_wont(conn, c);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139">CURL_TS_DO</a>:</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a>, c);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> = 1;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        rec_do(conn, c);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de">CURL_TS_DONT</a>:</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a>, c);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> = 1;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        rec_dont(conn, c);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">CURL_TS_SB</a>:</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span>(c == <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>)</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf">CURL_TS_SE</a>;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;          <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, c);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf">CURL_TS_SE</a>:</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">if</span>(c != <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>) {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;          <span class="keywordflow">if</span>(c != <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">             * This is an error.  We only expect to get &quot;IAC IAC&quot; or &quot;IAC SE&quot;.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">             * Several things may have happened.  An IAC was not doubled, the</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">             * IAC SE was left off, or another option got inserted into the</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">             * suboption are all possibilities.  If we assume that the IAC was</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">             * not doubled, and really the IAC SE was left off, we could get</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">             * into an infinite loop here.  So, instead, we terminate the</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">             * suboption, and process the partial suboption if we can.</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, c);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#af1fd233ab5cf9c917edece2f522d6db8">subpointer</a> -= 2;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            <a class="code" href="components_2curl_2lib_2telnet_8c.html#add51e60c582bb442bd3aff5560db78fd">CURL_SB_TERM</a>(tn);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            printoption(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;In SUBOPTION processing, RCVD&quot;</span>, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>, c);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            suboption(conn);   <span class="comment">/* handle sub-option */</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">CURL_TS_IAC</a>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="keywordflow">goto</span> process_iac;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;          }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;          <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, c);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">CURL_TS_SB</a>;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;          <a class="code" href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a>(tn, <a class="code" href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#af1fd233ab5cf9c917edece2f522d6db8">subpointer</a> -= 2;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          <a class="code" href="components_2curl_2lib_2telnet_8c.html#add51e60c582bb442bd3aff5560db78fd">CURL_SB_TERM</a>(tn);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          suboption(conn);   <span class="comment">/* handle sub-option */</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">telrcv_state</a> = <a class="code" href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a>;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        }</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    ++<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="components_2curl_2lib_2telnet_8c.html#a4b00784bf638825b32cd1cd816befd79">bufferflush</a>();</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">/* Escape and send a telnet data block */</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> send_telnet_data(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                 <span class="keywordtype">char</span> *<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>, <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> nread)</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> escapes, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>, outlen;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *outbuf = NULL;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> bytes_written, total_written;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">/* Determine size of new buffer after escaping */</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  escapes = 0;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; nread; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>] == <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>)</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      escapes++;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  outlen = nread + escapes;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">if</span>(outlen == nread)</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    outbuf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    outbuf = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(nread + escapes + 1);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">if</span>(!outbuf)</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; nread; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      outbuf[<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++] = <a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>];</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>] == <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>)</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        outbuf[<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++] = <a class="code" href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    outbuf[<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  }</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  total_written = 0;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">while</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> &amp;&amp; total_written &lt; outlen) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="comment">/* Make sure socket is writable to avoid EWOULDBLOCK condition */</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpollfd.html">pollfd</a> pfd[1];</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    pfd[0].<a class="code" href="structpollfd.html#aafd0192880c9fdbcdc559b47c9fbb9b4">fd</a> = conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>];</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    pfd[0].events = <a class="code" href="select_8h.html#a91b3c67129ac7675062f316b840a0d58">POLLOUT</a>;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="select_8c.html#ae71a741eee93be102e4bf9083953a8b2">Curl_poll</a>(pfd, 1, -1)) {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keywordflow">case</span> -1:                    <span class="comment">/* error, abort writing */</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">case</span> 0:                     <span class="comment">/* timeout (will never happen) */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a9e0c77963cb42831dba8d5ee1840e80b">CURLE_SEND_ERROR</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="keywordflow">default</span>:                    <span class="comment">/* write! */</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        bytes_written = 0;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="sendf_8c.html#a6d7b9f1e0b64c65b824a115d0b00b5a2">Curl_write</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>],</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                            outbuf + total_written,</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                            outlen - total_written,</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                            &amp;bytes_written);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        total_written += bytes_written;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">/* Free malloc copy if escaped */</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">if</span>(outbuf != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>)</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(outbuf);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;}</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telnet_done(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                                 <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> status, <span class="keywordtype">bool</span> premature)</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;{</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  (<span class="keywordtype">void</span>)status; <span class="comment">/* unused */</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  (void)premature; <span class="comment">/* not used */</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">if</span>(!tn)</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a>);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">telnet_vars</a> = NULL;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">req</a>.<a class="code" href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">protop</a>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;}</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> telnet_do(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">bool</span> *done)</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;{</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sockfd = conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>];</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor">#ifdef USE_WINSOCK</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  HMODULE wsock2;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  WSOCK2_FUNC close_event_func;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  WSOCK2_EVENT create_event_func;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  WSOCK2_FUNC event_select_func;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  WSOCK2_FUNC enum_netevents_func;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  WSAEVENT event_handle;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  WSANETWORKEVENTS events;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  HANDLE stdin_handle;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  HANDLE objs[2];</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  DWORD  obj_count;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  DWORD  wait_timeout;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  DWORD readfile_read;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordtype">int</span> err;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keywordtype">int</span> interval_ms;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keyword">struct </span><a class="code" href="structpollfd.html">pollfd</a> pfd[2];</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordtype">int</span> poll_cnt;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> total_dl = 0;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> total_ul = 0;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> nread;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurltime.html">curltime</a> <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordtype">bool</span> keepon = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a> = <a class="code" href="structdata.html">data</a>-&gt;state.buffer;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *tn;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  *done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* unconditionally */</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = init_telnet(conn);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  tn = (<span class="keyword">struct </span><a class="code" href="struct_t_e_l_n_e_t.html">TELNET</a> *)<a class="code" href="structdata.html">data</a>-&gt;req.protop;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = check_telnet_options(conn);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="preprocessor">#ifdef USE_WINSOCK</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">  ** This functionality only works with WinSock &gt;= 2.0.  So,</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">  ** make sure we have it.</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = check_wsock2(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">/* OK, so we have WinSock 2.0.  We need to dynamically */</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">/* load ws2_32.dll and get the function pointers we need. */</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  wsock2 = Curl_load_library(TEXT(<span class="stringliteral">&quot;WS2_32.DLL&quot;</span>));</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span>(wsock2 == NULL) {</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;failed to load WS2_32.DLL (%u)&quot;</span>, GetLastError());</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">/* Grab a pointer to WSACreateEvent */</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  create_event_func =</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="warnless_8h.html#a4c7691aa0abf9311c5f54ebf7b2fc1e2">CURLX_FUNCTION_CAST</a>(WSOCK2_EVENT,</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                        (GetProcAddress(wsock2, <span class="stringliteral">&quot;WSACreateEvent&quot;</span>)));</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span>(create_event_func == NULL) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;failed to find WSACreateEvent function (%u)&quot;</span>, GetLastError());</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">/* And WSACloseEvent */</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  close_event_func = GetProcAddress(wsock2, <span class="stringliteral">&quot;WSACloseEvent&quot;</span>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span>(close_event_func == NULL) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;failed to find WSACloseEvent function (%u)&quot;</span>, GetLastError());</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  }</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">/* And WSAEventSelect */</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  event_select_func = GetProcAddress(wsock2, <span class="stringliteral">&quot;WSAEventSelect&quot;</span>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keywordflow">if</span>(event_select_func == NULL) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;failed to find WSAEventSelect function (%u)&quot;</span>, GetLastError());</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">/* And WSAEnumNetworkEvents */</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  enum_netevents_func = GetProcAddress(wsock2, <span class="stringliteral">&quot;WSAEnumNetworkEvents&quot;</span>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">if</span>(enum_netevents_func == NULL) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;failed to find WSAEnumNetworkEvents function (%u)&quot;</span>,</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          GetLastError());</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">/* We want to wait for both stdin and the socket. Since</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">  ** the select() function in winsock only works on sockets</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">  ** we have to use the WaitForMultipleObjects() call.</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">/* First, create a sockets event object */</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  event_handle = (WSAEVENT)create_event_func();</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="keywordflow">if</span>(event_handle == WSA_INVALID_EVENT) {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;WSACreateEvent failed (%d)&quot;</span>, <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">/* Tell winsock what events we want to listen to */</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">if</span>(event_select_func(sockfd, event_handle, FD_READ|FD_CLOSE) ==</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;     <a class="code" href="transport_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a>) {</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    close_event_func(event_handle);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    FreeLibrary(wsock2);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  }</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">/* The get the Windows file handle for stdin */</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  stdin_handle = GetStdHandle(STD_INPUT_HANDLE);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">/* Create the list of objects to wait for */</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  objs[0] = event_handle;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  objs[1] = stdin_handle;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">/* If stdin_handle is a pipe, use PeekNamedPipe() method to check it,</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">     else use the old WaitForMultipleObjects() way */</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordflow">if</span>(GetFileType(stdin_handle) == FILE_TYPE_PIPE ||</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;     <a class="code" href="structdata.html">data</a>-&gt;set.is_fread_set) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">/* Don&#39;t wait for stdin_handle, just wait for event_handle */</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    obj_count = 1;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="comment">/* Check stdin_handle per 100 milliseconds */</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    wait_timeout = 100;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    obj_count = 2;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    wait_timeout = 1000;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">/* Keep on listening and act on events */</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">while</span>(keepon) {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keyword">const</span> DWORD buf_size = (DWORD)<a class="code" href="structdata.html">data</a>-&gt;set.buffer_size;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    DWORD waitret = WaitForMultipleObjects(obj_count, objs,</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                           <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, wait_timeout);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">switch</span>(waitret) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">case</span> WAIT_TIMEOUT:</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">for</span>(;;) {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.is_fread_set) {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;          <span class="keywordtype">size_t</span> <a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a>;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;          <span class="comment">/* read from user-supplied method */</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;          <a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a> = <a class="code" href="structdata.html">data</a>-&gt;state.fread_func(<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, 1, buf_size, <a class="code" href="structdata.html">data</a>-&gt;state.in);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a> == <a class="code" href="curl_8h.html#a37f72557bd7b33a75cb3c3ab165e357e">CURL_READFUNC_ABORT</a>) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;          }</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a> == <a class="code" href="curl_8h.html#a8a6431fcced5944dec01685f14de2540">CURL_READFUNC_PAUSE</a>)</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a> == 0)                        <span class="comment">/* no bytes */</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;          <span class="comment">/* fall through with number of bytes read */</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;          readfile_read = (DWORD)<a class="code" href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a>;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          <span class="comment">/* read from stdin */</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;          <span class="keywordflow">if</span>(!PeekNamedPipe(stdin_handle, NULL, 0, NULL,</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                            &amp;readfile_read, NULL)) {</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;          }</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;          <span class="keywordflow">if</span>(!readfile_read)</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;          <span class="keywordflow">if</span>(!ReadFile(stdin_handle, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, buf_size,</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                       &amp;readfile_read, NULL)) {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;          }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        }</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = send_telnet_data(conn, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, readfile_read);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">case</span> WAIT_OBJECT_0 + 1:</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="keywordflow">if</span>(!ReadFile(stdin_handle, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, buf_size,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                   &amp;readfile_read, NULL)) {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      }</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = send_telnet_data(conn, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, readfile_read);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">case</span> WAIT_OBJECT_0:</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      events.lNetworkEvents = 0;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="transport_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a> == enum_netevents_func(sockfd, event_handle, &amp;events)) {</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        err = <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">if</span>(err != EINPROGRESS) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;WSAEnumNetworkEvents failed (%d)&quot;</span>, err);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;          <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      }</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keywordflow">if</span>(events.lNetworkEvents &amp; FD_READ) {</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="comment">/* read data from network */</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="sendf_8c.html#a828e2a7d5a11a7682d78140d6a5cba63">Curl_read</a>(conn, sockfd, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, <a class="code" href="structdata.html">data</a>-&gt;set.buffer_size, &amp;nread);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="comment">/* read would&#39;ve blocked. Loop again */</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> == <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a8527394a7d1a590228373b95f55a61a7">CURLE_AGAIN</a>)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="comment">/* returned not-zero, this an error */</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        }</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="comment">/* returned zero but actually received 0 or less here,</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">           the server closed the connection and we bail out */</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nread &lt;= 0) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = telrcv(conn, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, nread);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        }</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="comment">/* Negotiate if the peer has started negotiating,</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">           otherwise don&#39;t. We don&#39;t want to speak telnet with</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">           non-telnet servers, like POP or SMTP. */</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> &amp;&amp; !tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">already_negotiated</a>) {</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          negotiate(conn);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">already_negotiated</a> = 1;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordflow">if</span>(events.lNetworkEvents &amp; FD_CLOSE) {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.timeout) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a>(<a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>, conn-&gt;<a class="code" href="structconnectdata.html#a08faf7d2e790fe1b1c424466292b3ca2">created</a>) &gt;= <a class="code" href="structdata.html">data</a>-&gt;set.timeout) {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Time-out&quot;</span>);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      }</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">/* We called WSACreateEvent, so call WSACloseEvent */</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span>(!close_event_func(event_handle)) {</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;WSACloseEvent failed (%d)&quot;</span>, <a class="code" href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a>);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">/* &quot;Forget&quot; pointers into the library we&#39;re about to free */</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  create_event_func = NULL;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  close_event_func = NULL;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  event_select_func = NULL;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  enum_netevents_func = NULL;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="comment">/* We called LoadLibrary, so call FreeLibrary */</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="keywordflow">if</span>(!FreeLibrary(wsock2))</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;FreeLibrary(wsock2) failed (%u)&quot;</span>, GetLastError());</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  pfd[0].fd = sockfd;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  pfd[0].events = <a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.is_fread_set) {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    poll_cnt = 1;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    interval_ms = 100; <span class="comment">/* poll user-supplied read function */</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">/* really using fread, so infile is a FILE* */</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    pfd[1].fd = <a class="code" href="curl__setup_8h.html#af86fa14728c9bad5418a6d29cad9f9ff">fileno</a>((<a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *)<a class="code" href="structdata.html">data</a>-&gt;state.in);</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    pfd[1].events = <a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    poll_cnt = 2;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    interval_ms = 1 * 1000;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">while</span>(keepon) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="select_8c.html#ae71a741eee93be102e4bf9083953a8b2">Curl_poll</a>(pfd, poll_cnt, interval_ms)) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">case</span> -1:                    <span class="comment">/* error, stop reading */</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="keywordflow">case</span> 0:                     <span class="comment">/* timeout */</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      pfd[0].revents = 0;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      pfd[1].revents = 0;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="comment">/* FALLTHROUGH */</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">default</span>:                    <span class="comment">/* read! */</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="keywordflow">if</span>(pfd[0].revents &amp; <a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>) {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="comment">/* read data from network */</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="sendf_8c.html#a828e2a7d5a11a7682d78140d6a5cba63">Curl_read</a>(conn, sockfd, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, <a class="code" href="structdata.html">data</a>-&gt;set.buffer_size, &amp;nread);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="comment">/* read would&#39;ve blocked. Loop again */</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> == <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a8527394a7d1a590228373b95f55a61a7">CURLE_AGAIN</a>)</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="comment">/* returned not-zero, this an error */</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="comment">/* returned zero but actually received 0 or less here,</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">           the server closed the connection and we bail out */</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nread &lt;= 0) {</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        }</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        total_dl += nread;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <a class="code" href="progress_8c.html#afd65889574fb7bde6ffcec48b0d8debb">Curl_pgrsSetDownloadCounter</a>(<a class="code" href="structdata.html">data</a>, total_dl);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = telrcv(conn, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, nread);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="comment">/* Negotiate if the peer has started negotiating,</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">           otherwise don&#39;t. We don&#39;t want to speak telnet with</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">           non-telnet servers, like POP or SMTP. */</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">if</span>(tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">please_negotiate</a> &amp;&amp; !tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">already_negotiated</a>) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;          negotiate(conn);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;          tn-&gt;<a class="code" href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">already_negotiated</a> = 1;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      }</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      nread = 0;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordflow">if</span>(poll_cnt == 2) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span>(pfd[1].revents &amp; <a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>) { <span class="comment">/* read from in file */</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;          nread = read(pfd[1].fd, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, <a class="code" href="structdata.html">data</a>-&gt;set.buffer_size);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        }</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="comment">/* read from user-supplied method */</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        nread = (int)<a class="code" href="structdata.html">data</a>-&gt;state.fread_func(<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, 1, <a class="code" href="structdata.html">data</a>-&gt;set.buffer_size,</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                            <a class="code" href="structdata.html">data</a>-&gt;state.in);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">if</span>(nread == <a class="code" href="curl_8h.html#a37f72557bd7b33a75cb3c3ab165e357e">CURL_READFUNC_ABORT</a>) {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        }</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="keywordflow">if</span>(nread == <a class="code" href="curl_8h.html#a8a6431fcced5944dec01685f14de2540">CURL_READFUNC_PAUSE</a>)</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <span class="keywordflow">if</span>(nread &gt; 0) {</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = send_telnet_data(conn, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, nread);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;          keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        }</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        total_ul += nread;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="progress_8c.html#a9458c724bbe21e16b9abf8f696a3916a">Curl_pgrsSetUploadCounter</a>(<a class="code" href="structdata.html">data</a>, total_ul);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      }</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nread &lt; 0)</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    } <span class="comment">/* poll switch statement */</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.timeout) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a>(<a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>, conn-&gt;<a class="code" href="structconnectdata.html#a08faf7d2e790fe1b1c424466292b3ca2">created</a>) &gt;= <a class="code" href="structdata.html">data</a>-&gt;set.timeout) {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Time-out&quot;</span>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        keepon = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="progress_8c.html#a40686d443707afea0c0e47cee805df01">Curl_pgrsUpdate</a>(conn)) {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b">CURLE_ABORTED_BY_CALLBACK</a>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">/* mark this as &quot;no further transfer wanted&quot; */</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="transfer_8c.html#a8ccd1948f2a90c90b6fd1ac993e44a32">Curl_setup_transfer</a>(conn, -1, -1, <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, NULL, -1, NULL);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="arpa__telnet_8h_html_a766e050cfb347b7062daeea39cbd088c"><div class="ttname"><a href="arpa__telnet_8h.html#a766e050cfb347b7062daeea39cbd088c">CURL_NOP</a></div><div class="ttdeci">#define CURL_NOP</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00071">arpa_telnet.h:71</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00130">curl_memory.h:130</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00498">curl.h:498</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_af514342a152ff6ae49ab5a53af75ee2e"><div class="ttname"><a href="arpa__telnet_8h.html#af514342a152ff6ae49ab5a53af75ee2e">CURL_TELCMD_OK</a></div><div class="ttdeci">#define CURL_TELCMD_OK(x)</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00102">arpa_telnet.h:102</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ae5f0519321ae13644f7db9facaff248a"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ae5f0519321ae13644f7db9facaff248a">TELNET::subbuffer</a></div><div class="ttdeci">unsigned char subbuffer[SUBBUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00168">telnet.c:168</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a63fd0d575469c39b28a669d1a6b1c7c8"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a63fd0d575469c39b28a669d1a6b1c7c8">TELNET::subend</a></div><div class="ttdeci">unsigned char * subend</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00169">telnet.c:169</a></div></div>
<div class="ttc" id="sendf_8h_html_aae18389dfefc98a5057629f6a46fd78f"><div class="ttname"><a href="sendf_8h.html#aae18389dfefc98a5057629f6a46fd78f">CLIENTWRITE_BODY</a></div><div class="ttdeci">#define CLIENTWRITE_BODY</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00050">sendf.h:50</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a234ad674a0e08053efced01147629d45"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a234ad674a0e08053efced01147629d45">TELNET::subopt_wsx</a></div><div class="ttdeci">unsigned short subopt_wsx</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00163">telnet.c:163</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a7cb6ec237331dfde56d9ac5fc1d2e468"><div class="ttname"><a href="arpa__telnet_8h.html#a7cb6ec237331dfde56d9ac5fc1d2e468">CURL_TELCMD</a></div><div class="ttdeci">#define CURL_TELCMD(x)</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00104">arpa_telnet.h:104</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a88724d7c45ef187f844a542b2e573e06"><div class="ttname"><a href="arpa__telnet_8h.html#a88724d7c45ef187f844a542b2e573e06">CURL_TELOPT_SGA</a></div><div class="ttdeci">#define CURL_TELOPT_SGA</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00030">arpa_telnet.h:30</a></div></div>
<div class="ttc" id="urldata_8h_html_a1b44acf701916f9a491b700a0c8ba7d3"><div class="ttname"><a href="urldata_8h.html#a1b44acf701916f9a491b700a0c8ba7d3">PORT_TELNET</a></div><div class="ttdeci">#define PORT_TELNET</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00031">urldata.h:31</a></div></div>
<div class="ttc" id="structconnectdata_html_a9312f162d29fe7f59bc2b5dbeda85d9d"><div class="ttname"><a href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">connectdata::bits</a></div><div class="ttdeci">struct ConnectBits bits</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00894">urldata.h:894</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_af1fd233ab5cf9c917edece2f522d6db8"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#af1fd233ab5cf9c917edece2f522d6db8">TELNET::subpointer</a></div><div class="ttdeci">unsigned char * subpointer</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00169">telnet.c:169</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ac82a57d4aac86f52a6f04f15e4547f44"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ac82a57d4aac86f52a6f04f15e4547f44">CURLE_TELNET_OPTION_SYNTAX</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00519">curl.h:519</a></div></div>
<div class="ttc" id="struct_curl__easy_html"><div class="ttname"><a href="struct_curl__easy.html">Curl_easy</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01755">urldata.h:1755</a></div></div>
<div class="ttc" id="ignore-content-length_8d_html_a06bf02a476389246deac1e3c53ee7e18"><div class="ttname"><a href="ignore-content-length_8d.html#a06bf02a476389246deac1e3c53ee7e18">x</a></div><div class="ttdeci">Long Ignore the Content Length header.This is particularly useful for servers running Apache. x</div><div class="ttdef"><b>Definition:</b> <a href="ignore-content-length_8d_source.html#l00005">ignore-content-length.d:5</a></div></div>
<div class="ttc" id="strcase_8h_html"><div class="ttname"><a href="strcase_8h.html">strcase.h</a></div></div>
<div class="ttc" id="progress_8c_html_a9458c724bbe21e16b9abf8f696a3916a"><div class="ttname"><a href="progress_8c.html#a9458c724bbe21e16b9abf8f696a3916a">Curl_pgrsSetUploadCounter</a></div><div class="ttdeci">void Curl_pgrsSetUploadCounter(struct Curl_easy *data, curl_off_t size)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00336">progress.c:336</a></div></div>
<div class="ttc" id="structcurl__slist_html"><div class="ttname"><a href="structcurl__slist.html">curl_slist</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02394">curl.h:2394</a></div></div>
<div class="ttc" id="transport_8c_html_a633b0396ff93d336a088412a190a5072"><div class="ttname"><a href="transport_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a></div><div class="ttdeci">#define SOCKET_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="transport_8c_source.html#l00022">transport.c:22</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a20a6affdf317c9505e9f361d5ded3df4"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a20a6affdf317c9505e9f361d5ded3df4">CURL_SB_GET</a></div><div class="ttdeci">#define CURL_SB_GET(x)</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00079">telnet.c:79</a></div></div>
<div class="ttc" id="urldata_8h_html_a56b23efdd8d04b0179b52224a251bcb7"><div class="ttname"><a href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a></div><div class="ttdeci">#define FIRSTSOCKET</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00480">urldata.h:480</a></div></div>
<div class="ttc" id="urldata_8h_html_a93a3791fdbb761285b636725fed39385"><div class="ttname"><a href="urldata_8h.html#a93a3791fdbb761285b636725fed39385">PROTOPT_NOURLQUERY</a></div><div class="ttdeci">#define PROTOPT_NOURLQUERY</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00717">urldata.h:717</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a9caeb5ed20bced40f4600f2abdb69867"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a9caeb5ed20bced40f4600f2abdb69867">TELNET::subopt_wsy</a></div><div class="ttdeci">unsigned short subopt_wsy</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00164">telnet.c:164</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a28c4ffef30d3d3d81a5436b1237d7f85"><div class="ttname"><a href="arpa__telnet_8h.html#a28c4ffef30d3d3d81a5436b1237d7f85">CURL_TELOPT_EXOPL</a></div><div class="ttdeci">#define CURL_TELOPT_EXOPL</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00031">arpa_telnet.h:31</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a4b00784bf638825b32cd1cd816befd79"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a4b00784bf638825b32cd1cd816befd79">bufferflush</a></div><div class="ttdeci">#define bufferflush()</div></div>
<div class="ttc" id="struct_curl__handler_html"><div class="ttname"><a href="struct_curl__handler.html">Curl_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00628">urldata.h:628</a></div></div>
<div class="ttc" id="connect_8h_html"><div class="ttname"><a href="connect_8h.html">connect.h</a></div></div>
<div class="ttc" id="sendf_8h_html_ae8e06000059e436c9c404603126718d6"><div class="ttname"><a href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a></div><div class="ttdeci">#define failf</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00048">sendf.h:48</a></div></div>
<div class="ttc" id="structcurl__slist_html_a5fe4d926491a1c9b8b9a73c40505f601"><div class="ttname"><a href="structcurl__slist.html#a5fe4d926491a1c9b8b9a73c40505f601">curl_slist::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02395">curl.h:2395</a></div></div>
<div class="ttc" id="sendf_8h_html"><div class="ttname"><a href="sendf_8h.html">sendf.h</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a5a84ca34e4ca329ff1b71cd4372bb996"><div class="ttname"><a href="arpa__telnet_8h.html#a5a84ca34e4ca329ff1b71cd4372bb996">CURL_GA</a></div><div class="ttdeci">#define CURL_GA</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00073">arpa_telnet.h:73</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_af9cf1bc5edbe4eec056fe773c09d234e"><div class="ttname"><a href="curl__setup__once_8h.html#af9cf1bc5edbe4eec056fe773c09d234e">SOCKERRNO</a></div><div class="ttdeci">#define SOCKERRNO</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00414">curl_setup_once.h:414</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_a23d7b88872d6ead46c978b567908d587"><div class="ttname"><a href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a></div><div class="ttdeci">#define DEBUGASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00401">curl_setup_once.h:401</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="ttdeci">CURLcode</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00457">curl.h:457</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_ab4f0284df63b7e14629616f42a379fc4"><div class="ttname"><a href="arpa__telnet_8h.html#ab4f0284df63b7e14629616f42a379fc4">CURL_TELOPT_ECHO</a></div><div class="ttdeci">#define CURL_TELOPT_ECHO</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00029">arpa_telnet.h:29</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ad6bef8d59735d256bc945c6342f20b7e"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ad6bef8d59735d256bc945c6342f20b7e">TELNET::us</a></div><div class="ttdeci">int us[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00154">telnet.c:154</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a9e0c77963cb42831dba8d5ee1840e80b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a9e0c77963cb42831dba8d5ee1840e80b">CURLE_SEND_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00526">curl.h:526</a></div></div>
<div class="ttc" id="unit1399_8c_html_acf1e931ffa73126ce876102dc2186895"><div class="ttname"><a href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a></div><div class="ttdeci">struct curltime now</div><div class="ttdef"><b>Definition:</b> <a href="unit1399_8c_source.html#l00083">unit1399.c:83</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a8527394a7d1a590228373b95f55a61a7"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a8527394a7d1a590228373b95f55a61a7">CURLE_AGAIN</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00564">curl.h:564</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ac6b29573392a7cf59bf522b378399ad9"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ac6b29573392a7cf59bf522b378399ad9">TELNET::subopt_ttype</a></div><div class="ttdeci">char subopt_ttype[32]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00161">telnet.c:161</a></div></div>
<div class="ttc" id="select_8h_html_a91b3c67129ac7675062f316b840a0d58"><div class="ttname"><a href="select_8h.html#a91b3c67129ac7675062f316b840a0d58">POLLOUT</a></div><div class="ttdeci">#define POLLOUT</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00044">select.h:44</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8h_html"><div class="ttname"><a href="components_2curl_2lib_2telnet_8h.html">telnet.h</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a4b0ce4f37b09e6cc294dce4209c1efda"><div class="ttname"><a href="arpa__telnet_8h.html#a4b0ce4f37b09e6cc294dce4209c1efda">CURL_TELOPT_BINARY</a></div><div class="ttdeci">#define CURL_TELOPT_BINARY</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00028">arpa_telnet.h:28</a></div></div>
<div class="ttc" id="curl_8h_html"><div class="ttname"><a href="curl_8h.html">curl.h</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_adc8d7428a4d350fc8e6e325c2306d8d9"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#adc8d7428a4d350fc8e6e325c2306d8d9">TELNET::subopt_xdisploc</a></div><div class="ttdeci">char subopt_xdisploc[128]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00162">telnet.c:162</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a7e8bc31e181579bf2e6d408129fff4d6"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a7e8bc31e181579bf2e6d408129fff4d6">TELNET::please_negotiate</a></div><div class="ttdeci">int please_negotiate</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00152">telnet.c:152</a></div></div>
<div class="ttc" id="strcase_8h_html_a4b6a8324b9a93ddfa5413308a22bfa44"><div class="ttname"><a href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a></div><div class="ttdeci">#define strcasecompare(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8h_source.html#l00035">strcase.h:35</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a2eb0b03d1a9de9615a291b1205969069"><div class="ttname"><a href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a></div><div class="ttdeci">#define malloc(size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00124">curl_memory.h:124</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a435b94559a0e4ef8242690f2c232fb27"><div class="ttname"><a href="arpa__telnet_8h.html#a435b94559a0e4ef8242690f2c232fb27">CURL_DO</a></div><div class="ttdeci">#define CURL_DO</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00077">arpa_telnet.h:77</a></div></div>
<div class="ttc" id="unit1304_8c_html_a937d4dd628a8858b443a399410d2600b"><div class="ttname"><a href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a></div><div class="ttdeci">UNITTEST_START int result</div><div class="ttdef"><b>Definition:</b> <a href="unit1304_8c_source.html#l00049">unit1304.c:49</a></div></div>
<div class="ttc" id="smooth-gtk-thread_8c_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="smooth-gtk-thread_8c_source.html#l00047">smooth-gtk-thread.c:47</a></div></div>
<div class="ttc" id="unit1308_8c_html_a70a830d3039f37216dde9bcf2460aec2"><div class="ttname"><a href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a></div><div class="ttdeci">char buffer[]</div><div class="ttdef"><b>Definition:</b> <a href="unit1308_8c_source.html#l00048">unit1308.c:48</a></div></div>
<div class="ttc" id="structconnectdata_html_a08faf7d2e790fe1b1c424466292b3ca2"><div class="ttname"><a href="structconnectdata.html#a08faf7d2e790fe1b1c424466292b3ca2">connectdata::created</a></div><div class="ttdeci">struct curltime created</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00873">urldata.h:873</a></div></div>
<div class="ttc" id="components_2curl_2include_2curl_2_system_8h_html_a494e2b4279dc064f7ed1d0abd602b28d"><div class="ttname"><a href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a></div><div class="ttdeci">CURL_TYPEOF_CURL_OFF_T curl_off_t</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2include_2curl_2_system_8h_source.html#l00442">system.h:442</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="structpollfd_html_aafd0192880c9fdbcdc559b47c9fbb9b4"><div class="ttname"><a href="structpollfd.html#aafd0192880c9fdbcdc559b47c9fbb9b4">pollfd::fd</a></div><div class="ttdeci">curl_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00051">select.h:51</a></div></div>
<div class="ttc" id="curl__sasl_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="curl__sasl_8c_source.html#l00055">curl_sasl.c:55</a></div></div>
<div class="ttc" id="timeval_8c_html_ae736e803680e1b7fa2b2868317b4b91f"><div class="ttname"><a href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a></div><div class="ttdeci">struct curltime Curl_now(void)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00154">timeval.c:154</a></div></div>
<div class="ttc" id="curl__printf_8h_html"><div class="ttname"><a href="curl__printf_8h.html">curl_printf.h</a></div></div>
<div class="ttc" id="progress_8c_html_a40686d443707afea0c0e47cee805df01"><div class="ttname"><a href="progress_8c.html#a40686d443707afea0c0e47cee805df01">Curl_pgrsUpdate</a></div><div class="ttdeci">int Curl_pgrsUpdate(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00369">progress.c:369</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00492">curl.h:492</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a93d2225809ebd9ef7e2a21796775e48f"><div class="ttname"><a href="arpa__telnet_8h.html#a93d2225809ebd9ef7e2a21796775e48f">CURL_WILL</a></div><div class="ttdeci">#define CURL_WILL</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00075">arpa_telnet.h:75</a></div></div>
<div class="ttc" id="struct_curl__handler_html_ac77e1b77c701181a1ba5e58922504524"><div class="ttname"><a href="struct_curl__handler.html#ac77e1b77c701181a1ba5e58922504524">Curl_handler::done</a></div><div class="ttdeci">Curl_done_func done</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00636">urldata.h:636</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00493">curl.h:493</a></div></div>
<div class="ttc" id="curlx_8c_html_af6458f5d187f1d7c82fb9ea7ef634b44"><div class="ttname"><a href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a></div><div class="ttdeci">#define ZERO_NULL</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00131">curlx.c:131</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ae31ddcec6b60d55a69447cce29a3a5cd"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ae31ddcec6b60d55a69447cce29a3a5cd">TELNET::himq</a></div><div class="ttdeci">int himq[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00158">telnet.c:158</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_abaacf5d9e12dd3d2345f422c5522e4cd"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#abaacf5d9e12dd3d2345f422c5522e4cd">TELNET::him</a></div><div class="ttdeci">int him[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00157">telnet.c:157</a></div></div>
<div class="ttc" id="struct_curl__easy_html_a8a13221afd448ab0b91f021b4f5ec7c7"><div class="ttname"><a href="struct_curl__easy.html#a8a13221afd448ab0b91f021b4f5ec7c7">Curl_easy::req</a></div><div class="ttdeci">struct SingleRequest req</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01787">urldata.h:1787</a></div></div>
<div class="ttc" id="progress_8h_html"><div class="ttname"><a href="progress_8h.html">progress.h</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_aca853a8a46e53866ee50c0d1e140f252"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#aca853a8a46e53866ee50c0d1e140f252">CURL_NO</a></div><div class="ttdeci">#define CURL_NO</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00127">telnet.c:127</a></div></div>
<div class="ttc" id="transfer_8c_html_a8ccd1948f2a90c90b6fd1ac993e44a32"><div class="ttname"><a href="transfer_8c.html#a8ccd1948f2a90c90b6fd1ac993e44a32">Curl_setup_transfer</a></div><div class="ttdeci">void Curl_setup_transfer(struct connectdata *conn, int sockindex, curl_off_t size, bool getheader, curl_off_t *bytecountp, int writesockindex, curl_off_t *writecountp)</div><div class="ttdef"><b>Definition:</b> <a href="transfer_8c_source.html#l01743">transfer.c:1743</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00327">curl_setup_once.h:327</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dae53967cd1916475ef7e51b1d47570714">CURL_TS_CR</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00146">telnet.c:146</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a3d1b241c9179fcfbc27c399813c4e2c2"><div class="ttname"><a href="arpa__telnet_8h.html#a3d1b241c9179fcfbc27c399813c4e2c2">CURL_TELOPT</a></div><div class="ttdeci">#define CURL_TELOPT(x)</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00062">arpa_telnet.h:62</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da0b1d6b026e845f402c68a483b897cc27">CURL_TS_IAC</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00141">telnet.c:141</a></div></div>
<div class="ttc" id="config_8d_html_a9fb4830d0cbef7d3cf48425ce59f580a"><div class="ttname"><a href="config_8d.html#a9fb4830d0cbef7d3cf48425ce59f580a">n</a></div><div class="ttdeci">Long separated by or the equals sign.Long option names can optionally be given in the config file without the initial double dashes and if the colon or equals characters can be used as separators.If the option is specified with one or two there can be no colon or equals character between the option and its parameter.If the parameter is to contain the parameter must be enclosed within quotes.Within double the following escape sequences are n</div><div class="ttdef"><b>Definition:</b> <a href="config_8d_source.html#l00011">config.d:11</a></div></div>
<div class="ttc" id="create-dirs_8d_html_a80cfb6b82f50850fe3824288a2e3a40c"><div class="ttname"><a href="create-dirs_8d.html#a80cfb6b82f50850fe3824288a2e3a40c">option</a></div><div class="ttdeci">Long curl will create the necessary local directory hierarchy as needed.This option creates the dirs mentioned with the output option</div><div class="ttdef"><b>Definition:</b> <a href="create-dirs_8d_source.html#l00004">create-dirs.d:4</a></div></div>
<div class="ttc" id="structcurl__slist_html_a56fcfc41d89a47865933c310d316a108"><div class="ttname"><a href="structcurl__slist.html#a56fcfc41d89a47865933c310d316a108">curl_slist::next</a></div><div class="ttdeci">struct curl_slist * next</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02396">curl.h:2396</a></div></div>
<div class="ttc" id="curl_8h_html_a7ea20d9a213c806f82446bed893f423f"><div class="ttname"><a href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a></div><div class="ttdeci">CURL_EXTERN struct curl_slist * curl_slist_append(struct curl_slist *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00089">slist.c:89</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a18f4a5d1c3d22d2410669da58b274b48"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a18f4a5d1c3d22d2410669da58b274b48">TELNET::already_negotiated</a></div><div class="ttdeci">int already_negotiated</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00153">telnet.c:153</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a1b63bc7b0654d86e3ccf9089e7271b11"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a1b63bc7b0654d86e3ccf9089e7271b11">CURL_SB_CLEAR</a></div><div class="ttdeci">#define CURL_SB_CLEAR(x)</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00067">telnet.c:67</a></div></div>
<div class="ttc" id="select_8h_html"><div class="ttname"><a href="select_8h.html">select.h</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a6c0b693edabe1c64aab7e3f273e35435"><div class="ttname"><a href="arpa__telnet_8h.html#a6c0b693edabe1c64aab7e3f273e35435">CURL_WONT</a></div><div class="ttdeci">#define CURL_WONT</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00076">arpa_telnet.h:76</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a1899daca468219897f3a15a9fbe088a5"><div class="ttname"><a href="arpa__telnet_8h.html#a1899daca468219897f3a15a9fbe088a5">CURL_NEW_ENV_VALUE</a></div><div class="ttdeci">#define CURL_NEW_ENV_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00038">arpa_telnet.h:38</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b">CURLE_ABORTED_BY_CALLBACK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00512">curl.h:512</a></div></div>
<div class="ttc" id="system__win32_8h_html"><div class="ttname"><a href="system__win32_8h.html">system_win32.h</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_aa6a128a0bc48b16693a071abde40303e"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#aa6a128a0bc48b16693a071abde40303e">TELNET::usq</a></div><div class="ttdeci">int usq[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00155">telnet.c:155</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da1fc624eea5e2589099c78df165394842">CURL_TS_WONT</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00143">telnet.c:143</a></div></div>
<div class="ttc" id="structpollfd_html"><div class="ttname"><a href="structpollfd.html">pollfd</a></div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00049">select.h:49</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a9c7dafa74b2f6a55fb929ab8098f4f0a"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a9c7dafa74b2f6a55fb929ab8098f4f0a">SUBBUFSIZE</a></div><div class="ttdeci">#define SUBBUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00065">telnet.c:65</a></div></div>
<div class="ttc" id="sendf_8c_html_a6d7b9f1e0b64c65b824a115d0b00b5a2"><div class="ttname"><a href="sendf_8c.html#a6d7b9f1e0b64c65b824a115d0b00b5a2">Curl_write</a></div><div class="ttdeci">CURLcode Curl_write(struct connectdata *conn, curl_socket_t sockfd, const void *mem, size_t len, ssize_t *written)</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8c_source.html#l00338">sendf.c:338</a></div></div>
<div class="ttc" id="structcurltime_html"><div class="ttname"><a href="structcurltime.html">curltime</a></div><div class="ttdef"><b>Definition:</b> <a href="timeval_8h_source.html#l00033">timeval.h:33</a></div></div>
<div class="ttc" id="curl__memory_8h_html"><div class="ttname"><a href="curl__memory_8h.html">curl_memory.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00458">curl.h:458</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a5dd711526114fda192297a4888efcc35"><div class="ttname"><a href="arpa__telnet_8h.html#a5dd711526114fda192297a4888efcc35">CURL_TELQUAL_IS</a></div><div class="ttdeci">#define CURL_TELQUAL_IS</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00097">arpa_telnet.h:97</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a3806a4ea62a78980df9cb190a8c3b8d3"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a3806a4ea62a78980df9cb190a8c3b8d3">CURL_OPPOSITE</a></div><div class="ttdeci">#define CURL_OPPOSITE</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00133">telnet.c:133</a></div></div>
<div class="ttc" id="curl_8h_html_ab3bdc6e04b3b3af7d40f0719e2f66bf2"><div class="ttname"><a href="curl_8h.html#ab3bdc6e04b3b3af7d40f0719e2f66bf2">CURLPROTO_TELNET</a></div><div class="ttdeci">#define CURLPROTO_TELNET</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00871">curl.h:871</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a7983d3f8efd06310f55844218dcf9f2a"><div class="ttname"><a href="arpa__telnet_8h.html#a7983d3f8efd06310f55844218dcf9f2a">CURL_NEW_ENV_VAR</a></div><div class="ttdeci">#define CURL_NEW_ENV_VAR</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00037">arpa_telnet.h:37</a></div></div>
<div class="ttc" id="sendf_8c_html_ad59954133649b7538b387f940b86024f"><div class="ttname"><a href="sendf_8c.html#ad59954133649b7538b387f940b86024f">Curl_client_write</a></div><div class="ttdeci">CURLcode Curl_client_write(struct connectdata *conn, int type, char *ptr, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8c_source.html#l00651">sendf.c:651</a></div></div>
<div class="ttc" id="urldata_8h_html_a06e40f8f1e2219fb5b519c74715c3537"><div class="ttname"><a href="urldata_8h.html#a06e40f8f1e2219fb5b519c74715c3537">PROTOPT_NONE</a></div><div class="ttdeci">#define PROTOPT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00705">urldata.h:705</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a21cd8a1fcf9cdb4b9c27acdaf08c6110"><div class="ttname"><a href="arpa__telnet_8h.html#a21cd8a1fcf9cdb4b9c27acdaf08c6110">CURL_SE</a></div><div class="ttdeci">#define CURL_SE</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00070">arpa_telnet.h:70</a></div></div>
<div class="ttc" id="timeval_8c_html_a93ce3158c8838916ed817489c98e37c4"><div class="ttname"><a href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a></div><div class="ttdeci">timediff_t Curl_timediff(struct curltime newer, struct curltime older)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00181">timeval.c:181</a></div></div>
<div class="ttc" id="memdebug_8h_html_a795660f73c902cc80ac0fe6cda0dbd1c"><div class="ttname"><a href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a></div><div class="ttdeci">#define Curl_safefree(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="memdebug_8h_source.html#l00176">memdebug.h:176</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a6aebc8b091403eea6b911b077e76ffee"><div class="ttname"><a href="arpa__telnet_8h.html#a6aebc8b091403eea6b911b077e76ffee">CURL_IAC</a></div><div class="ttdeci">#define CURL_IAC</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00079">arpa_telnet.h:79</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_ad63be31a2c43cecf14bfdfd1ac3a0eec"><div class="ttname"><a href="arpa__telnet_8h.html#ad63be31a2c43cecf14bfdfd1ac3a0eec">CURL_NTELOPTS</a></div><div class="ttdeci">#define CURL_NTELOPTS</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00064">arpa_telnet.h:64</a></div></div>
<div class="ttc" id="curl__setup_8h_html"><div class="ttname"><a href="curl__setup_8h.html">curl_setup.h</a></div></div>
<div class="ttc" id="curl_8h_html_a37f72557bd7b33a75cb3c3ab165e357e"><div class="ttname"><a href="curl_8h.html#a37f72557bd7b33a75cb3c3ab165e357e">CURL_READFUNC_ABORT</a></div><div class="ttdeci">#define CURL_READFUNC_ABORT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00353">curl.h:353</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a8764c45be21ba9e3c8d2edec51dc33d1"><div class="ttname"><a href="arpa__telnet_8h.html#a8764c45be21ba9e3c8d2edec51dc33d1">CURL_TELQUAL_INFO</a></div><div class="ttdeci">#define CURL_TELQUAL_INFO</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00099">arpa_telnet.h:99</a></div></div>
<div class="ttc" id="get_8d_html_a72405a3df7019c7ac95d2f3be7247548"><div class="ttname"><a href="get_8d.html#a72405a3df7019c7ac95d2f3be7247548">head</a></div><div class="ttdeci">Long this option will make all data specified with data binary or data urlencode to be used in an HTTP GET request instead of the POST request that otherwise would be used.The data will be appended to the URL with a separator.If used in combination with head</div><div class="ttdef"><b>Definition:</b> <a href="get_8d_source.html#l00005">get.d:5</a></div></div>
<div class="ttc" id="struct_single_request_html_a5803af0f75195ad74badb6ced9b24b16"><div class="ttname"><a href="struct_single_request.html#a5803af0f75195ad74badb6ced9b24b16">SingleRequest::protop</a></div><div class="ttdeci">void * protop</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00619">urldata.h:619</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a59f9d8cdf86420fe8133e64fef5a3197"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a59f9d8cdf86420fe8133e64fef5a3197">CURL_YES</a></div><div class="ttdeci">#define CURL_YES</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00128">telnet.c:128</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a1074cefc1fe906666d736a4133679e3c"><div class="ttname"><a href="arpa__telnet_8h.html#a1074cefc1fe906666d736a4133679e3c">CURL_SB</a></div><div class="ttdeci">#define CURL_SB</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00074">arpa_telnet.h:74</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a2020d0efaf0383abd9a44169bb259781"><div class="ttname"><a href="arpa__telnet_8h.html#a2020d0efaf0383abd9a44169bb259781">CURL_DM</a></div><div class="ttdeci">#define CURL_DM</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00072">arpa_telnet.h:72</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a57c561b1387d79637637b8997451682d"><div class="ttname"><a href="arpa__telnet_8h.html#a57c561b1387d79637637b8997451682d">CURL_TELOPT_OK</a></div><div class="ttdeci">#define CURL_TELOPT_OK(x)</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00061">arpa_telnet.h:61</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747d"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747d">TelnetReceive</a></div><div class="ttdeci">TelnetReceive</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00138">telnet.c:138</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a5faa3a2e86967618cded1404c5f2f26c"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a5faa3a2e86967618cded1404c5f2f26c">writebyte</a></div><div class="ttdeci">#define writebyte()</div></div>
<div class="ttc" id="_console_8h_html_ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719"><div class="ttname"><a href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">ArgType_t::FILE</a></div></div>
<div class="ttc" id="config-win32_8h_html_a8af93bbb66534e14d651bbb0638ee796"><div class="ttname"><a href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a></div><div class="ttdeci">#define ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="config-win32_8h_source.html#l00379">config-win32.h:379</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a218d1b371584dc032bc046ed14af2ca3"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a218d1b371584dc032bc046ed14af2ca3">Curl_handler_telnet</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_telnet</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00179">telnet.c:179</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_add51e60c582bb442bd3aff5560db78fd"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#add51e60c582bb442bd3aff5560db78fd">CURL_SB_TERM</a></div><div class="ttdeci">#define CURL_SB_TERM(x)</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00068">telnet.c:68</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00460">curl.h:460</a></div></div>
<div class="ttc" id="structconnectdata_html_a13cc2123ad38902e8ad44e67f10ed7aa"><div class="ttname"><a href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">connectdata::sock</a></div><div class="ttdeci">curl_socket_t sock[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00874">urldata.h:874</a></div></div>
<div class="ttc" id="progress_8c_html_afd65889574fb7bde6ffcec48b0d8debb"><div class="ttname"><a href="progress_8c.html#afd65889574fb7bde6ffcec48b0d8debb">Curl_pgrsSetDownloadCounter</a></div><div class="ttdeci">void Curl_pgrsSetDownloadCounter(struct Curl_easy *data, curl_off_t size)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00306">progress.c:306</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ac6b6521ef0dc286d38ecf224b32ac618"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ac6b6521ef0dc286d38ecf224b32ac618">TELNET::subnegotiation</a></div><div class="ttdeci">int subnegotiation[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00160">telnet.c:160</a></div></div>
<div class="ttc" id="select_8h_html_a52ac479a805051f59643588b096024ff"><div class="ttname"><a href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a></div><div class="ttdeci">#define POLLIN</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00042">select.h:42</a></div></div>
<div class="ttc" id="unit1652_8c_html_a348cae967f89c4bad8fb37e45a469d1a"><div class="ttname"><a href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a></div><div class="ttdeci">UNITTEST_START msnprintf(input, sizeof(input), &quot;Simple Test&quot;)</div></div>
<div class="ttc" id="unit1398_8c_html_aee5a1edd73e85934dcbe27ccbb1ef1ad"><div class="ttname"><a href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a></div><div class="ttdeci">char buf[3]</div><div class="ttdef"><b>Definition:</b> <a href="unit1398_8c_source.html#l00032">unit1398.c:32</a></div></div>
<div class="ttc" id="header_8d_html_af039c1a4bf9f7d5ffdd981d66cd3fb2d"><div class="ttname"><a href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a></div><div class="ttdeci">Long your externally set header will be used instead of the one.This allows you to make even trickier stuff than curl would normally do.You should not replace internally set headers without knowing perfectly well what you re doing.Remove an header by giving a replacement without content on the right side of the as in</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00009">header.d:9</a></div></div>
<div class="ttc" id="transfer_8h_html"><div class="ttname"><a href="transfer_8h.html">transfer.h</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac740bd0721cffd418c2fb12163574139">CURL_TS_DO</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00144">telnet.c:144</a></div></div>
<div class="ttc" id="sendf_8h_html_a0056494e05c065643a400059b9318270"><div class="ttname"><a href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a></div><div class="ttdeci">#define infof</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00044">sendf.h:44</a></div></div>
<div class="ttc" id="warnless_8h_html_a4c7691aa0abf9311c5f54ebf7b2fc1e2"><div class="ttname"><a href="warnless_8h.html#a4c7691aa0abf9311c5f54ebf7b2fc1e2">CURLX_FUNCTION_CAST</a></div><div class="ttdeci">#define CURLX_FUNCTION_CAST(target_type, func)</div><div class="ttdef"><b>Definition:</b> <a href="warnless_8h_source.html#l00029">warnless.h:29</a></div></div>
<div class="ttc" id="curl_8h_html_a8a6431fcced5944dec01685f14de2540"><div class="ttname"><a href="curl_8h.html#a8a6431fcced5944dec01685f14de2540">CURL_READFUNC_PAUSE</a></div><div class="ttdeci">#define CURL_READFUNC_PAUSE</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00356">curl.h:356</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a7905deff63de7980a632a0f28ada824d"><div class="ttname"><a href="arpa__telnet_8h.html#a7905deff63de7980a632a0f28ada824d">CURL_DONT</a></div><div class="ttdeci">#define CURL_DONT</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00078">arpa_telnet.h:78</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da4e46f6054b84b6bc392711c307ae8acf">CURL_TS_SE</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00148">telnet.c:148</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a1228a638e936db538931652b156f8031"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a1228a638e936db538931652b156f8031">CURL_SB_ACCUM</a></div><div class="ttdeci">#define CURL_SB_ACCUM(x, c)</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00073">telnet.c:73</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_ac9e2e7f657c63e77c61608487fad3aea"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#ac9e2e7f657c63e77c61608487fad3aea">TELNET::us_preferred</a></div><div class="ttdeci">int us_preferred[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00156">telnet.c:156</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_adfb76bc39aace7a77532b9c08c1afad0"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#adfb76bc39aace7a77532b9c08c1afad0">CURL_EMPTY</a></div><div class="ttdeci">#define CURL_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00132">telnet.c:132</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a334c5c603073f8a9dc36b61a8cfb13e5"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a334c5c603073f8a9dc36b61a8cfb13e5">CURL_SB_LEN</a></div><div class="ttdeci">#define CURL_SB_LEN(x)</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00080">telnet.c:80</a></div></div>
<div class="ttc" id="select_8c_html_ae71a741eee93be102e4bf9083953a8b2"><div class="ttname"><a href="select_8c.html#ae71a741eee93be102e4bf9083953a8b2">Curl_poll</a></div><div class="ttdeci">int Curl_poll(struct pollfd ufds[], unsigned int nfds, int timeout_ms)</div><div class="ttdef"><b>Definition:</b> <a href="select_8c_source.html#l00392">select.c:392</a></div></div>
<div class="ttc" id="warnless_8h_html"><div class="ttname"><a href="warnless_8h.html">warnless.h</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_abbea31816a4dce99ed5d6c363f328a76"><div class="ttname"><a href="arpa__telnet_8h.html#abbea31816a4dce99ed5d6c363f328a76">CURL_TELOPT_NEW_ENVIRON</a></div><div class="ttdeci">#define CURL_TELOPT_NEW_ENVIRON</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00036">arpa_telnet.h:36</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html"><div class="ttname"><a href="struct_t_e_l_n_e_t.html">TELNET</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00151">telnet.c:151</a></div></div>
<div class="ttc" id="_b_l_e_eddystone_t_l_m_8h_html_a36142ddde297ed1d5577c81230997301"><div class="ttname"><a href="_b_l_e_eddystone_t_l_m_8h.html#a36142ddde297ed1d5577c81230997301">temp</a></div><div class="ttdeci">uint16_t temp</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_eddystone_t_l_m_8h_source.html#l00043">BLEEddystoneTLM.h:43</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da404db00794d6ee939448141aaa95749d">CURL_TS_WILL</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00142">telnet.c:142</a></div></div>
<div class="ttc" id="urldata_8h_html"><div class="ttname"><a href="urldata_8h.html">urldata.h</a></div></div>
<div class="ttc" id="multi-debugcallback_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="multi-debugcallback_8c_source.html#l00038">multi-debugcallback.c:38</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_abfc82bc5eec35d8415e231854580de1e"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#abfc82bc5eec35d8415e231854580de1e">TELNET::him_preferred</a></div><div class="ttdeci">int him_preferred[256]</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00159">telnet.c:159</a></div></div>
<div class="ttc" id="curl__setup_8h_html_af86fa14728c9bad5418a6d29cad9f9ff"><div class="ttname"><a href="curl__setup_8h.html#af86fa14728c9bad5418a6d29cad9f9ff">fileno</a></div><div class="ttdeci">int fileno(FILE *stream)</div></div>
<div class="ttc" id="arpa__telnet_8h_html_a36e508f874d22813ccb54d2d18fbac07"><div class="ttname"><a href="arpa__telnet_8h.html#a36e508f874d22813ccb54d2d18fbac07">CURL_TELQUAL_NAME</a></div><div class="ttdeci">#define CURL_TELQUAL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00100">arpa_telnet.h:100</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_af2b9245f00cf7a43c6d8472413b3bbff"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#af2b9245f00cf7a43c6d8472413b3bbff">CURL_WANTNO</a></div><div class="ttdeci">#define CURL_WANTNO</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00130">telnet.c:130</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747dac866062ce2438eabca400de597eb34de">CURL_TS_DONT</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00145">telnet.c:145</a></div></div>
<div class="ttc" id="memdebug_8h_html"><div class="ttname"><a href="memdebug_8h.html">memdebug.h</a></div></div>
<div class="ttc" id="curl_8h_html_adb5a46d02359d2379dc7e0904c987828"><div class="ttname"><a href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a></div><div class="ttdeci">int curl_socket_t</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00130">curl.h:130</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a27c0c130cdfc625407e31357219114a5"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a27c0c130cdfc625407e31357219114a5">startskipping</a></div><div class="ttdeci">#define startskipping()</div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a209c788ccfd2b0919d06e5d517acae1b"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a209c788ccfd2b0919d06e5d517acae1b">TELNET::telnet_vars</a></div><div class="ttdeci">struct curl_slist * telnet_vars</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00165">telnet.c:165</a></div></div>
<div class="ttc" id="curl_8h_html_a3a28c84e40db0ef30859b680281c9d36"><div class="ttname"><a href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a></div><div class="ttdeci">CURL_EXTERN void curl_slist_free_all(struct curl_slist *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00129">slist.c:129</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747daac2efc4163efc3649eb0cd5befb6270d">CURL_TS_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00140">telnet.c:140</a></div></div>
<div class="ttc" id="structconnectdata_html"><div class="ttname"><a href="structconnectdata.html">connectdata</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00782">urldata.h:782</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a19787eb5ed2e1af33c1a889d9b7fe3dc"><div class="ttname"><a href="arpa__telnet_8h.html#a19787eb5ed2e1af33c1a889d9b7fe3dc">CURL_TELOPT_NAWS</a></div><div class="ttdeci">#define CURL_TELOPT_NAWS</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00033">arpa_telnet.h:33</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a3bfd8a5d78dc98e435348b877e19f619"><div class="ttname"><a href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">ConnectBits::user_passwd</a></div><div class="ttdeci">bool user_passwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00390">urldata.h:390</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_aeaf348112d3bdbb30c9e30642d6c4f93"><div class="ttname"><a href="arpa__telnet_8h.html#aeaf348112d3bdbb30c9e30642d6c4f93">CURL_TELOPT_TTYPE</a></div><div class="ttdeci">#define CURL_TELOPT_TTYPE</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00032">arpa_telnet.h:32</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a8c60640c6afbac9fd4989fb24e2cab5d"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a8c60640c6afbac9fd4989fb24e2cab5d">CURL_WANTYES</a></div><div class="ttdeci">#define CURL_WANTYES</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00129">telnet.c:129</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html"><div class="ttname"><a href="arpa__telnet_8h.html">arpa_telnet.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a85cb9da7776d42c440612d2940a7fcb4"><div class="ttname"><a href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">connectdata::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00863">urldata.h:863</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a885e8566f5e53f56b3e32b7d2b6c3c1a"><div class="ttname"><a href="arpa__telnet_8h.html#a885e8566f5e53f56b3e32b7d2b6c3c1a">CURL_TELQUAL_SEND</a></div><div class="ttdeci">#define CURL_TELQUAL_SEND</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00098">arpa_telnet.h:98</a></div></div>
<div class="ttc" id="curl__memory_8h_html_abc013d1a27cb591a5316801c509c781f"><div class="ttname"><a href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a></div><div class="ttdeci">#define calloc(nbelem, size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00126">curl_memory.h:126</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#abdf089985d8c33b95f382ea39a86747da7306bbefe32741f53758f7cdf13fea91">CURL_TS_SB</a></div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00147">telnet.c:147</a></div></div>
<div class="ttc" id="sendf_8c_html_a828e2a7d5a11a7682d78140d6a5cba63"><div class="ttname"><a href="sendf_8c.html#a828e2a7d5a11a7682d78140d6a5cba63">Curl_read</a></div><div class="ttdeci">CURLcode Curl_read(struct connectdata *conn, curl_socket_t sockfd, char *buf, size_t sizerequested, ssize_t *n)</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8c_source.html#l00713">sendf.c:713</a></div></div>
<div class="ttc" id="struct_t_e_l_n_e_t_html_a6e8b10ab05f7bde9c076ba746f2161b2"><div class="ttname"><a href="struct_t_e_l_n_e_t.html#a6e8b10ab05f7bde9c076ba746f2161b2">TELNET::telrcv_state</a></div><div class="ttdeci">TelnetReceive telrcv_state</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00171">telnet.c:171</a></div></div>
<div class="ttc" id="arpa__telnet_8h_html_a3ea6dbb381fd8847b72270b91a58a0f4"><div class="ttname"><a href="arpa__telnet_8h.html#a3ea6dbb381fd8847b72270b91a58a0f4">CURL_TELOPT_XDISPLOC</a></div><div class="ttdeci">#define CURL_TELOPT_XDISPLOC</div><div class="ttdef"><b>Definition:</b> <a href="arpa__telnet_8h_source.html#l00034">arpa_telnet.h:34</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951abf7638d198de39a72f5594dad2655bbe"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951abf7638d198de39a72f5594dad2655bbe">CURLE_UNKNOWN_OPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00518">curl.h:518</a></div></div>
<div class="ttc" id="structconnectdata_html_a3df7eee97914936f17a228eb2cf84eed"><div class="ttname"><a href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">connectdata::data</a></div><div class="ttdeci">struct Curl_easy * data</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00786">urldata.h:786</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_efb6013f246e7f8b3181c5014844a411.html">lib</a></li><li class="navelem"><a class="el" href="components_2curl_2lib_2telnet_8c.html">telnet.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
