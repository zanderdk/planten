<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/HttpServer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_http_server_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HttpServer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_http_server_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HttpServer.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Aug 30, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Implementation of an HTTP server for the ESP32.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef COMPONENTS_CPP_UTILS_HTTPSERVER_H_</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#define COMPONENTS_CPP_UTILS_HTTPSERVER_H_</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_sock_serv_8h.html">SockServ.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_request_8h.html">HttpRequest.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_http_response_8h.html">HttpResponse.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;regex&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">class </span><a class="code" href="class_http_server_task.html">HttpServerTask</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_path_handler.html">   27</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_path_handler.html">PathHandler</a> {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler</a>(</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,                <span class="comment">// The method in the request to be matched.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> pathPattern,           <span class="comment">// The pattern in the request to be matched</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            <span class="keywordtype">void</span> (*pWebServerRequestHandler)   <span class="comment">// The handler function to be invoked upon a match.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            (</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            );</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler</a>(</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,                <span class="comment">// The method in the request to be matched.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            std::regex* pathPattern,           <span class="comment">// The pattern in the request to be matched (regex)</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="keywordtype">void</span> (*pWebServerRequestHandler)   <span class="comment">// The handler function to be invoked upon a match.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            (</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            );</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_path_handler.html#a5a50a3baba682292270f79b3a435cc4c">match</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>, <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);   <span class="comment">// Does the request method and pattern match?</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_path_handler.html#ae5f06052f99f675aef8ccea42b7cd09f">invokePathHandler</a>(<a class="code" href="class_http_request.html">HttpRequest</a>* request, <a class="code" href="class_http_response.html">HttpResponse</a>* response);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> m_method;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        std::regex* m_pRegex;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordtype">bool</span>        m_isRegex;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> m_textPattern;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        void (*m_pRequestHandler)(<a class="code" href="class_http_request.html">HttpRequest</a>* pHttpRequest, <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}; <span class="comment">// PathHandler</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_http_server.html">   56</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_http_server.html">HttpServer</a> {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="class_http_server.html#a303273c5e6469b4ea4277668cd86ec67">HttpServer</a>();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="class_http_server.html#a5e9887bc9a815fc4b2b506a335d916af">~HttpServer</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">addPathHandler</a>(</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> pathExpr,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordtype">void</span> (*webServerRequestHandler)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        (</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        );</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">addPathHandler</a>(</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a>,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        std::regex* pRegex,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordtype">void</span> (*webServerRequestHandler)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        (</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="class_http_request.html">HttpRequest</a>*  pHttpRequest,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <a class="code" href="class_http_response.html">HttpResponse</a>* pHttpResponse)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        );</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    uint32_t    <a class="code" href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">getClientTimeout</a>();                         <span class="comment">// Get client&#39;s socket timeout</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">size_t</span>      <a class="code" href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">getFileBufferSize</a>();  <span class="comment">// Get the current size of the file buffer.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    uint16_t    <a class="code" href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">getPort</a>();            <span class="comment">// Get the port on which the Http server is listening.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">getRootPath</a>();        <span class="comment">// Get the root of the file system path.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="class_http_server.html#ad3d17b4df0252445a2ed4f0f8ea06201">getSSL</a>();             <span class="comment">// Are we using SSL?</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#ad70784b8f9484a16bf74c34413a24d4d">setClientTimeout</a>(uint32_t <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>);            <span class="comment">// Set client&#39;s socket timeout</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">setDirectoryListing</a>(<span class="keywordtype">bool</span> use);             <span class="comment">// Should we list the content of directories?</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#a7686343c224f5e8a62f5f07de481345d">setFileBufferSize</a>(<span class="keywordtype">size_t</span> fileBufferSize);  <span class="comment">// Set the size of the file buffer</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#a141a7cde0ccf11ff395df0faef79d6a5">setRootPath</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);             <span class="comment">// Set the root of the file system path.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#a79bbf11522346b2eae709e6112b130c2">start</a>(uint16_t portNumber, <span class="keywordtype">bool</span> useSSL = <span class="keyword">false</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="class_http_server.html#aad9c63d3f8cda248e3c87067ac3ac5a5">stop</a>();          <span class="comment">// Stop a previously started server.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="class_http_server.html#a3cc3306861979ff7b3b2c03500780072">   90</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_http_server_task.html">HttpServerTask</a>;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_http_server.html#aae91499d85b5a2d8fbe7c9439fe78fcf">   91</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_web_socket.html">WebSocket</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">void</span>                     listDirectory(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <a class="code" href="class_http_response.html">HttpResponse</a>&amp; response);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">size_t</span>                   m_fileBufferSize;     <span class="comment">// Size of the file buffer.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">bool</span>                     m_directoryListing;   <span class="comment">// Should we list directory content?</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    std::vector&lt;PathHandler&gt; m_pathHandlers;       <span class="comment">// Vector of path handlers.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    uint16_t                 m_portNumber;         <span class="comment">// Port number on which server is listening.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a>              m_rootPath;           <span class="comment">// Root path into the file system.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="class_socket.html">Socket</a>                   m_socket;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">bool</span>                     m_useSSL;             <span class="comment">// Is this server listening on an HTTPS port?</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    uint32_t                 m_clientTimeout;      <span class="comment">// Default Timeout</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="class_free_r_t_o_s_1_1_semaphore.html">FreeRTOS::Semaphore</a>      m_semaphoreServerStarted = <a class="code" href="class_free_r_t_o_s_1_1_semaphore.html">FreeRTOS::Semaphore</a>(<span class="stringliteral">&quot;ServerStarted&quot;</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}; <span class="comment">// HttpServer</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COMPONENTS_CPP_UTILS_HTTPSERVER_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="anyauth_8d_html_a7eb9744e157c215b8e0de36856880ebf"><div class="ttname"><a href="anyauth_8d.html#a7eb9744e157c215b8e0de36856880ebf">method</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response thus possibly inducing an extra network round trip.This is used instead of setting a specific authentication method</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="class_http_server_html_aa4dfccf48a9c721ca8bb00d61f7b4e13"><div class="ttname"><a href="class_http_server.html#aa4dfccf48a9c721ca8bb00d61f7b4e13">HttpServer::getRootPath</a></div><div class="ttdeci">std::string getRootPath()</div><div class="ttdoc">Get the current root path. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00250">HttpServer.cpp:250</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html">FreeRTOS::Semaphore</a></div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8h_source.html#l00031">FreeRTOS.h:31</a></div></div>
<div class="ttc" id="_sock_serv_8h_html"><div class="ttname"><a href="_sock_serv_8h.html">SockServ.h</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="multi-uv_8c_html_afb43b78d9a22f95e721353db4408304c"><div class="ttname"><a href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a></div><div class="ttdeci">uv_timer_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="multi-uv_8c_source.html#l00042">multi-uv.c:42</a></div></div>
<div class="ttc" id="class_http_server_html_a79bbf11522346b2eae709e6112b130c2"><div class="ttname"><a href="class_http_server.html#a79bbf11522346b2eae709e6112b130c2">HttpServer::start</a></div><div class="ttdeci">void start(uint16_t portNumber, bool useSSL=false)</div><div class="ttdoc">Start the HTTP server listening. We start an instance of the HTTP server listening. A new task is spawned to perform this work in the back ground. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00388">HttpServer.cpp:388</a></div></div>
<div class="ttc" id="class_http_server_html_aac086f847e37748c0c54f1e295baf2e4"><div class="ttname"><a href="class_http_server.html#aac086f847e37748c0c54f1e295baf2e4">HttpServer::addPathHandler</a></div><div class="ttdeci">void addPathHandler(std::string method, std::string pathExpr, void(*webServerRequestHandler)(HttpRequest *pHttpRequest, HttpResponse *pHttpResponse))</div><div class="ttdoc">Register a handler for a path. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00215">HttpServer.cpp:215</a></div></div>
<div class="ttc" id="class_http_server_html_ad70784b8f9484a16bf74c34413a24d4d"><div class="ttname"><a href="class_http_server.html#ad70784b8f9484a16bf74c34413a24d4d">HttpServer::setClientTimeout</a></div><div class="ttdeci">void setClientTimeout(uint32_t timeout)</div><div class="ttdoc">Set different socket timeout for new connections. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00319">HttpServer.cpp:319</a></div></div>
<div class="ttc" id="class_http_server_html_aad9c63d3f8cda248e3c87067ac3ac5a5"><div class="ttname"><a href="class_http_server.html#aad9c63d3f8cda248e3c87067ac3ac5a5">HttpServer::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Shutdown the HTTP server. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00412">HttpServer.cpp:412</a></div></div>
<div class="ttc" id="class_path_handler_html"><div class="ttname"><a href="class_path_handler.html">PathHandler</a></div><div class="ttdoc">Handle path matching for an incoming HTTP request. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8h_source.html#l00027">HttpServer.h:27</a></div></div>
<div class="ttc" id="class_path_handler_html_a2fd73ffd5f17f9a0de2f8bd89b4437c2"><div class="ttname"><a href="class_path_handler.html#a2fd73ffd5f17f9a0de2f8bd89b4437c2">PathHandler::PathHandler</a></div><div class="ttdeci">PathHandler(std::string method, std::string pathPattern, void(*pWebServerRequestHandler)(HttpRequest *pHttpRequest, HttpResponse *pHttpResponse))</div><div class="ttdoc">Construct an instance of a PathHandler. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00451">HttpServer.cpp:451</a></div></div>
<div class="ttc" id="class_http_server_html_a7686343c224f5e8a62f5f07de481345d"><div class="ttname"><a href="class_http_server.html#a7686343c224f5e8a62f5f07de481345d">HttpServer::setFileBufferSize</a></div><div class="ttdeci">void setFileBufferSize(size_t fileBufferSize)</div><div class="ttdoc">Set the size of the file buffer. When serving up a file from the file system, we can&amp;#39;t afford to read...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00349">HttpServer.cpp:349</a></div></div>
<div class="ttc" id="_http_response_8h_html"><div class="ttname"><a href="_http_response_8h.html">HttpResponse.h</a></div></div>
<div class="ttc" id="class_http_server_task_html"><div class="ttname"><a href="class_http_server_task.html">HttpServerTask</a></div><div class="ttdoc">Be an HTTP server task. Here we define a Task that will be run when the HTTP server starts...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00053">HttpServer.cpp:53</a></div></div>
<div class="ttc" id="class_http_server_html_a5e9887bc9a815fc4b2b506a335d916af"><div class="ttname"><a href="class_http_server.html#a5e9887bc9a815fc4b2b506a335d916af">HttpServer::~HttpServer</a></div><div class="ttdeci">virtual ~HttpServer()</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00042">HttpServer.cpp:42</a></div></div>
<div class="ttc" id="class_http_server_html_a284988ba72075a9abc3af5499ed9ed56"><div class="ttname"><a href="class_http_server.html#a284988ba72075a9abc3af5499ed9ed56">HttpServer::getClientTimeout</a></div><div class="ttdeci">uint32_t getClientTimeout()</div><div class="ttdoc">Get current socket&amp;#39;s timeout for new connections. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00328">HttpServer.cpp:328</a></div></div>
<div class="ttc" id="class_http_server_html_ac771b9fe9b2d825df7231ff0dee7e253"><div class="ttname"><a href="class_http_server.html#ac771b9fe9b2d825df7231ff0dee7e253">HttpServer::getFileBufferSize</a></div><div class="ttdeci">size_t getFileBufferSize()</div><div class="ttdoc">Get the size of the file buffer. When serving up a file from the file system, we can&amp;#39;t afford to read...</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00232">HttpServer.cpp:232</a></div></div>
<div class="ttc" id="class_path_handler_html_ae5f06052f99f675aef8ccea42b7cd09f"><div class="ttname"><a href="class_path_handler.html#ae5f06052f99f675aef8ccea42b7cd09f">PathHandler::invokePathHandler</a></div><div class="ttdeci">void invokePathHandler(HttpRequest *request, HttpResponse *response)</div><div class="ttdoc">Invoke the handler. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00489">HttpServer.cpp:489</a></div></div>
<div class="ttc" id="class_http_server_html_a141a7cde0ccf11ff395df0faef79d6a5"><div class="ttname"><a href="class_http_server.html#a141a7cde0ccf11ff395df0faef79d6a5">HttpServer::setRootPath</a></div><div class="ttdeci">void setRootPath(std::string path)</div><div class="ttdoc">Set the root path for URL file mapping. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00371">HttpServer.cpp:371</a></div></div>
<div class="ttc" id="class_http_request_html"><div class="ttname"><a href="class_http_request.html">HttpRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_request_8h_source.html#l00019">HttpRequest.h:19</a></div></div>
<div class="ttc" id="class_http_server_html"><div class="ttname"><a href="class_http_server.html">HttpServer</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8h_source.html#l00056">HttpServer.h:56</a></div></div>
<div class="ttc" id="class_socket_html"><div class="ttname"><a href="class_socket.html">Socket</a></div><div class="ttdoc">Encapsulate a socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8h_source.html#l00062">Socket.h:62</a></div></div>
<div class="ttc" id="class_http_server_html_a303273c5e6469b4ea4277668cd86ec67"><div class="ttname"><a href="class_http_server.html#a303273c5e6469b4ea4277668cd86ec67">HttpServer::HttpServer</a></div><div class="ttdeci">HttpServer()</div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00032">HttpServer.cpp:32</a></div></div>
<div class="ttc" id="class_http_server_html_af4a61a2ac8da8773025da0d2fde1aef5"><div class="ttname"><a href="class_http_server.html#af4a61a2ac8da8773025da0d2fde1aef5">HttpServer::getPort</a></div><div class="ttdeci">uint16_t getPort()</div><div class="ttdoc">Get the port number on which the HTTP Server is listening. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00241">HttpServer.cpp:241</a></div></div>
<div class="ttc" id="_free_r_t_o_s_8h_html"><div class="ttname"><a href="_free_r_t_o_s_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="class_web_socket_html"><div class="ttname"><a href="class_web_socket.html">WebSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="_web_socket_8h_source.html#l00060">WebSocket.h:60</a></div></div>
<div class="ttc" id="class_path_handler_html_a5a50a3baba682292270f79b3a435cc4c"><div class="ttname"><a href="class_path_handler.html#a5a50a3baba682292270f79b3a435cc4c">PathHandler::match</a></div><div class="ttdeci">bool match(std::string method, std::string path)</div><div class="ttdoc">Determine if the path matches. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00472">HttpServer.cpp:472</a></div></div>
<div class="ttc" id="class_http_response_html"><div class="ttname"><a href="class_http_response.html">HttpResponse</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_response_8h_source.html#l00016">HttpResponse.h:16</a></div></div>
<div class="ttc" id="_http_request_8h_html"><div class="ttname"><a href="_http_request_8h.html">HttpRequest.h</a></div></div>
<div class="ttc" id="class_http_server_html_ad3d17b4df0252445a2ed4f0f8ea06201"><div class="ttname"><a href="class_http_server.html#ad3d17b4df0252445a2ed4f0f8ea06201">HttpServer::getSSL</a></div><div class="ttdeci">bool getSSL()</div><div class="ttdoc">Return whether or not we are using SSL. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00259">HttpServer.cpp:259</a></div></div>
<div class="ttc" id="class_http_server_html_aab1f060cbbaaeaa2b75f812e866e6ff0"><div class="ttname"><a href="class_http_server.html#aab1f060cbbaaeaa2b75f812e866e6ff0">HttpServer::setDirectoryListing</a></div><div class="ttdeci">void setDirectoryListing(bool use)</div><div class="ttdoc">Set whether or not we will list directories. </div><div class="ttdef"><b>Definition:</b> <a href="_http_server_8cpp_source.html#l00337">HttpServer.cpp:337</a></div></div>
<div class="ttc" id="util_8c_html_a3b02c6de5c049804444a246f7fdf46b4"><div class="ttname"><a href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00194">util.c:194</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_http_server_8h.html">HttpServer.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
