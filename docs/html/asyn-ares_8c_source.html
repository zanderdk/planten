<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/lib/asyn-ares.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('asyn-ares_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">asyn-ares.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="asyn-ares_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *                                  _   _ ____  _</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Project                     ___| | | |  _ \| |</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                             / __| | | | |_) | |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                            | (__| |_| |  _ &lt;| |___</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                             \___|\___/|_| \_\_____|</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 1998 - 2018, Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This software is licensed as described in the file COPYING, which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * you should have received as part of this distribution. The terms</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * are also available at https://curl.haxx.se/docs/copyright.html.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You may opt to use, copy, modify, merge, publish, distribute and/or sell</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * copies of the Software, and permit persons to whom the Software is</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * furnished to do so, under the terms of the COPYING file.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * KIND, either express or implied.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__setup_8h.html">curl_setup.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/***********************************************************************</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * Only for ares-enabled builds</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * And only for functions that fulfill the asynch resolver backend API</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * as defined in asyn.h, nothing else belongs in this file!</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> **********************************************************************/</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#ifdef CURLRES_ARES</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifdef HAVE_NETINET_IN_H</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifdef HAVE_NETDB_H</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#ifdef HAVE_ARPA_INET_H</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#ifdef __VMS</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;in.h&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;inet.h&gt;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifdef HAVE_PROCESS_H</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;process.h&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#if (defined(NETWARE) &amp;&amp; defined(__NOVELL_LIBC__))</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#undef in_addr_t</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define in_addr_t unsigned long</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="urldata_8h.html">urldata.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sendf_8h.html">sendf.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hostip_8h.html">hostip.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hash_8h.html">hash.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="share_8h.html">share.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strerror_8h.html">strerror.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="multiif_8h.html">multiif.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="inet__pton_8h.html">inet_pton.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="connect_8h.html">connect.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="select_8h.html">select.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="progress_8h.html">progress.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#  if defined(CURL_STATICLIB) &amp;&amp; !defined(CARES_STATICLIB) &amp;&amp; \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">     (defined(WIN32) || defined(_WIN32) || defined(__SYMBIAN32__))</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#    define CARES_STATICLIB</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#  endif</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#  include &lt;ares.h&gt;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#  include &lt;ares_version.h&gt;</span> <span class="comment">/* really old c-ares didn&#39;t include this by</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">                               itself */</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#if ARES_VERSION &gt;= 0x010500</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/* c-ares 1.5.0 or later, the callback proto is modified */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#define HAVE_CARES_CALLBACK_TIMEOUTS 1</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/* The last 3 #include files should be in this order */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__printf_8h.html">curl_printf.h</a>&quot;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__memory_8h.html">curl_memory.h</a>&quot;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memdebug_8h.html">memdebug.h</a>&quot;</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">struct </span>ResolverResults {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">int</span> num_pending; <span class="comment">/* number of ares_gethostbyname() requests */</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="struct_curl__addrinfo.html">Curl_addrinfo</a> *temp_ai; <span class="comment">/* intermediary result while fetching c-ares parts */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">int</span> last_status;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;};</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"> * Curl_resolver_global_init() - the generic low-level asynchronous name</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> * resolve API.  Called from curl_global_init() to initialize global resolver</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> * environment.  Initializes ares library.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keywordtype">int</span> <a class="code" href="asyn_8h.html#aa78b47c52edb61b245bbb8b97770f956">Curl_resolver_global_init</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#ifdef CARES_HAVE_ARES_LIBRARY_INIT</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">if</span>(ares_library_init(ARES_LIB_INIT_ALL)) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"> * Curl_resolver_global_cleanup()</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * Called from curl_global_cleanup() to destroy global resolver environment.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * Deinitializes ares library.</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keywordtype">void</span> <a class="code" href="asyn_8h.html#a658a12f61f442f789df8f222ad2df6d1">Curl_resolver_global_cleanup</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#ifdef CARES_HAVE_ARES_LIBRARY_CLEANUP</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  ares_library_cleanup();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> Curl_ares_sock_state_cb(<span class="keywordtype">void</span> *<a class="code" href="structdata.html">data</a>, ares_socket_t socket_fd,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                    <span class="keywordtype">int</span> readable, <span class="keywordtype">int</span> writable)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span>(!readable &amp;&amp; !writable) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="multi_8c.html#afbc31d9271626832fb21b413ec57c268">Curl_multi_closed</a>(<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>, socket_fd);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * Curl_resolver_init()</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> * Called from curl_easy_init() -&gt; Curl_open() to initialize resolver</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> * URL-state specific environment (&#39;resolver&#39; member of the UrlState</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"> * structure).  Fills the passed pointer by the initialized ares_channel.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="asyn_8h.html#a49da7a0f7f3ec87fee1ad60f2fd7e651">Curl_resolver_init</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>, <span class="keywordtype">void</span> **resolver)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordtype">int</span> status;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">struct </span>ares_options <a class="code" href="fail-early_8d.html#a188ba6f263db5df5a64e1cc11fb0c098">options</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">int</span> optmask = ARES_OPT_SOCK_STATE_CB;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="fail-early_8d.html#a188ba6f263db5df5a64e1cc11fb0c098">options</a>.sock_state_cb = Curl_ares_sock_state_cb;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="fail-early_8d.html#a188ba6f263db5df5a64e1cc11fb0c098">options</a>.sock_state_cb_data = <a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  status = ares_init_options((ares_channel*)resolver, &amp;<a class="code" href="fail-early_8d.html#a188ba6f263db5df5a64e1cc11fb0c098">options</a>, optmask);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span>(status != ARES_SUCCESS) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span>(status == ARES_ENOMEM)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">/* make sure that all other returns from this function should destroy the</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     ares channel before returning error! */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> * Curl_resolver_cleanup()</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> * Called from curl_easy_cleanup() -&gt; Curl_close() to cleanup resolver</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * URL-state specific environment (&#39;resolver&#39; member of the UrlState</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> * structure).  Destroys the ares channel.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keywordtype">void</span> <a class="code" href="asyn_8h.html#a5347031b2083b57609737b61c8ec4486">Curl_resolver_cleanup</a>(<span class="keywordtype">void</span> *resolver)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  ares_destroy((ares_channel)resolver);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> * Curl_resolver_duphandle()</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> * Called from curl_easy_duphandle() to duplicate resolver URL-state specific</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> * environment (&#39;resolver&#39; member of the UrlState structure).  Duplicates the</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * &#39;from&#39; ares channel and passes the resulting channel to the &#39;to&#39; pointer.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="asyn_8h.html#ab23571bb6728f661af21da22e3900a65">Curl_resolver_duphandle</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>, <span class="keywordtype">void</span> **<a class="code" href="form_8d.html#ac776e8c2aa1a100ee6a391f59441ccf4">to</a>, <span class="keywordtype">void</span> *from)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  (void)from;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   * it would be better to call ares_dup instead, but right now</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">   * it is not possible to set &#39;sock_state_cb_data&#39; outside of</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   * ares_init_options</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="asyn_8h.html#a49da7a0f7f3ec87fee1ad60f2fd7e651">Curl_resolver_init</a>(<a class="code" href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a>, <a class="code" href="form_8d.html#ac776e8c2aa1a100ee6a391f59441ccf4">to</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> destroy_async_data(<span class="keyword">struct</span> <a class="code" href="struct_curl__async.html">Curl_async</a> *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> * Cancel all possibly still on-going resolves for this connection.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="keywordtype">void</span> <a class="code" href="asyn_8h.html#a0184861709315e8de5f48ce59f672bdb">Curl_resolver_cancel</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a15aced4a015c44ff454787debee23520">state</a>.<a class="code" href="struct_url_state.html#a886625042f5af6bc1a82877fb7bc0b38">resolver</a>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    ares_cancel((ares_channel)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a15aced4a015c44ff454787debee23520">state</a>.<a class="code" href="struct_url_state.html#a886625042f5af6bc1a82877fb7bc0b38">resolver</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  destroy_async_data(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * destroy_async_data() cleans up async resolver data.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> destroy_async_data(<span class="keyword">struct</span> <a class="code" href="struct_curl__async.html">Curl_async</a> *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>-&gt;hostname);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>-&gt;os_specific) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">struct </span>ResolverResults *res = (<span class="keyword">struct </span>ResolverResults *)<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>-&gt;os_specific;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span>(res) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">if</span>(res-&gt;temp_ai) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <a class="code" href="curl__addrinfo_8c.html#adfda8bf59056f5007ee5af04f3e411ac">Curl_freeaddrinfo</a>(res-&gt;temp_ai);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        res-&gt;temp_ai = NULL;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(res);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>-&gt;os_specific = NULL;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>-&gt;hostname = NULL;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * Curl_resolver_getsock() is called when someone from the outside world</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * (using curl_multi_fdset()) wants to get our fd_set setup and we&#39;re talking</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * with ares. The caller must make sure that this function is only called when</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> * we have a working ares channel.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"> * Returns: sockets-in-use-bitmap</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keywordtype">int</span> <a class="code" href="asyn_8h.html#a005f24350f3adcef7fe6be51da982536">Curl_resolver_getsock</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                          <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> *socks,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                          <span class="keywordtype">int</span> numsocks)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">struct </span><a class="code" href="structtimeval.html">timeval</a> maxtime;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keyword">struct </span><a class="code" href="structtimeval.html">timeval</a> timebuf;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keyword">struct </span><a class="code" href="structtimeval.html">timeval</a> *<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordtype">long</span> milli;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">int</span> max = ares_getsock((ares_channel)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a15aced4a015c44ff454787debee23520">state</a>.<a class="code" href="struct_url_state.html#a886625042f5af6bc1a82877fb7bc0b38">resolver</a>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                         (ares_socket_t *)socks, numsocks);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  maxtime.tv_sec = <a class="code" href="hostip_8h.html#a1bdc7d46492751b6943684b9b46fb75c">CURL_TIMEOUT_RESOLVE</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  maxtime.tv_usec = 0;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> = ares_timeout((ares_channel)conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#a15aced4a015c44ff454787debee23520">state</a>.<a class="code" href="struct_url_state.html#a886625042f5af6bc1a82877fb7bc0b38">resolver</a>, &amp;maxtime,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                         &amp;timebuf);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  milli = (<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>-&gt;tv_sec * 1000) + (<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>-&gt;tv_usec/1000);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span>(milli == 0)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    milli += 10;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="multi_8c.html#a759a3f675165554a5f5d6e784afa7fe0">Curl_expire</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, milli, <a class="code" href="urldata_8h.html#aabb7db968656c3ee0555ea3d8784310da28491a64e37ced430b292a513a093a85">EXPIRE_ASYNC_NAME</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">return</span> max;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * waitperform()</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * 1) Ask ares what sockets it currently plays with, then</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> * 2) wait for the timeout period to check for action on ares&#39; sockets.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * 3) tell ares to act on all the sockets marked as &quot;with action&quot;</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> * return number of sockets it worked on</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> waitperform(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> timeout_ms)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordtype">int</span> nfds;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">int</span> bitmask;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  ares_socket_t socks[ARES_GETSOCK_MAXNUM];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keyword">struct </span><a class="code" href="structpollfd.html">pollfd</a> pfd[ARES_GETSOCK_MAXNUM];</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordtype">int</span> num = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  bitmask = ares_getsock((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, socks,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                         ARES_GETSOCK_MAXNUM);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; ARES_GETSOCK_MAXNUM; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].events = 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].revents = 0;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span>(ARES_GETSOCK_READABLE(bitmask, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>)) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].fd = socks[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>];</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].events |= <a class="code" href="select_8h.html#a8ca81f2b28be692732d3f0b601fd828d">POLLRDNORM</a>|<a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span>(ARES_GETSOCK_WRITABLE(bitmask, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>)) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].fd = socks[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>];</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].events |= <a class="code" href="select_8h.html#ab8f1f69608ba2430cd5fa629a87b5420">POLLWRNORM</a>|<a class="code" href="select_8h.html#a91b3c67129ac7675062f316b840a0d58">POLLOUT</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span>(pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].<a class="code" href="structpollfd.html#ac9b2f2c5b1f9a7487eb57e67cd4960ef">events</a> != 0)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      num++;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span>(num)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    nfds = <a class="code" href="select_8c.html#ae71a741eee93be102e4bf9083953a8b2">Curl_poll</a>(pfd, num, timeout_ms);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    nfds = 0;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span>(!nfds)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">/* Call ares_process() unconditonally here, even if we simply timed out</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">       above, as otherwise the ares name resolve won&#39;t timeout! */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    ares_process_fd((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, ARES_SOCKET_BAD,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    ARES_SOCKET_BAD);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">/* move through the descriptors and ask for processing on them */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; num; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      ares_process_fd((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].revents &amp; (<a class="code" href="select_8h.html#a8ca81f2b28be692732d3f0b601fd828d">POLLRDNORM</a>|<a class="code" href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>)?</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].fd:ARES_SOCKET_BAD,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].revents &amp; (<a class="code" href="select_8h.html#ab8f1f69608ba2430cd5fa629a87b5420">POLLWRNORM</a>|<a class="code" href="select_8h.html#a91b3c67129ac7675062f316b840a0d58">POLLOUT</a>)?</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                      pfd[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>].fd:ARES_SOCKET_BAD);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">return</span> nfds;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * Curl_resolver_is_resolved() is called repeatedly to check if a previous</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * name resolve request has completed. It should also make sure to time-out if</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * the operation seems to take too long.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * Returns normal CURLcode errors.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="asyn_8h.html#a017ed0d46e9c50c0aaf19ca65412d269">Curl_resolver_is_resolved</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                   <span class="keyword">struct</span> <a class="code" href="struct_curl__dns__entry.html">Curl_dns_entry</a> **dns)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">struct </span>ResolverResults *res = (<span class="keyword">struct </span>ResolverResults *)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ac8eb5e0ac16ea5ef38dbb68a5a50a344">os_specific</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span>(dns)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    *dns = NULL;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  waitperform(conn, 0);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span>(res &amp;&amp; !res-&gt;num_pending) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span>(dns) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      (void)<a class="code" href="hostip_8h.html#a4357844593511a0503521251f151dc35">Curl_addrinfo_callback</a>(conn, res-&gt;last_status, res-&gt;temp_ai);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">/* temp_ai ownership is moved to the connection, so we need not free-up</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">         them */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      res-&gt;temp_ai = NULL;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ad332b101ad0d9229113ca378e7909f29">dns</a>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Could not resolve: %s (%s)&quot;</span>,</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">hostname</a>, ares_strerror(conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a71e25a1a753873609e9f9301badde331">status</a>));</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a>?<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd">CURLE_COULDNT_RESOLVE_PROXY</a>:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630">CURLE_COULDNT_RESOLVE_HOST</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(dns)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      *dns = conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ad332b101ad0d9229113ca378e7909f29">dns</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    destroy_async_data(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * Curl_resolver_wait_resolv()</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * waits for a resolve to finish. This function should be avoided since using</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * this risk getting the multi interface to &quot;hang&quot;.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> * If &#39;entry&#39; is non-NULL, make it point to the resolved dns entry</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * Returns CURLE_COULDNT_RESOLVE_HOST if the host was not resolved, and</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * CURLE_OPERATION_TIMEDOUT if a time-out occurred.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="asyn_8h.html#ad14e13eb0e765d0d2b825ae8d0ad7c00">Curl_resolver_wait_resolv</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                   <span class="keyword">struct</span> <a class="code" href="struct_curl__dns__entry.html">Curl_dns_entry</a> **entry)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="timeval_8h.html#aeb19832fd3e7f11c8d047d6824300e87">timediff_t</a> <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurltime.html">curltime</a> <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__dns__entry.html">Curl_dns_entry</a> *temp_entry;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span>(entry)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    *entry = NULL; <span class="comment">/* clear on entry */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> = <a class="code" href="connect_8c.html#aed32c0fb99c80a40c097c98a3eb03c74">Curl_timeleft</a>(<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>, <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> &lt; 0) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">/* already expired! */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="connect_8h.html#a0f98be540dd5a5f56c9ec98dc2489661">connclose</a>(conn, <span class="stringliteral">&quot;Timed out before name resolve started&quot;</span>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> = <a class="code" href="hostip_8h.html#a1bdc7d46492751b6943684b9b46fb75c">CURL_TIMEOUT_RESOLVE</a> * 1000; <span class="comment">/* default name resolve timeout */</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">/* Wait for the name resolve query to complete. */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">while</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtimeval.html">timeval</a> *tvp, tv, store;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">int</span> itimeout;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">int</span> timeout_ms;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    itimeout = (<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> &gt; (long)INT_MAX) ? INT_MAX : (int)<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    store.<a class="code" href="structtimeval.html#a3599199839a89e99a2ce29d45312b5cf">tv_sec</a> = itimeout/1000;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    store.<a class="code" href="structtimeval.html#aa8396731f2914f9ed2a457d3da602b80">tv_usec</a> = (itimeout%1000)*1000;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    tvp = ares_timeout((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, &amp;store, &amp;tv);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">/* use the timeout period ares returned to us above if less than one</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">       second is left, otherwise just use 1000ms to make sure the progress</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">       callback gets called frequent enough */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span>(!tvp-&gt;<a class="code" href="structtimeval.html#a3599199839a89e99a2ce29d45312b5cf">tv_sec</a>)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      timeout_ms = (int)(tvp-&gt;<a class="code" href="structtimeval.html#aa8396731f2914f9ed2a457d3da602b80">tv_usec</a>/1000);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      timeout_ms = 1000;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    waitperform(conn, timeout_ms);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="asyn_8h.html#a017ed0d46e9c50c0aaf19ca65412d269">Curl_resolver_is_resolved</a>(conn, entry?&amp;temp_entry:NULL);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> || conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a8e945db1e4a4c9cc6d47d8952e1fa23b">done</a>)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="progress_8c.html#a40686d443707afea0c0e47cee805df01">Curl_pgrsUpdate</a>(conn))</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b">CURLE_ABORTED_BY_CALLBACK</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keyword">struct </span><a class="code" href="structcurltime.html">curltime</a> now2 = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="timeval_8h.html#aeb19832fd3e7f11c8d047d6824300e87">timediff_t</a> <a class="code" href="util_8c.html#a163643773dd692691a3cf12d89196556">timediff</a> = <a class="code" href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a>(now2, <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>); <span class="comment">/* spent time */</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="util_8c.html#a163643773dd692691a3cf12d89196556">timediff</a> &lt;= 0)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> -= 1; <span class="comment">/* always deduct at least 1 */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="util_8c.html#a163643773dd692691a3cf12d89196556">timediff</a> &gt; <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a>)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> = -1;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> -= (long)<a class="code" href="util_8c.html#a163643773dd692691a3cf12d89196556">timediff</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a> = now2; <span class="comment">/* for next loop */</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a> &lt; 0)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">/* failure, so we cancel the ares operation */</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    ares_cancel((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">/* Operation complete, if the lookup was successful we now have the entry</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">     in the cache. */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span>(entry)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    *entry = conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ad332b101ad0d9229113ca378e7909f29">dns</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">/* close the connection, since we can&#39;t return failure here without</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">       cleaning up this connection properly.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">       TODO: remove this action from here, it is not a name resolver decision.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="connect_8h.html#a0f98be540dd5a5f56c9ec98dc2489661">connclose</a>(conn, <span class="stringliteral">&quot;c-ares resolve failed&quot;</span>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/* Connects results to the list */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> compound_results(<span class="keyword">struct</span> ResolverResults *res,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                             <a class="code" href="struct_curl__addrinfo.html">Curl_addrinfo</a> *ai)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="struct_curl__addrinfo.html">Curl_addrinfo</a> *ai_tail;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span>(!ai)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  ai_tail = ai;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">while</span>(ai_tail-&gt;<a class="code" href="struct_curl__addrinfo.html#a871199ad1750edcfa4c642c74cb8ccd8">ai_next</a>)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    ai_tail = ai_tail-&gt;<a class="code" href="struct_curl__addrinfo.html#a871199ad1750edcfa4c642c74cb8ccd8">ai_next</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">/* Add the new results to the list of old results. */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  ai_tail-&gt;<a class="code" href="struct_curl__addrinfo.html#a871199ad1750edcfa4c642c74cb8ccd8">ai_next</a> = res-&gt;temp_ai;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  res-&gt;temp_ai = ai;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> * ares_query_completed_cb() is the callback that ares will call when</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> * the host query initiated by ares_gethostbyname() from Curl_getaddrinfo(),</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> * when using ares, is completed either successfully or with failure.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> query_completed_cb(<span class="keywordtype">void</span> *arg,  <span class="comment">/* (struct connectdata *) */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                               <span class="keywordtype">int</span> status,</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;#ifdef HAVE_CARES_CALLBACK_TIMEOUTS</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                               <span class="keywordtype">int</span> timeouts,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;#endif</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                               <span class="keyword">struct</span> hostent *hostent)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn = (<span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *)arg;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keyword">struct </span>ResolverResults *res;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#ifdef HAVE_CARES_CALLBACK_TIMEOUTS</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  (void)timeouts; <span class="comment">/* ignored */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span>(ARES_EDESTRUCTION == status)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">/* when this ares handle is getting destroyed, the &#39;arg&#39; pointer may not</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">       be valid so only defer it when we know the &#39;status&#39; says its fine! */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  res = (<span class="keyword">struct </span>ResolverResults *)conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ac8eb5e0ac16ea5ef38dbb68a5a50a344">os_specific</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">if</span>(res) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    res-&gt;num_pending--;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hostip_8h.html#a48be359479723afe633cf8816ad01ad0">CURL_ASYNC_SUCCESS</a> == status) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <a class="code" href="struct_curl__addrinfo.html">Curl_addrinfo</a> *ai = <a class="code" href="curl__addrinfo_8c.html#a927b66bba3b619a88c864eb5ee150237">Curl_he2ai</a>(hostent, conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a63bb0faf005a32f7b782d89994d88cef">port</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">if</span>(ai) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        compound_results(res, ai);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">/* A successful result overwrites any previous error */</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span>(res-&gt;last_status != ARES_SUCCESS)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      res-&gt;last_status = status;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * Curl_resolver_getaddrinfo() - when using ares</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * Returns name information about the given hostname and port number. If</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * successful, the &#39;hostent&#39; is returned and the forth argument will point to</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> * memory we need to free after use. That memory *MUST* be freed with</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> * Curl_freeaddrinfo(), nothing else.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<a class="code" href="struct_curl__addrinfo.html">Curl_addrinfo</a> *<a class="code" href="asyn_8h.html#a517537b9b281652e1c834b18c4b9f6d4">Curl_resolver_getaddrinfo</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structhostname.html">hostname</a>,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                         <span class="keywordtype">int</span> port,</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                         <span class="keywordtype">int</span> *waitp)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordtype">char</span> *bufp;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keyword">struct </span>in_addr <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordtype">int</span> family = PF_INET;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#ifdef ENABLE_IPV6 </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keyword">struct </span>in6_addr in6;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  *waitp = 0; <span class="comment">/* default to synchronous response */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">/* First check if this is an IPv4 address string */</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="inet__pton_8c.html#a8d1e996e3cc6d70e844c787b1a8614cc">Curl_inet_pton</a>(AF_INET, <a class="code" href="structhostname.html">hostname</a>, &amp;<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>) &gt; 0) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">/* This is a dotted IP address 123.123.123.123-style */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl__addrinfo_8c.html#a3404bb945072137b7e9a54cdd97b212c">Curl_ip2addr</a>(AF_INET, &amp;<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>, <a class="code" href="structhostname.html">hostname</a>, port);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#ifdef ENABLE_IPV6 </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">/* Otherwise, check if this is an IPv6 address string */</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="inet__pton_8c.html#a8d1e996e3cc6d70e844c787b1a8614cc">Curl_inet_pton</a> (AF_INET6, <a class="code" href="structhostname.html">hostname</a>, &amp;in6) &gt; 0)</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">/* This must be an IPv6 address literal.  */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl__addrinfo_8c.html#a3404bb945072137b7e9a54cdd97b212c">Curl_ip2addr</a>(AF_INET6, &amp;in6, <a class="code" href="structhostname.html">hostname</a>, port);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">switch</span>(conn-&gt;<a class="code" href="structconnectdata.html#ad0fdd504366b349123252aa698625fd9">ip_version</a>) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">#if ARES_VERSION &gt;= 0x010601</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    family = PF_UNSPEC; <span class="comment">/* supported by c-ares since 1.6.1, so for older</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">                           c-ares versions this just falls through and defaults</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">                           to PF_INET */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a10f1fdedc5753fb92ccfb7cb08bdf9d7">CURL_IPRESOLVE_V4</a>:</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    family = PF_INET;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#aacb5df097bc05c47daa985deb2425e67">CURL_IPRESOLVE_V6</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    family = PF_INET6;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  bufp = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structhostname.html">hostname</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span>(bufp) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keyword">struct </span>ResolverResults *res = NULL;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">hostname</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">hostname</a> = bufp;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a63bb0faf005a32f7b782d89994d88cef">port</a> = port;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a8e945db1e4a4c9cc6d47d8952e1fa23b">done</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;   <span class="comment">/* not done */</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a71e25a1a753873609e9f9301badde331">status</a> = 0;     <span class="comment">/* clear */</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ad332b101ad0d9229113ca378e7909f29">dns</a> = NULL;     <span class="comment">/* clear */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    res = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ResolverResults), 1);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span>(!res) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">hostname</a>);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">hostname</a> = NULL;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">async</a>.<a class="code" href="struct_curl__async.html#ac8eb5e0ac16ea5ef38dbb68a5a50a344">os_specific</a> = res;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">/* initial status - failed */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    res-&gt;last_status = ARES_ENOTFOUND;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#ifdef ENABLE_IPV6 </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span>(family == PF_UNSPEC) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="hostip_8h.html#a88fb55973505b32fb5e27e4a92cfe0bd">Curl_ipv6works</a>()) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        res-&gt;num_pending = 2;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="comment">/* areschannel is already setup in the Curl_open() function */</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        ares_gethostbyname((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, <a class="code" href="structhostname.html">hostname</a>,</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                            PF_INET, query_completed_cb, conn);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        ares_gethostbyname((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, <a class="code" href="structhostname.html">hostname</a>,</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                            PF_INET6, query_completed_cb, conn);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        res-&gt;num_pending = 1;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">/* areschannel is already setup in the Curl_open() function */</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        ares_gethostbyname((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, <a class="code" href="structhostname.html">hostname</a>,</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                            PF_INET, query_completed_cb, conn);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURLRES_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      res-&gt;num_pending = 1;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">/* areschannel is already setup in the Curl_open() function */</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      ares_gethostbyname((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, <a class="code" href="structhostname.html">hostname</a>, family,</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                         query_completed_cb, conn);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    *waitp = 1; <span class="comment">/* expect asynchronous response */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">return</span> NULL; <span class="comment">/* no struct yet */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="hostip_8h.html#a444cd2041dbaefe44f9ec53e44e0f3a4">Curl_set_dns_servers</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                              <span class="keywordtype">char</span> *<a class="code" href="quote_8d.html#a508783558461fc09b315c94bfae05e0a">servers</a>)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordtype">int</span> ares_result;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">/* If server is NULL or empty, this would purge all DNS servers</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">   * from ares library, which will cause any and all queries to fail.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">   * So, just return OK if none are configured and don&#39;t actually make</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">   * any changes to c-ares.  This lets c-ares use it&#39;s defaults, which</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">   * it gets from the OS (for instance from /etc/resolv.conf on Linux).</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span>(!(<a class="code" href="quote_8d.html#a508783558461fc09b315c94bfae05e0a">servers</a> &amp;&amp; <a class="code" href="quote_8d.html#a508783558461fc09b315c94bfae05e0a">servers</a>[0]))</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#if (ARES_VERSION &gt;= 0x010704)</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  ares_result = ares_set_servers_csv(<a class="code" href="structdata.html">data</a>-&gt;state.resolver, <a class="code" href="quote_8d.html#a508783558461fc09b315c94bfae05e0a">servers</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">switch</span>(ares_result) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">case</span> ARES_SUCCESS:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">case</span> ARES_ENOMEM:</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">case</span> ARES_ENOTINITIALIZED:</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">case</span> ARES_ENODATA:</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">case</span> ARES_EBADSTR:</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a0e5145164e8e2a9d6eb43eef1c71f1af">CURLE_BAD_FUNCTION_ARGUMENT</a>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* too old c-ares version! */</span><span class="preprocessor"></span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  (void)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  (void)(ares_result);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="hostip_8h.html#a839c597f273748d9bc27c7ed470f4a7a">Curl_set_dns_interface</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">char</span> *interf)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">#if (ARES_VERSION &gt;= 0x010704)</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">if</span>(!interf)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    interf = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  ares_set_local_dev((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, interf);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* c-ares version too old! */</span><span class="preprocessor"></span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  (void)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  (void)interf;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="hostip_8h.html#ad602a853eadd67e8f55bf971de5beba3">Curl_set_dns_local_ip4</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">char</span> *local_ip4)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#if (ARES_VERSION &gt;= 0x010704)</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keyword">struct </span>in_addr a4;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span>((!local_ip4) || (local_ip4[0] == 0)) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    a4.s_addr = 0; <span class="comment">/* disabled: do not bind to a specific address */</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="inet__pton_8c.html#a8d1e996e3cc6d70e844c787b1a8614cc">Curl_inet_pton</a>(AF_INET, local_ip4, &amp;a4) != 1) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a0e5145164e8e2a9d6eb43eef1c71f1af">CURLE_BAD_FUNCTION_ARGUMENT</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  ares_set_local_ip4((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, ntohl(a4.s_addr));</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* c-ares version too old! */</span><span class="preprocessor"></span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  (void)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  (void)local_ip4;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="hostip_8h.html#a8bf8926cf10ca76c318b143a8420d3fa">Curl_set_dns_local_ip6</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">char</span> *local_ip6)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#if (ARES_VERSION &gt;= 0x010704) &amp;&amp; defined(ENABLE_IPV6)</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> a6[INET6_ADDRSTRLEN];</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span>((!local_ip6) || (local_ip6[0] == 0)) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">/* disabled: do not bind to a specific address */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="unit1652_8c.html#a1d19b0eef3b3acd31be88886a0277c2e">memset</a>(a6, 0, <span class="keyword">sizeof</span>(a6));</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="inet__pton_8c.html#a8d1e996e3cc6d70e844c787b1a8614cc">Curl_inet_pton</a>(AF_INET6, local_ip6, a6) != 1) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a0e5145164e8e2a9d6eb43eef1c71f1af">CURLE_BAD_FUNCTION_ARGUMENT</a>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  ares_set_local_ip6((ares_channel)<a class="code" href="structdata.html">data</a>-&gt;state.resolver, a6);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* c-ares version too old! */</span><span class="preprocessor"></span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  (void)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  (void)local_ip6;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURLRES_ARES */</span><span class="preprocessor"></span></div><div class="ttc" id="curl__memory_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00130">curl_memory.h:130</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00498">curl.h:498</a></div></div>
<div class="ttc" id="struct_connect_bits_html_ad6024fcc7a2aefd8d8d1359f9ae7955d"><div class="ttname"><a href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">ConnectBits::proxy</a></div><div class="ttdeci">bool proxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00387">urldata.h:387</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630">CURLE_COULDNT_RESOLVE_HOST</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00465">curl.h:465</a></div></div>
<div class="ttc" id="struct_curl__easy_html_a15aced4a015c44ff454787debee23520"><div class="ttname"><a href="struct_curl__easy.html#a15aced4a015c44ff454787debee23520">Curl_easy::state</a></div><div class="ttdeci">struct UrlState state</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01795">urldata.h:1795</a></div></div>
<div class="ttc" id="curl_8h_html_aacb5df097bc05c47daa985deb2425e67"><div class="ttname"><a href="curl_8h.html#aacb5df097bc05c47daa985deb2425e67">CURL_IPRESOLVE_V6</a></div><div class="ttdeci">#define CURL_IPRESOLVE_V6</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01915">curl.h:1915</a></div></div>
<div class="ttc" id="share_8h_html"><div class="ttname"><a href="share_8h.html">share.h</a></div></div>
<div class="ttc" id="struct_curl__async_html_ad332b101ad0d9229113ca378e7909f29"><div class="ttname"><a href="struct_curl__async.html#ad332b101ad0d9229113ca378e7909f29">Curl_async::dns</a></div><div class="ttdeci">struct Curl_dns_entry * dns</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00474">urldata.h:474</a></div></div>
<div class="ttc" id="structconnectdata_html_a9312f162d29fe7f59bc2b5dbeda85d9d"><div class="ttname"><a href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">connectdata::bits</a></div><div class="ttdeci">struct ConnectBits bits</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00894">urldata.h:894</a></div></div>
<div class="ttc" id="util_8c_html_a163643773dd692691a3cf12d89196556"><div class="ttname"><a href="util_8c.html#a163643773dd692691a3cf12d89196556">timediff</a></div><div class="ttdeci">long timediff(struct timeval newer, struct timeval older)</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00492">util.c:492</a></div></div>
<div class="ttc" id="struct_curl__easy_html"><div class="ttname"><a href="struct_curl__easy.html">Curl_easy</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01755">urldata.h:1755</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a0e5145164e8e2a9d6eb43eef1c71f1af"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a0e5145164e8e2a9d6eb43eef1c71f1af">CURLE_BAD_FUNCTION_ARGUMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00513">curl.h:513</a></div></div>
<div class="ttc" id="connect_8h_html_a0f98be540dd5a5f56c9ec98dc2489661"><div class="ttname"><a href="connect_8h.html#a0f98be540dd5a5f56c9ec98dc2489661">connclose</a></div><div class="ttdeci">#define connclose(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8h_source.html#l00145">connect.h:145</a></div></div>
<div class="ttc" id="hostip_8h_html_ad602a853eadd67e8f55bf971de5beba3"><div class="ttname"><a href="hostip_8h.html#ad602a853eadd67e8f55bf971de5beba3">Curl_set_dns_local_ip4</a></div><div class="ttdeci">CURLcode Curl_set_dns_local_ip4(struct Curl_easy *data, const char *local_ip4)</div><div class="ttdef"><b>Definition:</b> <a href="hostsyn_8c_source.html#l00087">hostsyn.c:87</a></div></div>
<div class="ttc" id="asyn_8h_html_a005f24350f3adcef7fe6be51da982536"><div class="ttname"><a href="asyn_8h.html#a005f24350f3adcef7fe6be51da982536">Curl_resolver_getsock</a></div><div class="ttdeci">int Curl_resolver_getsock(struct connectdata *conn, curl_socket_t *sock, int numsocks)</div></div>
<div class="ttc" id="struct_curl__async_html_a8e945db1e4a4c9cc6d47d8952e1fa23b"><div class="ttname"><a href="struct_curl__async.html#a8e945db1e4a4c9cc6d47d8952e1fa23b">Curl_async::done</a></div><div class="ttdeci">bool done</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00475">urldata.h:475</a></div></div>
<div class="ttc" id="structtimeval_html_a3599199839a89e99a2ce29d45312b5cf"><div class="ttname"><a href="structtimeval.html#a3599199839a89e99a2ce29d45312b5cf">timeval::tv_sec</a></div><div class="ttdeci">long tv_sec</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00110">curl_setup_once.h:110</a></div></div>
<div class="ttc" id="struct_curl__async_html"><div class="ttname"><a href="struct_curl__async.html">Curl_async</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00471">urldata.h:471</a></div></div>
<div class="ttc" id="struct_curl__async_html_a71e25a1a753873609e9f9301badde331"><div class="ttname"><a href="struct_curl__async.html#a71e25a1a753873609e9f9301badde331">Curl_async::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00476">urldata.h:476</a></div></div>
<div class="ttc" id="connect_8h_html"><div class="ttname"><a href="connect_8h.html">connect.h</a></div></div>
<div class="ttc" id="sendf_8h_html_ae8e06000059e436c9c404603126718d6"><div class="ttname"><a href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a></div><div class="ttdeci">#define failf</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00048">sendf.h:48</a></div></div>
<div class="ttc" id="sendf_8h_html"><div class="ttname"><a href="sendf_8h.html">sendf.h</a></div></div>
<div class="ttc" id="curl_8h_html_a10f1fdedc5753fb92ccfb7cb08bdf9d7"><div class="ttname"><a href="curl_8h.html#a10f1fdedc5753fb92ccfb7cb08bdf9d7">CURL_IPRESOLVE_V4</a></div><div class="ttdeci">#define CURL_IPRESOLVE_V4</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01914">curl.h:1914</a></div></div>
<div class="ttc" id="curl__memory_8h_html_aa3f578f8f1eaebf25b2e2313db31cb40"><div class="ttname"><a href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a></div><div class="ttdeci">#define strdup(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00122">curl_memory.h:122</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_a23d7b88872d6ead46c978b567908d587"><div class="ttname"><a href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a></div><div class="ttdeci">#define DEBUGASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00401">curl_setup_once.h:401</a></div></div>
<div class="ttc" id="multi-uv_8c_html_afb43b78d9a22f95e721353db4408304c"><div class="ttname"><a href="multi-uv_8c.html#afb43b78d9a22f95e721353db4408304c">timeout</a></div><div class="ttdeci">uv_timer_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="multi-uv_8c_source.html#l00042">multi-uv.c:42</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="ttdeci">CURLcode</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00457">curl.h:457</a></div></div>
<div class="ttc" id="asyn_8h_html_ab23571bb6728f661af21da22e3900a65"><div class="ttname"><a href="asyn_8h.html#ab23571bb6728f661af21da22e3900a65">Curl_resolver_duphandle</a></div><div class="ttdeci">CURLcode Curl_resolver_duphandle(struct Curl_easy *easy, void **to, void *from)</div></div>
<div class="ttc" id="hash_8h_html"><div class="ttname"><a href="hash_8h.html">hash.h</a></div></div>
<div class="ttc" id="select_8h_html_ab8f1f69608ba2430cd5fa629a87b5420"><div class="ttname"><a href="select_8h.html#ab8f1f69608ba2430cd5fa629a87b5420">POLLWRNORM</a></div><div class="ttdeci">#define POLLWRNORM</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00063">select.h:63</a></div></div>
<div class="ttc" id="unit1399_8c_html_acf1e931ffa73126ce876102dc2186895"><div class="ttname"><a href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a></div><div class="ttdeci">struct curltime now</div><div class="ttdef"><b>Definition:</b> <a href="unit1399_8c_source.html#l00083">unit1399.c:83</a></div></div>
<div class="ttc" id="curl__addrinfo_8c_html_a3404bb945072137b7e9a54cdd97b212c"><div class="ttname"><a href="curl__addrinfo_8c.html#a3404bb945072137b7e9a54cdd97b212c">Curl_ip2addr</a></div><div class="ttdeci">Curl_addrinfo * Curl_ip2addr(int af, const void *inaddr, const char *hostname, int port)</div><div class="ttdef"><b>Definition:</b> <a href="curl__addrinfo_8c_source.html#l00397">curl_addrinfo.c:397</a></div></div>
<div class="ttc" id="curl__addrinfo_8c_html_adfda8bf59056f5007ee5af04f3e411ac"><div class="ttname"><a href="curl__addrinfo_8c.html#adfda8bf59056f5007ee5af04f3e411ac">Curl_freeaddrinfo</a></div><div class="ttdeci">void Curl_freeaddrinfo(Curl_addrinfo *cahead)</div><div class="ttdef"><b>Definition:</b> <a href="curl__addrinfo_8c_source.html#l00085">curl_addrinfo.c:85</a></div></div>
<div class="ttc" id="select_8h_html_a91b3c67129ac7675062f316b840a0d58"><div class="ttname"><a href="select_8h.html#a91b3c67129ac7675062f316b840a0d58">POLLOUT</a></div><div class="ttdeci">#define POLLOUT</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00044">select.h:44</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00462">curl.h:462</a></div></div>
<div class="ttc" id="unit1608_8c_html_a8e67ff5c12b8bbb5baf741515fa674bb"><div class="ttname"><a href="unit1608_8c.html#a8e67ff5c12b8bbb5baf741515fa674bb">easy</a></div><div class="ttdeci">struct Curl_easy * easy</div><div class="ttdef"><b>Definition:</b> <a href="unit1608_8c_source.html#l00050">unit1608.c:50</a></div></div>
<div class="ttc" id="quote_8d_html_a508783558461fc09b315c94bfae05e0a"><div class="ttname"><a href="quote_8d.html#a508783558461fc09b315c94bfae05e0a">servers</a></div><div class="ttdeci">Long to be exact.To make commands take place after a successful prefix them with a dash.To make commands be sent after curl has changed the working just before the transfer prefix the command with the entire operation will be aborted.You must send syntactically correct FTP commands as RFC defines to FTP servers</div><div class="ttdef"><b>Definition:</b> <a href="quote_8d_source.html#l00017">quote.d:17</a></div></div>
<div class="ttc" id="structhostname_html"><div class="ttname"><a href="structhostname.html">hostname</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00446">urldata.h:446</a></div></div>
<div class="ttc" id="structpollfd_html_ac9b2f2c5b1f9a7487eb57e67cd4960ef"><div class="ttname"><a href="structpollfd.html#ac9b2f2c5b1f9a7487eb57e67cd4960ef">pollfd::events</a></div><div class="ttdeci">short events</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00052">select.h:52</a></div></div>
<div class="ttc" id="unit1304_8c_html_a937d4dd628a8858b443a399410d2600b"><div class="ttname"><a href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a></div><div class="ttdeci">UNITTEST_START int result</div><div class="ttdef"><b>Definition:</b> <a href="unit1304_8c_source.html#l00049">unit1304.c:49</a></div></div>
<div class="ttc" id="urldata_8h_html_aabb7db968656c3ee0555ea3d8784310da28491a64e37ced430b292a513a093a85"><div class="ttname"><a href="urldata_8h.html#aabb7db968656c3ee0555ea3d8784310da28491a64e37ced430b292a513a093a85">EXPIRE_ASYNC_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01207">urldata.h:1207</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="struct_curl__addrinfo_html_a871199ad1750edcfa4c642c74cb8ccd8"><div class="ttname"><a href="struct_curl__addrinfo.html#a871199ad1750edcfa4c642c74cb8ccd8">Curl_addrinfo::ai_next</a></div><div class="ttdeci">struct Curl_addrinfo * ai_next</div><div class="ttdef"><b>Definition:</b> <a href="curl__addrinfo_8h_source.html#l00059">curl_addrinfo.h:59</a></div></div>
<div class="ttc" id="asyn_8h_html_a0184861709315e8de5f48ce59f672bdb"><div class="ttname"><a href="asyn_8h.html#a0184861709315e8de5f48ce59f672bdb">Curl_resolver_cancel</a></div><div class="ttdeci">void Curl_resolver_cancel(struct connectdata *conn)</div></div>
<div class="ttc" id="hostip_8h_html_a48be359479723afe633cf8816ad01ad0"><div class="ttname"><a href="hostip_8h.html#a48be359479723afe633cf8816ad01ad0">CURL_ASYNC_SUCCESS</a></div><div class="ttdeci">#define CURL_ASYNC_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00049">hostip.h:49</a></div></div>
<div class="ttc" id="struct_curl__async_html_ac8eb5e0ac16ea5ef38dbb68a5a50a344"><div class="ttname"><a href="struct_curl__async.html#ac8eb5e0ac16ea5ef38dbb68a5a50a344">Curl_async::os_specific</a></div><div class="ttdeci">void * os_specific</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00477">urldata.h:477</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd">CURLE_COULDNT_RESOLVE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00464">curl.h:464</a></div></div>
<div class="ttc" id="timeval_8c_html_ae736e803680e1b7fa2b2868317b4b91f"><div class="ttname"><a href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a></div><div class="ttdeci">struct curltime Curl_now(void)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00154">timeval.c:154</a></div></div>
<div class="ttc" id="curl__printf_8h_html"><div class="ttname"><a href="curl__printf_8h.html">curl_printf.h</a></div></div>
<div class="ttc" id="asyn_8h_html_a517537b9b281652e1c834b18c4b9f6d4"><div class="ttname"><a href="asyn_8h.html#a517537b9b281652e1c834b18c4b9f6d4">Curl_resolver_getaddrinfo</a></div><div class="ttdeci">Curl_addrinfo * Curl_resolver_getaddrinfo(struct connectdata *conn, const char *hostname, int port, int *waitp)</div></div>
<div class="ttc" id="structtimeval_html_aa8396731f2914f9ed2a457d3da602b80"><div class="ttname"><a href="structtimeval.html#aa8396731f2914f9ed2a457d3da602b80">timeval::tv_usec</a></div><div class="ttdeci">long tv_usec</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00111">curl_setup_once.h:111</a></div></div>
<div class="ttc" id="multi_8c_html_afbc31d9271626832fb21b413ec57c268"><div class="ttname"><a href="multi_8c.html#afbc31d9271626832fb21b413ec57c268">Curl_multi_closed</a></div><div class="ttdeci">void Curl_multi_closed(struct Curl_easy *data, curl_socket_t s)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l02505">multi.c:2505</a></div></div>
<div class="ttc" id="progress_8c_html_a40686d443707afea0c0e47cee805df01"><div class="ttname"><a href="progress_8c.html#a40686d443707afea0c0e47cee805df01">Curl_pgrsUpdate</a></div><div class="ttdeci">int Curl_pgrsUpdate(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00369">progress.c:369</a></div></div>
<div class="ttc" id="inet__pton_8h_html"><div class="ttname"><a href="inet__pton_8h.html">inet_pton.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00493">curl.h:493</a></div></div>
<div class="ttc" id="hostip_8h_html_a4357844593511a0503521251f151dc35"><div class="ttname"><a href="hostip_8h.html#a4357844593511a0503521251f151dc35">Curl_addrinfo_callback</a></div><div class="ttdeci">CURLcode Curl_addrinfo_callback(struct connectdata *conn, int status, Curl_addrinfo *ai)</div></div>
<div class="ttc" id="progress_8h_html"><div class="ttname"><a href="progress_8h.html">progress.h</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00327">curl_setup_once.h:327</a></div></div>
<div class="ttc" id="hostip_8h_html_a8bf8926cf10ca76c318b143a8420d3fa"><div class="ttname"><a href="hostip_8h.html#a8bf8926cf10ca76c318b143a8420d3fa">Curl_set_dns_local_ip6</a></div><div class="ttdeci">CURLcode Curl_set_dns_local_ip6(struct Curl_easy *data, const char *local_ip6)</div><div class="ttdef"><b>Definition:</b> <a href="hostsyn_8c_source.html#l00099">hostsyn.c:99</a></div></div>
<div class="ttc" id="struct_curl__dns__entry_html"><div class="ttname"><a href="struct_curl__dns__entry.html">Curl_dns_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00066">hostip.h:66</a></div></div>
<div class="ttc" id="connect_8c_html_aed32c0fb99c80a40c097c98a3eb03c74"><div class="ttname"><a href="connect_8c.html#aed32c0fb99c80a40c097c98a3eb03c74">Curl_timeleft</a></div><div class="ttdeci">timediff_t Curl_timeleft(struct Curl_easy *data, struct curltime *nowp, bool duringconnect)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l00184">connect.c:184</a></div></div>
<div class="ttc" id="hostip_8h_html_a444cd2041dbaefe44f9ec53e44e0f3a4"><div class="ttname"><a href="hostip_8h.html#a444cd2041dbaefe44f9ec53e44e0f3a4">Curl_set_dns_servers</a></div><div class="ttdeci">CURLcode Curl_set_dns_servers(struct Curl_easy *data, char *servers)</div><div class="ttdef"><b>Definition:</b> <a href="hostsyn_8c_source.html#l00062">hostsyn.c:62</a></div></div>
<div class="ttc" id="select_8h_html"><div class="ttname"><a href="select_8h.html">select.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a309ade641c94c3e710ae887405dba78b">CURLE_ABORTED_BY_CALLBACK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00512">curl.h:512</a></div></div>
<div class="ttc" id="structtimeval_html"><div class="ttname"><a href="structtimeval.html">timeval</a></div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00109">curl_setup_once.h:109</a></div></div>
<div class="ttc" id="strerror_8h_html"><div class="ttname"><a href="strerror_8h.html">strerror.h</a></div></div>
<div class="ttc" id="structpollfd_html"><div class="ttname"><a href="structpollfd.html">pollfd</a></div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00049">select.h:49</a></div></div>
<div class="ttc" id="structcurltime_html"><div class="ttname"><a href="structcurltime.html">curltime</a></div><div class="ttdef"><b>Definition:</b> <a href="timeval_8h_source.html#l00033">timeval.h:33</a></div></div>
<div class="ttc" id="asyn_8h_html_a49da7a0f7f3ec87fee1ad60f2fd7e651"><div class="ttname"><a href="asyn_8h.html#a49da7a0f7f3ec87fee1ad60f2fd7e651">Curl_resolver_init</a></div><div class="ttdeci">CURLcode Curl_resolver_init(struct Curl_easy *easy, void **resolver)</div></div>
<div class="ttc" id="asyn_8h_html_a5347031b2083b57609737b61c8ec4486"><div class="ttname"><a href="asyn_8h.html#a5347031b2083b57609737b61c8ec4486">Curl_resolver_cleanup</a></div><div class="ttdeci">void Curl_resolver_cleanup(void *resolver)</div></div>
<div class="ttc" id="curl__memory_8h_html"><div class="ttname"><a href="curl__memory_8h.html">curl_memory.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00458">curl.h:458</a></div></div>
<div class="ttc" id="asyn_8h_html_aa78b47c52edb61b245bbb8b97770f956"><div class="ttname"><a href="asyn_8h.html#aa78b47c52edb61b245bbb8b97770f956">Curl_resolver_global_init</a></div><div class="ttdeci">#define Curl_resolver_global_init()</div><div class="ttdef"><b>Definition:</b> <a href="asyn_8h_source.html#l00156">asyn.h:156</a></div></div>
<div class="ttc" id="inet__pton_8c_html_a8d1e996e3cc6d70e844c787b1a8614cc"><div class="ttname"><a href="inet__pton_8c.html#a8d1e996e3cc6d70e844c787b1a8614cc">Curl_inet_pton</a></div><div class="ttdeci">int Curl_inet_pton(int af, const char *src, void *dst)</div><div class="ttdef"><b>Definition:</b> <a href="inet__pton_8c_source.html#l00066">inet_pton.c:66</a></div></div>
<div class="ttc" id="struct_curl__async_html_a63bb0faf005a32f7b782d89994d88cef"><div class="ttname"><a href="struct_curl__async.html#a63bb0faf005a32f7b782d89994d88cef">Curl_async::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00473">urldata.h:473</a></div></div>
<div class="ttc" id="multiif_8h_html"><div class="ttname"><a href="multiif_8h.html">multiif.h</a></div></div>
<div class="ttc" id="timeval_8c_html_a93ce3158c8838916ed817489c98e37c4"><div class="ttname"><a href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a></div><div class="ttdeci">timediff_t Curl_timediff(struct curltime newer, struct curltime older)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00181">timeval.c:181</a></div></div>
<div class="ttc" id="struct_url_state_html_a886625042f5af6bc1a82877fb7bc0b38"><div class="ttname"><a href="struct_url_state.html#a886625042f5af6bc1a82877fb7bc0b38">UrlState::resolver</a></div><div class="ttdeci">void * resolver</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01299">urldata.h:1299</a></div></div>
<div class="ttc" id="curl__setup_8h_html"><div class="ttname"><a href="curl__setup_8h.html">curl_setup.h</a></div></div>
<div class="ttc" id="unit1652_8c_html_a1d19b0eef3b3acd31be88886a0277c2e"><div class="ttname"><a href="unit1652_8c.html#a1d19b0eef3b3acd31be88886a0277c2e">memset</a></div><div class="ttdeci">memset(input, '\0', sizeof(input))</div></div>
<div class="ttc" id="unit1620_8c_html_a3a33462ee2a725f19a5b920fff903e3f"><div class="ttname"><a href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a></div><div class="ttdeci">bool async</div><div class="ttdef"><b>Definition:</b> <a href="unit1620_8c_source.html#l00045">unit1620.c:45</a></div></div>
<div class="ttc" id="hostip_8h_html_a88fb55973505b32fb5e27e4a92cfe0bd"><div class="ttname"><a href="hostip_8h.html#a88fb55973505b32fb5e27e4a92cfe0bd">Curl_ipv6works</a></div><div class="ttdeci">#define Curl_ipv6works()</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00098">hostip.h:98</a></div></div>
<div class="ttc" id="structconnectdata_html_ad0fdd504366b349123252aa698625fd9"><div class="ttname"><a href="structconnectdata.html#ad0fdd504366b349123252aa698625fd9">connectdata::ip_version</a></div><div class="ttdeci">long ip_version</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00908">urldata.h:908</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a7c5e621b8f31e5f941e6044519b4c9c9">CURLE_FAILED_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00460">curl.h:460</a></div></div>
<div class="ttc" id="select_8h_html_a52ac479a805051f59643588b096024ff"><div class="ttname"><a href="select_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a></div><div class="ttdeci">#define POLLIN</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00042">select.h:42</a></div></div>
<div class="ttc" id="structconnectdata_html_a81b59f48e7176a865c7459ce844c45dd"><div class="ttname"><a href="structconnectdata.html#a81b59f48e7176a865c7459ce844c45dd">connectdata::async</a></div><div class="ttdeci">struct Curl_async async</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00995">urldata.h:995</a></div></div>
<div class="ttc" id="asyn_8h_html_a017ed0d46e9c50c0aaf19ca65412d269"><div class="ttname"><a href="asyn_8h.html#a017ed0d46e9c50c0aaf19ca65412d269">Curl_resolver_is_resolved</a></div><div class="ttdeci">CURLcode Curl_resolver_is_resolved(struct connectdata *conn, struct Curl_dns_entry **dns)</div></div>
<div class="ttc" id="header_8d_html_af039c1a4bf9f7d5ffdd981d66cd3fb2d"><div class="ttname"><a href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a></div><div class="ttdeci">Long your externally set header will be used instead of the one.This allows you to make even trickier stuff than curl would normally do.You should not replace internally set headers without knowing perfectly well what you re doing.Remove an header by giving a replacement without content on the right side of the as in</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00009">header.d:9</a></div></div>
<div class="ttc" id="struct_curl__addrinfo_html"><div class="ttname"><a href="struct_curl__addrinfo.html">Curl_addrinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="curl__addrinfo_8h_source.html#l00051">curl_addrinfo.h:51</a></div></div>
<div class="ttc" id="struct_curl__async_html_a0550efdecd5238b2be25262b37c88b7e"><div class="ttname"><a href="struct_curl__async.html#a0550efdecd5238b2be25262b37c88b7e">Curl_async::hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00472">urldata.h:472</a></div></div>
<div class="ttc" id="asyn_8h_html_a658a12f61f442f789df8f222ad2df6d1"><div class="ttname"><a href="asyn_8h.html#a658a12f61f442f789df8f222ad2df6d1">Curl_resolver_global_cleanup</a></div><div class="ttdeci">#define Curl_resolver_global_cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="asyn_8h_source.html#l00157">asyn.h:157</a></div></div>
<div class="ttc" id="select_8c_html_ae71a741eee93be102e4bf9083953a8b2"><div class="ttname"><a href="select_8c.html#ae71a741eee93be102e4bf9083953a8b2">Curl_poll</a></div><div class="ttdeci">int Curl_poll(struct pollfd ufds[], unsigned int nfds, int timeout_ms)</div><div class="ttdef"><b>Definition:</b> <a href="select_8c_source.html#l00392">select.c:392</a></div></div>
<div class="ttc" id="curl__addrinfo_8c_html_a927b66bba3b619a88c864eb5ee150237"><div class="ttname"><a href="curl__addrinfo_8c.html#a927b66bba3b619a88c864eb5ee150237">Curl_he2ai</a></div><div class="ttdeci">Curl_addrinfo * Curl_he2ai(const struct hostent *he, int port)</div><div class="ttdef"><b>Definition:</b> <a href="curl__addrinfo_8c_source.html#l00277">curl_addrinfo.c:277</a></div></div>
<div class="ttc" id="asyn_8h_html_ad14e13eb0e765d0d2b825ae8d0ad7c00"><div class="ttname"><a href="asyn_8h.html#ad14e13eb0e765d0d2b825ae8d0ad7c00">Curl_resolver_wait_resolv</a></div><div class="ttdeci">CURLcode Curl_resolver_wait_resolv(struct connectdata *conn, struct Curl_dns_entry **dnsentry)</div></div>
<div class="ttc" id="multi_8c_html_a759a3f675165554a5f5d6e784afa7fe0"><div class="ttname"><a href="multi_8c.html#a759a3f675165554a5f5d6e784afa7fe0">Curl_expire</a></div><div class="ttdeci">void Curl_expire(struct Curl_easy *data, time_t milli, expire_id id)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l02994">multi.c:2994</a></div></div>
<div class="ttc" id="urldata_8h_html"><div class="ttname"><a href="urldata_8h.html">urldata.h</a></div></div>
<div class="ttc" id="multi-debugcallback_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="multi-debugcallback_8c_source.html#l00038">multi-debugcallback.c:38</a></div></div>
<div class="ttc" id="hostip_8h_html"><div class="ttname"><a href="hostip_8h.html">hostip.h</a></div></div>
<div class="ttc" id="memdebug_8h_html"><div class="ttname"><a href="memdebug_8h.html">memdebug.h</a></div></div>
<div class="ttc" id="hostip_8h_html_a1bdc7d46492751b6943684b9b46fb75c"><div class="ttname"><a href="hostip_8h.html#a1bdc7d46492751b6943684b9b46fb75c">CURL_TIMEOUT_RESOLVE</a></div><div class="ttdeci">#define CURL_TIMEOUT_RESOLVE</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00046">hostip.h:46</a></div></div>
<div class="ttc" id="curl_8h_html_adb5a46d02359d2379dc7e0904c987828"><div class="ttname"><a href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a></div><div class="ttdeci">int curl_socket_t</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00130">curl.h:130</a></div></div>
<div class="ttc" id="url_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="form_8d_html_ac776e8c2aa1a100ee6a391f59441ccf4"><div class="ttname"><a href="form_8d.html#ac776e8c2aa1a100ee6a391f59441ccf4">to</a></div><div class="ttdeci">since the full size is unknown before the transfer such data is sent as chunks by HTTP and rejected by IMAP.where &amp;profile is the name of the form field to which the file portrait.jpg will be the but get the contents for it from a local in a manner similar to</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00028">form.d:28</a></div></div>
<div class="ttc" id="get_8d_html_a38b0ef81b65f2aee282c8c217a123176"><div class="ttname"><a href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a></div><div class="ttdeci">Long this option will make all data specified with data</div><div class="ttdef"><b>Definition:</b> <a href="get_8d_source.html#l00005">get.d:5</a></div></div>
<div class="ttc" id="structconnectdata_html"><div class="ttname"><a href="structconnectdata.html">connectdata</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00782">urldata.h:782</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="hostip_8h_html_a839c597f273748d9bc27c7ed470f4a7a"><div class="ttname"><a href="hostip_8h.html#a839c597f273748d9bc27c7ed470f4a7a">Curl_set_dns_interface</a></div><div class="ttdeci">CURLcode Curl_set_dns_interface(struct Curl_easy *data, const char *interf)</div><div class="ttdef"><b>Definition:</b> <a href="hostsyn_8c_source.html#l00075">hostsyn.c:75</a></div></div>
<div class="ttc" id="fail-early_8d_html_a188ba6f263db5df5a64e1cc11fb0c098"><div class="ttname"><a href="fail-early_8d.html#a188ba6f263db5df5a64e1cc11fb0c098">options</a></div><div class="ttdeci">Long do not continue it will attempt to operate on each given one by one.By it will ignore errors if there are more URLs given and the last URL s success will determine the error code curl returns.So early failures will be hidden by subsequent successful transfers.Using this curl will instead return an error on the first transfer that independent of the amount of URLs that are given on the command line.This no transfer failures go undetected by scripts and similar.This option is global and does not need to be specified for each use of next.This option does not imply which causes transfers to fail due to the server s HTTP status code.You can combine the two options</div><div class="ttdef"><b>Definition:</b> <a href="fail-early_8d_source.html#l00002">fail-early.d:2</a></div></div>
<div class="ttc" id="curl__memory_8h_html_abc013d1a27cb591a5316801c509c781f"><div class="ttname"><a href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a></div><div class="ttdeci">#define calloc(nbelem, size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00126">curl_memory.h:126</a></div></div>
<div class="ttc" id="timeval_8h_html_aeb19832fd3e7f11c8d047d6824300e87"><div class="ttname"><a href="timeval_8h.html#aeb19832fd3e7f11c8d047d6824300e87">timediff_t</a></div><div class="ttdeci">int timediff_t</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8h_source.html#l00028">timeval.h:28</a></div></div>
<div class="ttc" id="select_8h_html_a8ca81f2b28be692732d3f0b601fd828d"><div class="ttname"><a href="select_8h.html#a8ca81f2b28be692732d3f0b601fd828d">POLLRDNORM</a></div><div class="ttdeci">#define POLLRDNORM</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00059">select.h:59</a></div></div>
<div class="ttc" id="structconnectdata_html_a3df7eee97914936f17a228eb2cf84eed"><div class="ttname"><a href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">connectdata::data</a></div><div class="ttdeci">struct Curl_easy * data</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00786">urldata.h:786</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_efb6013f246e7f8b3181c5014844a411.html">lib</a></li><li class="navelem"><a class="el" href="asyn-ares_8c.html">asyn-ares.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
