<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/lib/memdebug.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('memdebug_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">memdebug.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="memdebug_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *                                  _   _ ____  _</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Project                     ___| | | |  _ \| |</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                             / __| | | | |_) | |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                            | (__| |_| |  _ &lt;| |___</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                             \___|\___/|_| \_\_____|</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 1998 - 2018, Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This software is licensed as described in the file COPYING, which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * you should have received as part of this distribution. The terms</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * are also available at https://curl.haxx.se/docs/copyright.html.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You may opt to use, copy, modify, merge, publish, distribute and/or sell</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * copies of the Software, and permit persons to whom the Software is</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * furnished to do so, under the terms of the COPYING file.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * KIND, either express or implied.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__setup_8h.html">curl_setup.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifdef CURLDEBUG</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="curl_8h.html">curl/curl.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="urldata_8h.html">urldata.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define MEMDEBUG_NODEFINES </span><span class="comment">/* don&#39;t redefine the standard functions */</span><span class="preprocessor"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* The last 3 #include files should be in this order */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__printf_8h.html">curl_printf.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__memory_8h.html">curl_memory.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memdebug_8h.html">memdebug.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * Until 2011-08-17 libcurl&#39;s Memory Tracking feature also performed</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * automatic malloc and free filling operations using 0xA5 and 0x13</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * values. Our own preinitialization of dynamically allocated memory</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * might be useful when not using third party memory debuggers, but</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * on the other hand this would fool memory debuggers into thinking</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * that all dynamically allocated memory is properly initialized.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * As a default setting, libcurl&#39;s Memory Tracking feature no longer</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * performs preinitialization of dynamically allocated memory on its</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * own. If you know what you are doing, and really want to retain old</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * behavior, you can achieve this compiling with preprocessor symbols</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * CURL_MT_MALLOC_FILL and CURL_MT_FREE_FILL defined with appropriate</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * values.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#ifdef CURL_MT_MALLOC_FILL</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"># if (CURL_MT_MALLOC_FILL &lt; 0) || (CURL_MT_MALLOC_FILL &gt; 0xff)</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#   error &quot;invalid CURL_MT_MALLOC_FILL or out of range&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#ifdef CURL_MT_FREE_FILL</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor"># if (CURL_MT_FREE_FILL &lt; 0) || (CURL_MT_FREE_FILL &gt; 0xff)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#   error &quot;invalid CURL_MT_FREE_FILL or out of range&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#if defined(CURL_MT_MALLOC_FILL) &amp;&amp; defined(CURL_MT_FREE_FILL)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor"># if (CURL_MT_MALLOC_FILL == CURL_MT_FREE_FILL)</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#   error &quot;CURL_MT_MALLOC_FILL same as CURL_MT_FREE_FILL&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#ifdef CURL_MT_MALLOC_FILL</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#  define mt_malloc_fill(buf,len) memset((buf), CURL_MT_MALLOC_FILL, (len))</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#  define mt_malloc_fill(buf,len) Curl_nop_stmt</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifdef CURL_MT_FREE_FILL</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#  define mt_free_fill(buf,len) memset((buf), CURL_MT_FREE_FILL, (len))</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#  define mt_free_fill(buf,len) Curl_nop_stmt</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">struct </span>memdebug {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">union </span>{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> o;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">double</span> d;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  } mem[1];</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">/* I&#39;m hoping this is the thing with the strictest alignment</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   * requirements.  That also means we waste some space :-( */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;};</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> * Note that these debug functions are very simple and they are meant to</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> * remain so. For advanced analysis, record a log file and write perl scripts</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> * to analyze them!</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * Don&#39;t use these with multithreaded test programs!</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#define logfile curl_debuglogfile</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="namespaceimpacket_1_1smb3.html#ae260bcf9c1467602a2139dd3a1a0cbab">FILE</a> *curl_debuglogfile = NULL;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> memlimit = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* enable memory limit */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <span class="keywordtype">long</span> memsize = 0;  <span class="comment">/* set number of mallocs allowed */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/* this sets the log file name */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">void</span> curl_memdebug(<span class="keyword">const</span> <span class="keywordtype">char</span> *logname)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span>(!logfile) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span>(logname &amp;&amp; *logname)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      logfile = fopen(logname, <a class="code" href="curl__setup_8h.html#af512fc3a3d43889eab9cfd3f6df3c952">FOPEN_WRITETEXT</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      logfile = stderr;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#ifdef MEMDEBUG_LOG_SYNC</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">/* Flush the log file after every line so the log isn&#39;t lost in a crash */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span>(logfile)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      setbuf(logfile, (<span class="keywordtype">char</span> *)NULL);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/* This function sets the number of malloc() calls that should return</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">   successfully! */</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> curl_memlimit(<span class="keywordtype">long</span> limit)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span>(!memlimit) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    memlimit = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    memsize = limit;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">/* returns TRUE if this isn&#39;t allowed! */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> countcheck(<span class="keyword">const</span> <span class="keywordtype">char</span> *func, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">/* if source is NULL, then the call is made internally and this check</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     should not be made */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span>(memlimit &amp;&amp; source) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span>(!memsize) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">if</span>(source) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">/* log to file */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        curl_memlog(<span class="stringliteral">&quot;LIMIT %s:%d %s reached memlimit\n&quot;</span>,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, func);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">/* log to stderr also */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(stderr, <span class="stringliteral">&quot;LIMIT %s:%d %s reached memlimit\n&quot;</span>,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, func);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        fflush(logfile); <span class="comment">/* because it might crash now */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      errno = <a class="code" href="config-win32ce_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* RETURN ERROR! */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      memsize--; <span class="comment">/* countdown */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* allow this */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keywordtype">void</span> *curl_domalloc(<span class="keywordtype">size_t</span> wantedsize, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">struct </span>memdebug *mem;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(wantedsize != 0);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;malloc&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">/* alloc at least 64 bytes */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>memdebug) + wantedsize;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  mem = (<a class="code" href="curl__memory_8h.html#a68be1ba9f097411cd19bcaaa3dc589d3">Curl_cmalloc</a>)(<a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span>(mem) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">/* fill memory with junk */</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    mt_malloc_fill(mem-&gt;mem, wantedsize);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    mem-&gt;size = wantedsize;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d malloc(%zu) = %p\n&quot;</span>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, wantedsize,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                mem ? (<span class="keywordtype">void</span> *)mem-&gt;mem : (<span class="keywordtype">void</span> *)0);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> (mem ? mem-&gt;mem : NULL);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">void</span> *curl_docalloc(<span class="keywordtype">size_t</span> wanted_elements, <span class="keywordtype">size_t</span> wanted_size,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">struct </span>memdebug *mem;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>, user_size;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(wanted_elements != 0);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(wanted_size != 0);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;calloc&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">/* alloc at least 64 bytes */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  user_size = wanted_size * wanted_elements;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>memdebug) + user_size;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  mem = (<a class="code" href="curl__memory_8h.html#a5595c74f95f697d9dc6dae2cdf0f9e0d">Curl_ccalloc</a>)(1, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span>(mem)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    mem-&gt;size = user_size;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d calloc(%zu,%zu) = %p\n&quot;</span>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, wanted_elements, wanted_size,</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                mem ? (<span class="keywordtype">void</span> *)mem-&gt;mem : (<span class="keywordtype">void</span> *)0);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">return</span> (mem ? mem-&gt;mem : NULL);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keywordtype">char</span> *curl_dostrdup(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordtype">char</span> *mem;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> != NULL);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;strdup&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = strlen(<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) + 1;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  mem = curl_domalloc(<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, 0, NULL); <span class="comment">/* NULL prevents logging */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span>(mem)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(mem, <a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d strdup(%p) (%zu) = %p\n&quot;</span>,</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)mem);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> mem;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#if defined(WIN32) &amp;&amp; defined(UNICODE)</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keywordtype">wchar_t</span> *curl_dowcsdup(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordtype">wchar_t</span> *mem;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordtype">size_t</span> wsiz, bsiz;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> != NULL);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;wcsdup&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  wsiz = wcslen(<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) + 1;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  bsiz = wsiz * <span class="keyword">sizeof</span>(wchar_t);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  mem = curl_domalloc(bsiz, 0, NULL); <span class="comment">/* NULL prevents logging */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span>(mem)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(mem, <a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, bsiz);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d wcsdup(%p) (%zu) = %p\n&quot;</span>,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">void</span> *)<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, bsiz, (<span class="keywordtype">void</span> *)mem);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> mem;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">/* We provide a realloc() that accepts a NULL as pointer, which then</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   performs a malloc(). In order to work with ares. */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keywordtype">void</span> *curl_dorealloc(<span class="keywordtype">void</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, <span class="keywordtype">size_t</span> wantedsize,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                     <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keyword">struct </span>memdebug *mem = NULL;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>memdebug) + wantedsize;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(wantedsize != 0);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;realloc&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#ifdef __INTEL_COMPILER</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#  pragma warning(push)</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#  pragma warning(disable:1684)</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="comment">/* 1684: conversion from pointer to same-sized integral type */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    mem = (<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> - offsetof(<span class="keyword">struct</span> memdebug, mem));</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">#ifdef __INTEL_COMPILER</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">#  pragma warning(pop)</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  mem = (<a class="code" href="curl__memory_8h.html#a49700efc07a6ab0828e78ee73e11358f">Curl_crealloc</a>)(mem, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d realloc(%p, %zu) = %p\n&quot;</span>,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">void</span> *)<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, wantedsize,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                mem ? (<span class="keywordtype">void</span> *)mem-&gt;mem : (<span class="keywordtype">void</span> *)0);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span>(mem) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    mem-&gt;size = wantedsize;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> mem-&gt;mem;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">void</span> curl_dofree(<span class="keywordtype">void</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">struct </span>memdebug *mem;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#ifdef __INTEL_COMPILER</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#  pragma warning(push)</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#  pragma warning(disable:1684)</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="comment">/* 1684: conversion from pointer to same-sized integral type */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    mem = (<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> - offsetof(<span class="keyword">struct</span> memdebug, mem));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#ifdef __INTEL_COMPILER</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#  pragma warning(pop)</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">/* destroy */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    mt_free_fill(mem-&gt;mem, mem-&gt;size);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/* free for real */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    (<a class="code" href="curl__memory_8h.html#ad1a2aea0c593a1be2db67c172e00f3af">Curl_cfree</a>)(mem);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    curl_memlog(<span class="stringliteral">&quot;MEM %s:%d free(%p)\n&quot;</span>, source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">void</span> *)<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> curl_socket(<span class="keywordtype">int</span> <a class="code" href="mail-rcpt_8d.html#a2bf47710f7123dd01376c838ea4c5eb4">domain</a>, <span class="keywordtype">int</span> <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <span class="keywordtype">int</span> <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                          <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt = (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) ?</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socket() = %d\n&quot;</span> :</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(long)) ?</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socket() = %ld\n&quot;</span> :</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socket() = %zd\n&quot;</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sockfd;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;socket&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  sockfd = socket(<a class="code" href="mail-rcpt_8d.html#a2bf47710f7123dd01376c838ea4c5eb4">domain</a>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span>(source &amp;&amp; (sockfd != <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>))</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    curl_memlog(fmt, source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, sockfd);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> sockfd;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<a class="code" href="config-dos_8h.html#af60d8dc97cef9dd2209cbf9b0df9ae70">SEND_TYPE_RETV</a> curl_dosend(<a class="code" href="config-dos_8h.html#acbed26dfb97305cc99eeabb15ba18010">SEND_TYPE_ARG1</a> sockfd,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                           <a class="code" href="config-dos_8h.html#adcddeb58236879811a4d4cd82f33976c">SEND_QUAL_ARG2</a> <a class="code" href="config-dos_8h.html#aa1028514082c2ef2e9a76ef56624b3f3">SEND_TYPE_ARG2</a> <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                           <a class="code" href="config-dos_8h.html#a2f7848f2ee850565ebc938501109b4f7">SEND_TYPE_ARG3</a> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <a class="code" href="config-dos_8h.html#a9e630fef776f0c71f34c6c949609adf4">SEND_TYPE_ARG4</a> flags, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                           <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="config-dos_8h.html#af60d8dc97cef9dd2209cbf9b0df9ae70">SEND_TYPE_RETV</a> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;send&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = send(sockfd, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, flags);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    curl_memlog(<span class="stringliteral">&quot;SEND %s:%d send(%lu) = %ld\n&quot;</span>,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, (<span class="keywordtype">long</span>)<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<a class="code" href="config-dos_8h.html#acf256cf126ca903ddb8da0e506cced80">RECV_TYPE_RETV</a> curl_dorecv(<a class="code" href="config-dos_8h.html#a6b79be6b722e2ba9009495691c233d77">RECV_TYPE_ARG1</a> sockfd, <a class="code" href="config-dos_8h.html#a873c61ebe62de63e8a199bc819424301">RECV_TYPE_ARG2</a> <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                           <a class="code" href="config-dos_8h.html#abb2068740d788b2a25b7d378bb803d5c">RECV_TYPE_ARG3</a> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <a class="code" href="config-dos_8h.html#aa257e0c95ce1b33306381a8d7b9d5962">RECV_TYPE_ARG4</a> flags, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>,</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                           <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="config-dos_8h.html#acf256cf126ca903ddb8da0e506cced80">RECV_TYPE_RETV</a> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">if</span>(countcheck(<span class="stringliteral">&quot;recv&quot;</span>, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source))</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = recv(sockfd, <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, flags);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    curl_memlog(<span class="stringliteral">&quot;RECV %s:%d recv(%lu) = %ld\n&quot;</span>,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, (<span class="keywordtype">long</span>)<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#ifdef HAVE_SOCKETPAIR</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="keywordtype">int</span> curl_socketpair(<span class="keywordtype">int</span> <a class="code" href="mail-rcpt_8d.html#a2bf47710f7123dd01376c838ea4c5eb4">domain</a>, <span class="keywordtype">int</span> <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <span class="keywordtype">int</span> <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>,</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> socket_vector[2],</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt = (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) ?</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socketpair() = %d %d\n&quot;</span> :</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(long)) ?</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socketpair() = %ld %ld\n&quot;</span> :</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="stringliteral">&quot;FD %s:%d socketpair() = %zd %zd\n&quot;</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordtype">int</span> res = socketpair(<a class="code" href="mail-rcpt_8d.html#a2bf47710f7123dd01376c838ea4c5eb4">domain</a>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>, socket_vector);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span>(source &amp;&amp; (0 == res))</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    curl_memlog(fmt, source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, socket_vector[0], socket_vector[1]);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> curl_accept(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> s, <span class="keywordtype">void</span> *saddr, <span class="keywordtype">void</span> *saddrlen,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                          <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt = (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) ?</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="stringliteral">&quot;FD %s:%d accept() = %d\n&quot;</span> :</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(long)) ?</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="stringliteral">&quot;FD %s:%d accept() = %ld\n&quot;</span> :</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="stringliteral">&quot;FD %s:%d accept() = %zd\n&quot;</span>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keyword">struct </span>sockaddr *addr = (<span class="keyword">struct </span>sockaddr *)saddr;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#af89f74b4f46628d93e3cc829fcd69801">curl_socklen_t</a> *addrlen = (<a class="code" href="components_2curl_2include_2curl_2_system_8h.html#af89f74b4f46628d93e3cc829fcd69801">curl_socklen_t</a> *)saddrlen;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sockfd = accept(s, addr, addrlen);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span>(source &amp;&amp; (sockfd != <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>))</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    curl_memlog(fmt, source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, sockfd);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">return</span> sockfd;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">/* separate function to allow libcurl to mark a &quot;faked&quot; close */</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="keywordtype">void</span> curl_mark_sclose(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sockfd, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt = (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) ?</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="stringliteral">&quot;FD %s:%d sclose(%d)\n&quot;</span>:</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    (<span class="keyword">sizeof</span>(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a>) == <span class="keyword">sizeof</span>(long)) ?</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="stringliteral">&quot;FD %s:%d sclose(%ld)\n&quot;</span>:</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="stringliteral">&quot;FD %s:%d sclose(%zd)\n&quot;</span>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    curl_memlog(fmt, source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, sockfd);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">/* this is our own defined way to close sockets on *ALL* platforms */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="keywordtype">int</span> curl_sclose(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sockfd, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordtype">int</span> res = <a class="code" href="curl__setup__once_8h.html#abc0fa768a42a766f444259b91e5c6c0f">sclose</a>(sockfd);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  curl_mark_sclose(sockfd, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, source);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *curl_fopen(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *mode,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                 <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *res = fopen(<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>, mode);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    curl_memlog(<span class="stringliteral">&quot;FILE %s:%d fopen(\&quot;%s\&quot;,\&quot;%s\&quot;) = %p\n&quot;</span>,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>, mode, (<span class="keywordtype">void</span> *)res);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#ifdef HAVE_FDOPEN</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *curl_fdopen(<span class="keywordtype">int</span> filedes, <span class="keyword">const</span> <span class="keywordtype">char</span> *mode,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                  <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *res = fdopen(filedes, mode);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    curl_memlog(<span class="stringliteral">&quot;FILE %s:%d fdopen(\&quot;%d\&quot;,\&quot;%s\&quot;) = %p\n&quot;</span>,</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, filedes, mode, (<span class="keywordtype">void</span> *)res);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keywordtype">int</span> curl_fclose(<a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>, <span class="keywordtype">int</span> <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *source)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a> != NULL);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  res = fclose(<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span>(source)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    curl_memlog(<span class="stringliteral">&quot;FILE %s:%d fclose(%p)\n&quot;</span>,</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                source, <a class="code" href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a>, (<span class="keywordtype">void</span> *)<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#define LOGLINE_BUFSIZE  1024</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/* this does the writing to the memory tracking log file */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="keywordtype">void</span> curl_memlog(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordtype">int</span> nchars;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  va_list ap;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span>(!logfile)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a> = (<a class="code" href="curl__memory_8h.html#a68be1ba9f097411cd19bcaaa3dc589d3">Curl_cmalloc</a>)(LOGLINE_BUFSIZE);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  va_start(ap, format);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  nchars = <a class="code" href="curl__printf_8h.html#afc68cf69040d2c835650f9a217b98439">mvsnprintf</a>(<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, LOGLINE_BUFSIZE, format, ap);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  va_end(ap);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span>(nchars &gt; LOGLINE_BUFSIZE - 1)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    nchars = LOGLINE_BUFSIZE - 1;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span>(nchars &gt; 0)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a>(<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>, 1, (<span class="keywordtype">size_t</span>)nchars, logfile);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  (<a class="code" href="curl__memory_8h.html#ad1a2aea0c593a1be2db67c172e00f3af">Curl_cfree</a>)(<a class="code" href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURLDEBUG */</span><span class="preprocessor"></span></div><div class="ttc" id="config-dos_8h_html_af60d8dc97cef9dd2209cbf9b0df9ae70"><div class="ttname"><a href="config-dos_8h.html#af60d8dc97cef9dd2209cbf9b0df9ae70">SEND_TYPE_RETV</a></div><div class="ttdeci">#define SEND_TYPE_RETV</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00104">config-dos.h:104</a></div></div>
<div class="ttc" id="config-dos_8h_html_a873c61ebe62de63e8a199bc819424301"><div class="ttname"><a href="config-dos_8h.html#a873c61ebe62de63e8a199bc819424301">RECV_TYPE_ARG2</a></div><div class="ttdeci">#define RECV_TYPE_ARG2</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00107">config-dos.h:107</a></div></div>
<div class="ttc" id="config-dos_8h_html_a9e630fef776f0c71f34c6c949609adf4"><div class="ttname"><a href="config-dos_8h.html#a9e630fef776f0c71f34c6c949609adf4">SEND_TYPE_ARG4</a></div><div class="ttdeci">#define SEND_TYPE_ARG4</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00103">config-dos.h:103</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_abc0fa768a42a766f444259b91e5c6c0f"><div class="ttname"><a href="curl__setup__once_8h.html#abc0fa768a42a766f444259b91e5c6c0f">sclose</a></div><div class="ttdeci">#define sclose(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00264">curl_setup_once.h:264</a></div></div>
<div class="ttc" id="curl_8h_html_ada0bbe252b7b370ef4e135b93b2fe71e"><div class="ttname"><a href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a></div><div class="ttdeci">#define CURL_SOCKET_BAD</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00131">curl.h:131</a></div></div>
<div class="ttc" id="curl__memory_8h_html_ad1a2aea0c593a1be2db67c172e00f3af"><div class="ttname"><a href="curl__memory_8h.html#ad1a2aea0c593a1be2db67c172e00f3af">Curl_cfree</a></div><div class="ttdeci">curl_free_callback Curl_cfree</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00177">easy.c:177</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_a23d7b88872d6ead46c978b567908d587"><div class="ttname"><a href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a></div><div class="ttdeci">#define DEBUGASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00401">curl_setup_once.h:401</a></div></div>
<div class="ttc" id="unit1330_8c_html_a367d241c5c363105ee629417d1dfba75"><div class="ttname"><a href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a></div><div class="ttdeci">UNITTEST_START char * ptr</div><div class="ttdef"><b>Definition:</b> <a href="unit1330_8c_source.html#l00038">unit1330.c:38</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a5595c74f95f697d9dc6dae2cdf0f9e0d"><div class="ttname"><a href="curl__memory_8h.html#a5595c74f95f697d9dc6dae2cdf0f9e0d">Curl_ccalloc</a></div><div class="ttdeci">curl_calloc_callback Curl_ccalloc</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00180">easy.c:180</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a49700efc07a6ab0828e78ee73e11358f"><div class="ttname"><a href="curl__memory_8h.html#a49700efc07a6ab0828e78ee73e11358f">Curl_crealloc</a></div><div class="ttdeci">curl_realloc_callback Curl_crealloc</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00178">easy.c:178</a></div></div>
<div class="ttc" id="namespacedictserver_html_aeb700c49a1a229869c3b36509a6c6c32"><div class="ttname"><a href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">dictserver.rc</a></div><div class="ttdeci">def rc</div><div class="ttdef"><b>Definition:</b> <a href="dictserver_8py_source.html#l00153">dictserver.py:153</a></div></div>
<div class="ttc" id="config-dos_8h_html_acbed26dfb97305cc99eeabb15ba18010"><div class="ttname"><a href="config-dos_8h.html#acbed26dfb97305cc99eeabb15ba18010">SEND_TYPE_ARG1</a></div><div class="ttdeci">#define SEND_TYPE_ARG1</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00099">config-dos.h:99</a></div></div>
<div class="ttc" id="curl_8h_html"><div class="ttname"><a href="curl_8h.html">curl.h</a></div></div>
<div class="ttc" id="unit1394_8c_html_a0fb9c3165f64b5b79f3928b404818be9"><div class="ttname"><a href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a></div><div class="ttdeci">const char ** p</div><div class="ttdef"><b>Definition:</b> <a href="unit1394_8c_source.html#l00079">unit1394.c:79</a></div></div>
<div class="ttc" id="components_2curl_2include_2curl_2_system_8h_html_a494e2b4279dc064f7ed1d0abd602b28d"><div class="ttname"><a href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a></div><div class="ttdeci">CURL_TYPEOF_CURL_OFF_T curl_off_t</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2include_2curl_2_system_8h_source.html#l00442">system.h:442</a></div></div>
<div class="ttc" id="config-dos_8h_html_abb2068740d788b2a25b7d378bb803d5c"><div class="ttname"><a href="config-dos_8h.html#abb2068740d788b2a25b7d378bb803d5c">RECV_TYPE_ARG3</a></div><div class="ttdeci">#define RECV_TYPE_ARG3</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00108">config-dos.h:108</a></div></div>
<div class="ttc" id="curl__sasl_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="curl__sasl_8c_source.html#l00055">curl_sasl.c:55</a></div></div>
<div class="ttc" id="curl__printf_8h_html"><div class="ttname"><a href="curl__printf_8h.html">curl_printf.h</a></div></div>
<div class="ttc" id="unit1304_8c_html_a82a69fcfe92d9db6dd585ccc532a2ab7"><div class="ttname"><a href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a></div><div class="ttdeci">memcpy(filename, filename1, strlen(filename1))</div></div>
<div class="ttc" id="curl__setup_8h_html_af512fc3a3d43889eab9cfd3f6df3c952"><div class="ttname"><a href="curl__setup_8h.html#af512fc3a3d43889eab9cfd3f6df3c952">FOPEN_WRITETEXT</a></div><div class="ttdeci">#define FOPEN_WRITETEXT</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup_8h_source.html#l00772">curl_setup.h:772</a></div></div>
<div class="ttc" id="form_8d_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00048">form.d:48</a></div></div>
<div class="ttc" id="config-dos_8h_html_adcddeb58236879811a4d4cd82f33976c"><div class="ttname"><a href="config-dos_8h.html#adcddeb58236879811a4d4cd82f33976c">SEND_QUAL_ARG2</a></div><div class="ttdeci">#define SEND_QUAL_ARG2</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00100">config-dos.h:100</a></div></div>
<div class="ttc" id="namespaceimpacket_1_1smb3_html_ae260bcf9c1467602a2139dd3a1a0cbab"><div class="ttname"><a href="namespaceimpacket_1_1smb3.html#ae260bcf9c1467602a2139dd3a1a0cbab">impacket.smb3.FILE</a></div><div class="ttdeci">dictionary FILE</div><div class="ttdef"><b>Definition:</b> <a href="smb3_8py_source.html#l00061">smb3.py:61</a></div></div>
<div class="ttc" id="output_8d_html_a7bcb6a773be04cbd4890bfe10fa42696"><div class="ttname"><a href="output_8d.html#a7bcb6a773be04cbd4890bfe10fa42696">line</a></div><div class="ttdeci">Long you can use specifier.That variable will be replaced with the current string for the URL being fetched.Like if you specify two URLs on the same command line</div><div class="ttdef"><b>Definition:</b> <a href="output_8d_source.html#l00008">output.d:8</a></div></div>
<div class="ttc" id="unit1398_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="unit1398_8c_source.html#l00033">unit1398.c:33</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00327">curl_setup_once.h:327</a></div></div>
<div class="ttc" id="curl__printf_8h_html_afc68cf69040d2c835650f9a217b98439"><div class="ttname"><a href="curl__printf_8h.html#afc68cf69040d2c835650f9a217b98439">mvsnprintf</a></div><div class="ttdeci">#define mvsnprintf</div><div class="ttdef"><b>Definition:</b> <a href="curl__printf_8h_source.html#l00045">curl_printf.h:45</a></div></div>
<div class="ttc" id="config-dos_8h_html_aa257e0c95ce1b33306381a8d7b9d5962"><div class="ttname"><a href="config-dos_8h.html#aa257e0c95ce1b33306381a8d7b9d5962">RECV_TYPE_ARG4</a></div><div class="ttdeci">#define RECV_TYPE_ARG4</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00109">config-dos.h:109</a></div></div>
<div class="ttc" id="config_8d_html_aea53e62b3bb322f5a6bf4ceb58066a37"><div class="ttname"><a href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a></div><div class="ttdeci">Long separated by or the equals sign.Long option names can optionally be given in the config file without the initial double dashes and if the colon or equals characters can be used as separators.If the option is specified with one or two there can be no colon or equals character between the option and its parameter.If the parameter is to contain the parameter must be enclosed within quotes.Within double the following escape sequences are r and v.A backslash preceding any other letter is ignored.If the first column of a config line is a the rest of the line will be treated as a comment.Only write one option per physical line in the config file.Specify the filename to config as to make curl read the file from stdin.Note that to be able to specify a URL in the config file</div><div class="ttdef"><b>Definition:</b> <a href="config_8d_source.html#l00011">config.d:11</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a68be1ba9f097411cd19bcaaa3dc589d3"><div class="ttname"><a href="curl__memory_8h.html#a68be1ba9f097411cd19bcaaa3dc589d3">Curl_cmalloc</a></div><div class="ttdeci">curl_malloc_callback Curl_cmalloc</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00176">easy.c:176</a></div></div>
<div class="ttc" id="config-dos_8h_html_a2f7848f2ee850565ebc938501109b4f7"><div class="ttname"><a href="config-dos_8h.html#a2f7848f2ee850565ebc938501109b4f7">SEND_TYPE_ARG3</a></div><div class="ttdeci">#define SEND_TYPE_ARG3</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00102">config-dos.h:102</a></div></div>
<div class="ttc" id="url_8d_html_a1e5cd9496724b33dd938aa59064c8c99"><div class="ttname"><a href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a></div><div class="ttdeci">Long POP3 or SMTP then that protocol will be otherwise HTTP will be used.Since..guessing can be disabled by setting a default protocol</div><div class="ttdef"><b>Definition:</b> <a href="url_8d_source.html#l00010">url.d:10</a></div></div>
<div class="ttc" id="curl__memory_8h_html"><div class="ttname"><a href="curl__memory_8h.html">curl_memory.h</a></div></div>
<div class="ttc" id="mail-rcpt_8d_html_a2bf47710f7123dd01376c838ea4c5eb4"><div class="ttname"><a href="mail-rcpt_8d.html#a2bf47710f7123dd01376c838ea4c5eb4">domain</a></div><div class="ttdeci">Long user name or mailing list name.Repeat this option several times to send to multiple recipients.When performing a mail the recipient should specify a valid email address to send the mail to.When performing an address the recipient should be specified as the user name or user name and domain(as per Section 3.5 of RFC5321).(Added in 7.34.0) When performing a mailing list expand(EXPN command)</div></div>
<div class="ttc" id="curl__setup_8h_html"><div class="ttname"><a href="curl__setup_8h.html">curl_setup.h</a></div></div>
<div class="ttc" id="progress-bar_8d_html_ab8db689d5132c4523a63d67bedf23c8a"><div class="ttname"><a href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a></div><div class="ttdeci">Short more meter.This progress bar draws a single line of shows a percentage if the transfer size is known.For transfers without a known size</div><div class="ttdef"><b>Definition:</b> <a href="progress-bar_8d_source.html#l00006">progress-bar.d:6</a></div></div>
<div class="ttc" id="config-win32ce_8h_html_a6a05c923dad0c1208043e9c20a58c8e5"><div class="ttname"><a href="config-win32ce_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a></div><div class="ttdeci">#define ENOMEM</div><div class="ttdef"><b>Definition:</b> <a href="config-win32ce_8h_source.html#l00443">config-win32ce.h:443</a></div></div>
<div class="ttc" id="_console_8h_html_ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719"><div class="ttname"><a href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">ArgType_t::FILE</a></div></div>
<div class="ttc" id="config-dos_8h_html_aa1028514082c2ef2e9a76ef56624b3f3"><div class="ttname"><a href="config-dos_8h.html#aa1028514082c2ef2e9a76ef56624b3f3">SEND_TYPE_ARG2</a></div><div class="ttdeci">#define SEND_TYPE_ARG2</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00101">config-dos.h:101</a></div></div>
<div class="ttc" id="unit1398_8c_html_aee5a1edd73e85934dcbe27ccbb1ef1ad"><div class="ttname"><a href="unit1398_8c.html#aee5a1edd73e85934dcbe27ccbb1ef1ad">buf</a></div><div class="ttdeci">char buf[3]</div><div class="ttdef"><b>Definition:</b> <a href="unit1398_8c_source.html#l00032">unit1398.c:32</a></div></div>
<div class="ttc" id="curl__printf_8h_html_aab6e63106cf29e5160e5c2d63db86d27"><div class="ttname"><a href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a></div><div class="ttdeci">#define fprintf</div><div class="ttdef"><b>Definition:</b> <a href="curl__printf_8h_source.html#l00041">curl_printf.h:41</a></div></div>
<div class="ttc" id="urldata_8h_html"><div class="ttname"><a href="urldata_8h.html">urldata.h</a></div></div>
<div class="ttc" id="multi-debugcallback_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="multi-debugcallback_8c_source.html#l00038">multi-debugcallback.c:38</a></div></div>
<div class="ttc" id="memdebug_8h_html"><div class="ttname"><a href="memdebug_8h.html">memdebug.h</a></div></div>
<div class="ttc" id="config-dos_8h_html_a6b79be6b722e2ba9009495691c233d77"><div class="ttname"><a href="config-dos_8h.html#a6b79be6b722e2ba9009495691c233d77">RECV_TYPE_ARG1</a></div><div class="ttdeci">#define RECV_TYPE_ARG1</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00106">config-dos.h:106</a></div></div>
<div class="ttc" id="config-dos_8h_html_acf256cf126ca903ddb8da0e506cced80"><div class="ttname"><a href="config-dos_8h.html#acf256cf126ca903ddb8da0e506cced80">RECV_TYPE_RETV</a></div><div class="ttdeci">#define RECV_TYPE_RETV</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00110">config-dos.h:110</a></div></div>
<div class="ttc" id="curl_8h_html_adb5a46d02359d2379dc7e0904c987828"><div class="ttname"><a href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a></div><div class="ttdeci">int curl_socket_t</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00130">curl.h:130</a></div></div>
<div class="ttc" id="components_2curl_2include_2curl_2_system_8h_html_af89f74b4f46628d93e3cc829fcd69801"><div class="ttname"><a href="components_2curl_2include_2curl_2_system_8h.html#af89f74b4f46628d93e3cc829fcd69801">curl_socklen_t</a></div><div class="ttdeci">CURL_TYPEOF_CURL_SOCKLEN_T curl_socklen_t</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2include_2curl_2_system_8h_source.html#l00436">system.h:436</a></div></div>
<div class="ttc" id="stdcheaders_8h_html_ae791f89cbd418b3074b1349d8f5075dd"><div class="ttname"><a href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a></div><div class="ttdeci">size_t fwrite(const void *, size_t, size_t, FILE *)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_efb6013f246e7f8b3181c5014844a411.html">lib</a></li><li class="navelem"><a class="el" href="memdebug_8c.html">memdebug.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
