<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/src/tool_formparse.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tool__formparse_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tool_formparse.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tool__formparse_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *                                  _   _ ____  _</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Project                     ___| | | |  _ \| |</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                             / __| | | | |_) | |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                            | (__| |_| |  _ &lt;| |___</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                             \___|\___/|_| \_\_____|</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 1998 - 2018, Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This software is licensed as described in the file COPYING, which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * you should have received as part of this distribution. The terms</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * are also available at https://curl.haxx.se/docs/copyright.html.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You may opt to use, copy, modify, merge, publish, distribute and/or sell</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * copies of the Software, and permit persons to whom the Software is</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * furnished to do so, under the terms of the COPYING file.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * KIND, either express or implied.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__setup_8h.html">tool_setup.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mime_8h.html">mime.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strcase_8h.html">strcase.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="tool__formparse_8c.html#a4858ee8b549f158fb5eb37dc7dad537e">   27</a></span>&#160;<span class="preprocessor">#define ENABLE_CURLX_PRINTF</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* use our own printf() functions */</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curlx_8h.html">curlx.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__cfgable_8h.html">tool_cfgable.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__convert_8h.html">tool_convert.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__msgs_8h.html">tool_msgs.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__binmode_8h.html">tool_binmode.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__getparam_8h.html">tool_getparam.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__paramhlp_8h.html">tool_paramhlp.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tool__formparse_8h.html">tool_formparse.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memdebug_8h.html">memdebug.h</a>&quot;</span> <span class="comment">/* keep this as LAST include */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Stdin parameters. */</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structstandard__input.html">   42</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">   43</a></span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a>;  <span class="comment">/* Memory data. */</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">   44</a></span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> <a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a>;  <span class="comment">/* File read origin offset. */</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">   45</a></span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> <a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a>; <span class="comment">/* Data size. */</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">   46</a></span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> <a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a>; <span class="comment">/* Current read position. */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}  <a class="code" href="structstandard__input.html">standard_input</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * helper function to get a word from form param</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * after call get_parm_word, str either point to string end</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * or point to any of end chars.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *get_param_word(<span class="keywordtype">char</span> **<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keywordtype">char</span> **end_pos, <span class="keywordtype">char</span> endchar)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">char</span> *word_begin = NULL;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">char</span> *ptr2;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordtype">char</span> *escape = NULL;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">/* the first non-space char is here */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  word_begin = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;&quot;&#39;</span>) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    ++<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;\\&#39;</span>) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>[1] == <span class="charliteral">&#39;\\&#39;</span> || <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>[1] == <span class="charliteral">&#39;&quot;&#39;</span>) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          <span class="comment">/* remember the first escape position */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;          <span class="keywordflow">if</span>(!escape)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            escape = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;          <span class="comment">/* skip escape of back-slash or double-quote */</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> += 2;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;&quot;&#39;</span>) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        *end_pos = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span>(escape) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;          <span class="comment">/* has escape, we restore the unescaped string here */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;          <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = ptr2 = escape;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <span class="keywordflow">do</span> {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; (<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>[1] == <span class="charliteral">&#39;\\&#39;</span> || <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>[1] == <span class="charliteral">&#39;&quot;&#39;</span>))</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;              ++<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            *ptr2++ = *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          <span class="keywordflow">while</span>(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &lt; *end_pos);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          *end_pos = ptr2;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> != endchar)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          ++<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span> word_begin + 1;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      ++<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">/* end quote is missing, treat it as non-quoted. */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = word_begin;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> != endchar)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    ++<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = *end_pos = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> word_begin;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/* Append slist item and return -1 if failed. */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> slist_append(<span class="keyword">struct</span> <a class="code" href="structcurl__slist.html">curl_slist</a> **plist, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *s = <a class="code" href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a>(*plist, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span>(!s)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  *plist = s;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/* Read headers from a file and append to list. */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> read_field_headers(<span class="keyword">struct</span> <a class="code" href="struct_operation_config.html">OperationConfig</a> *config,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>, <a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *fp,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                              <span class="keyword">struct</span> <a class="code" href="structcurl__slist.html">curl_slist</a> **pheaders)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">size_t</span> hdrlen = 0;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">size_t</span> pos = 0;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">bool</span> incomment = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">int</span> lineno = 1;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">char</span> hdrbuf[999]; <span class="comment">/* Max. header length + 1. */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">for</span>(;;) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">int</span> c = getc(fp);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span>(c == EOF || (!pos &amp;&amp; !<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(c))) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="comment">/* Strip and flush the current header. */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">while</span>(hdrlen &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(hdrbuf[hdrlen - 1]))</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        hdrlen--;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">if</span>(hdrlen) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        hdrbuf[hdrlen] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span>(slist_append(pheaders, hdrbuf)) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          <a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>-&gt;<a class="code" href="struct_global_config.html#af87198ad3c9c77861ed042bf1779c5d3">errors</a>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                  <span class="stringliteral">&quot;Out of memory for field headers!\n&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        hdrlen = 0;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">switch</span>(c) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">case</span> EOF:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">if</span>(ferror(fp)) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>-&gt;<a class="code" href="struct_global_config.html#af87198ad3c9c77861ed042bf1779c5d3">errors</a>,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="stringliteral">&quot;Header file %s read error: %s\n&quot;</span>, <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>, <a class="code" href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">strerror</a>(errno));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> 0;    <span class="comment">/* Done. */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">continue</span>;    <span class="comment">/* Ignore. */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      pos = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      incomment = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      lineno++;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span>(!pos)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        incomment = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    pos++;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span>(!incomment) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">if</span>(hdrlen == <span class="keyword">sizeof</span>(hdrbuf) - 1) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;File %s line %d: header too long (truncated)\n&quot;</span>,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;              <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>, lineno);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        c = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">if</span>(hdrlen &lt;= <span class="keyword">sizeof</span>(hdrbuf) - 1)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        hdrbuf[hdrlen++] = (char) c;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">/* NOTREACHED */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> get_param_part(<span class="keyword">struct</span> <a class="code" href="struct_operation_config.html">OperationConfig</a> *config, <span class="keywordtype">char</span> endchar,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                          <span class="keywordtype">char</span> **<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="keywordtype">char</span> **pdata, <span class="keywordtype">char</span> **ptype,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                          <span class="keywordtype">char</span> **pfilename, <span class="keywordtype">char</span> **pencoder,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                          <span class="keyword">struct</span> <a class="code" href="structcurl__slist.html">curl_slist</a> **pheaders)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = NULL;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> = NULL;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordtype">char</span> *encoder = NULL;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordtype">char</span> *endpos;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordtype">char</span> *tp;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordtype">char</span> sep;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">char</span> type_major[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">char</span> type_minor[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">char</span> *endct = NULL;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a> = NULL;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span>(ptype)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    *ptype = NULL;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">if</span>(pfilename)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    *pfilename = NULL;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span>(pheaders)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    *pheaders = NULL;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span>(pencoder)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    *pencoder = NULL;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">while</span>(<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>))</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  tp = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  *pdata = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">/* If not quoted, strip trailing spaces. */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span>(*pdata == tp)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">while</span>(endpos &gt; *pdata &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(endpos[-1]))</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      endpos--;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">while</span>(sep == <span class="charliteral">&#39;;&#39;</span>) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*++<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>))</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      ;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>(!endct &amp;&amp; <a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;type=&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>)) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> += 5; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>); <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        ;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="comment">/* set type pointer */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="comment">/* verify that this is a fine type specifier */</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span>(2 != sscanf(<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <span class="stringliteral">&quot;%127[^/ ]/%127[^;, \n]&quot;</span>, type_major, type_minor)) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;Illegally formatted content-type field!\n&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span> -1; <span class="comment">/* illegal content-type syntax! */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">/* now point beyond the content-type specifier */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> + strlen(type_major) + strlen(type_minor) + 1;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">for</span>(endct = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> &amp;&amp; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> != endchar; <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>))</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          endct = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> + 1;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;filename=&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>)) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">if</span>(endct) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        *endct = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        endct = NULL;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> += 9; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>); <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        ;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      tp = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">/* If not quoted, strip trailing spaces. */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> == tp)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">while</span>(endpos &gt; <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(endpos[-1]))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          endpos--;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;headers=&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>)) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">if</span>(endct) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        *endct = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        endct = NULL;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> += 8;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> == <span class="charliteral">&#39;@&#39;</span> || *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> == <span class="charliteral">&#39;&lt;&#39;</span>) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">char</span> *hdrfile;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *fp;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="comment">/* Read headers from a file. */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        } <span class="keywordflow">while</span>(<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>));</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        tp = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        hdrfile = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">/* If not quoted, strip trailing spaces. */</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span>(hdrfile == tp)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          <span class="keywordflow">while</span>(endpos &gt; hdrfile &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(endpos[-1]))</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            endpos--;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">/* TODO: maybe special fopen for VMS? */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        fp = fopen(hdrfile, <a class="code" href="curl__setup_8h.html#ac5301ec6857f338762bb9334473131ce">FOPEN_READTEXT</a>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span>(!fp)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;Cannot read from %s: %s\n&quot;</span>, hdrfile,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <a class="code" href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">strerror</a>(errno));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = read_field_headers(config, hdrfile, fp, &amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          fclose(fp);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordtype">char</span> *hdr;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>))</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        tp = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        hdr = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">/* If not quoted, strip trailing spaces. */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span>(hdr == tp)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          <span class="keywordflow">while</span>(endpos &gt; hdr &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(endpos[-1]))</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            endpos--;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span>(slist_append(&amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, hdr)) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          <a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>-&gt;<a class="code" href="struct_global_config.html#af87198ad3c9c77861ed042bf1779c5d3">errors</a>, <span class="stringliteral">&quot;Out of memory for field header!\n&quot;</span>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;encoder=&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>)) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span>(endct) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        *endct = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        endct = NULL;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> += 8; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>); <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        ;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      tp = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      encoder = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="comment">/* If not quoted, strip trailing spaces. */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">if</span>(encoder == tp)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">while</span>(endpos &gt; encoder &amp;&amp; <a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(endpos[-1]))</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          endpos--;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(endct) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="comment">/* This is part of content type. */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">for</span>(endct = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> &amp;&amp; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> != endchar; <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>++)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a>(*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>))</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          endct = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> + 1;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">/* unknown prefix, skip to next block */</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordtype">char</span> *unknown = get_param_word(&amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, &amp;endpos, endchar);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      sep = *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      *endpos = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span>(*unknown)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;skip unknown form field: %s\n&quot;</span>, unknown);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">/* Terminate content type. */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span>(endct)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    *endct = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span>(ptype)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    *ptype = <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;Field content type not allowed here: %s\n&quot;</span>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span>(pfilename)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    *pfilename = <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;          <span class="stringliteral">&quot;Field file name not allowed here: %s\n&quot;</span>, <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span>(pencoder)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    *pencoder = encoder;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(encoder)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>,</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          <span class="stringliteral">&quot;Field encoder not allowed here: %s\n&quot;</span>, encoder);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span>(pheaders)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    *pheaders = <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          <span class="stringliteral">&quot;Field headers not allowed here: %s\n&quot;</span>, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>-&gt;data);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  *<a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> sep &amp; 0xFF;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/* Mime part callbacks for stdin. */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> stdin_read(<span class="keywordtype">char</span> *<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>, <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>, <span class="keywordtype">size_t</span> nitems, <span class="keywordtype">void</span> *arg)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="structstandard__input.html">standard_input</a> *sip = (<a class="code" href="structstandard__input.html">standard_input</a> *) arg;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> bytesleft;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  (void) <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>;  <span class="comment">/* Always 1: ignored. */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span>(sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a> &gt;= sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a>)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> 0;  <span class="comment">/* At eof. */</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  bytesleft = sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a> - sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span>((<a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a>) nitems &gt; bytesleft)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    nitems = (<span class="keywordtype">size_t</span>) bytesleft;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span>(sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a>) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">/* Return data from memory. */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>, sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a> + (<span class="keywordtype">size_t</span>) sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a>, nitems);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">/* Read from stdin. */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    nitems = <a class="code" href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a>(<a class="code" href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a>, 1, nitems, <a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a> += nitems;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">return</span> nitems;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> stdin_seek(<span class="keywordtype">void</span> *instream, <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a> offset, <span class="keywordtype">int</span> whence)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="structstandard__input.html">standard_input</a> *sip = (<a class="code" href="structstandard__input.html">standard_input</a> *) instream;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">switch</span>(whence) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">case</span> SEEK_CUR:</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    offset += sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">case</span> SEEK_END:</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    offset += sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span>(offset &lt; 0)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#a34eb017e0a29378f976becdaa94160d1">CURL_SEEKFUNC_CANTSEEK</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span>(!sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span>(fseek(<a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>, (<span class="keywordtype">long</span>) (offset + sip-&gt;<a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a>), SEEK_SET))</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#a34eb017e0a29378f976becdaa94160d1">CURL_SEEKFUNC_CANTSEEK</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  sip-&gt;<a class="code" href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">curpos</a> = offset;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af7074ca58279ac7ad8f78b9954a31160">CURL_SEEKFUNC_OK</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> stdin_free(<span class="keywordtype">void</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="structstandard__input.html">standard_input</a> *sip = (<a class="code" href="structstandard__input.html">standard_input</a> *) <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(sip);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/* Set a part&#39;s data from a file, taking care about the pseudo filename &quot;-&quot; as</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * a shortcut to read stdin: if so, use a callback to read OUR stdin (to</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> * workaround Windows DLL file handle caveat).</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> * If stdin is a regular file opened in binary mode, save current offset as</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * origin for rewind and do not buffer data. Else read to EOF and keep in</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * memory. In all cases, compute the stdin data size.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> file_or_stdin(<a class="code" href="structcurl__mimepart__s.html">curl_mimepart</a> *<a class="code" href="structpart.html">part</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="structstandard__input.html">standard_input</a> *sip = NULL;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">int</span> fd = -1;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="curl__setup_8h.html#a1c6e64692c9b7c6e7dc70adb398b3115">struct_stat</a> sbuf;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span>(strcmp(<a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>, <span class="stringliteral">&quot;-&quot;</span>))</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#a5b870d4b2beaa5a80e9ad37c529f97c8">curl_mime_filedata</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  sip = (<a class="code" href="structstandard__input.html">standard_input</a> *) <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(1, <span class="keyword">sizeof</span>(*sip));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span>(!sip)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="tool__binmode_8h.html#a535f962b620687880cc7f68eb63b208a">set_binmode</a>(<a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">/* If stdin is a regular file, do not buffer data but read it when needed. */</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  fd = <a class="code" href="curl__setup_8h.html#af86fa14728c9bad5418a6d29cad9f9ff">fileno</a>(<a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  sip-&gt;<a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a> = ftell(<a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span>(fd &gt;= 0 &amp;&amp; sip-&gt;<a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a> &gt;= 0 &amp;&amp; !fstat(fd, &amp;sbuf) &amp;&amp;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;#ifdef __VMS</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;     sbuf.st_fab_rfm != FAB$C_VAR &amp;&amp; sbuf.st_fab_rfm != FAB$C_VFC &amp;&amp;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;#endif</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;     S_ISREG(sbuf.st_mode)) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a> = sbuf.st_size - sip-&gt;<a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span>(sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a> &lt; 0)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a> = 0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">else</span> {  <span class="comment">/* Not suitable for direct use, buffer stdin data. */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">size_t</span> stdinsize = 0;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    sip-&gt;<a class="code" href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">origin</a> = 0;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="tool__paramhlp_8c.html#ad6d2eb7f0090c1bbf8c417735ec74524">file2memory</a>(&amp;sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a>, &amp;stdinsize, <a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>) != <a class="code" href="tool__getparam_8h.html#a49752d5670e8c2b9199c3d3f1a479078a5670d73999ba090d8d40d35d489cba6b">PARAM_OK</a>)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span>(!stdinsize)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        sip-&gt;<a class="code" href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">data</a> = NULL;  <span class="comment">/* Has been freed if no data. */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a> = stdinsize;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span>(ferror(<a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>))</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">/* Set remote file name. */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#acd770171ed1ff6974c8b513271fc04e9">curl_mime_filename</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">/* Set part&#39;s data from callback. */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#a6c9bcd6fd09288ef8c2c2d0475e055b5">curl_mime_data_cb</a>(<a class="code" href="structpart.html">part</a>, sip-&gt;<a class="code" href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">size</a>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                               stdin_read, stdin_seek, stdin_free, sip);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    stdin_free(sip);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> * formparse()</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment"> * Reads a &#39;name=value&#39; parameter and builds the appropriate linked list.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> * Specify files to upload with &#39;name=@filename&#39;, or &#39;name=@&quot;filename&quot;&#39;</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * in case the filename contain &#39;,&#39; or &#39;;&#39;. Supports specified</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> * given Content-Type of the files. Such as &#39;;type=&lt;content-type&gt;&#39;.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> * If literal_value is set, any initial &#39;@&#39; or &#39;&lt;&#39; in the value string</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"> * loses its special meaning, as does any embedded &#39;;type=&#39;.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * You may specify more than one file for a single name (field). Specify</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> * multiple files by writing it like:</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * &#39;name=@filename,filename2,filename3&#39;</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> * or use double-quotes quote the filename:</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> * &#39;name=@&quot;filename&quot;,&quot;filename2&quot;,&quot;filename3&quot;&#39;</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> * If you want content-types specified for each too, write them like:</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> * &#39;name=@filename;type=image/gif,filename2,filename3&#39;</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> * If you want custom headers added for a single part, write them in a separate</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> * file and do like this:</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"> * &#39;name=foo;headers=@headerfile&#39; or why not</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"> * &#39;name=@filemame;headers=@headerfile&#39;</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> * To upload a file, but to fake the file name that will be included in the</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * formpost, do like this:</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * &#39;name=@filename;filename=/dev/null&#39; or quote the faked filename like:</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * &#39;name=@filename;filename=&quot;play, play, and play.txt&quot;&#39;</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * If filename/path contains &#39;,&#39; or &#39;;&#39;, it must be quoted by double-quotes,</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * else curl will fail to figure out the correct filename. if the filename</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * tobe quoted contains &#39;&quot;&#39; or &#39;\&#39;, &#39;&quot;&#39; and &#39;\&#39; must be escaped by backslash.</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * This function uses curl_formadd to fulfill it&#39;s job. Is heavily based on</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * the old curl_formparse code.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="tool__formparse_8h.html#a005440ce54d21becd480bd84ec954912">  547</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="tool__formparse_8c.html#a005440ce54d21becd480bd84ec954912">formparse</a>(<span class="keyword">struct</span> <a class="code" href="struct_operation_config.html">OperationConfig</a> *config,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structinput.html">input</a>,</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;              <a class="code" href="structcurl__mime__s.html">curl_mime</a> **mimepost,</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;              <a class="code" href="structcurl__mime__s.html">curl_mime</a> **mimecurrent,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;              <span class="keywordtype">bool</span> literal_value)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">/* input MUST be a string in the format &#39;name=contents&#39; and we&#39;ll</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">     build a linked list with the info */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a> = NULL;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordtype">char</span> *contents = NULL;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordtype">char</span> *contp;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = NULL;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> = NULL;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordtype">char</span> *encoder = NULL;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a> = NULL;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="structcurl__mimepart__s.html">curl_mimepart</a> *<a class="code" href="structpart.html">part</a> = NULL;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> res;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">/* Allocate the main mime structure if needed. */</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span>(!*mimepost) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    *mimepost = <a class="code" href="curl_8h.html#abb7fb91b96dca181cea882cae638d385">curl_mime_init</a>(config-&gt;<a class="code" href="struct_operation_config.html#aa7c6a4cca059b260b1bea39a5ce86b95">easy</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span>(!*mimepost) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_init failed!\n&quot;</span>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    *mimecurrent = *mimepost;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">/* Make a copy we can overwrite. */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  contents = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structinput.html">input</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span>(!contents) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>-&gt;<a class="code" href="struct_global_config.html#af87198ad3c9c77861ed042bf1779c5d3">errors</a>, <span class="stringliteral">&quot;out of memory\n&quot;</span>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="comment">/* Scan for the end of the name. */</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  contp = strchr(contents, <span class="charliteral">&#39;=&#39;</span>);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span>(contp) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordtype">int</span> sep = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span>(contp &gt; contents)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a> = contents;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    *contp++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span>(*contp == <span class="charliteral">&#39;(&#39;</span> &amp;&amp; !literal_value) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="structcurl__mime__s.html">curl_mime</a> *subparts;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="comment">/* Starting a multipart. */</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      sep = get_param_part(config, <span class="charliteral">&#39;\0&#39;</span>,</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                           &amp;contp, &amp;<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, NULL, NULL, &amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span>(sep &lt; 0) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      subparts = <a class="code" href="curl_8h.html#abb7fb91b96dca181cea882cae638d385">curl_mime_init</a>(config-&gt;<a class="code" href="struct_operation_config.html#aa7c6a4cca059b260b1bea39a5ce86b95">easy</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">if</span>(!subparts) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_init failed!\n&quot;</span>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="structpart.html">part</a> = <a class="code" href="curl_8h.html#a777808824dfe4e00d9c05157adf16621">curl_mime_addpart</a>(*mimecurrent);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="structpart.html">part</a>) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_addpart failed!\n&quot;</span>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">return</span> 5;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#acc13e2f3e33a6a646d012f75d3c8a40e">curl_mime_subparts</a>(<a class="code" href="structpart.html">part</a>, subparts)) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_subparts failed!\n&quot;</span>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">return</span> 6;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      *mimecurrent = subparts;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#adbc451757ed5aeebdff70d9517e9ff49">curl_mime_headers</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, 1)) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_headers failed!\n&quot;</span>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">return</span> 7;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ac731a6ebbe2fee6d86c3e092aa936caa">curl_mime_type</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>)) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_type failed!\n&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">return</span> 8;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a> &amp;&amp; !strcmp(contp, <span class="stringliteral">&quot;)&quot;</span>) &amp;&amp; !literal_value) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">/* Ending a mutipart. */</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">if</span>(*mimecurrent == *mimepost) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;no multipart to terminate!\n&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">return</span> 9;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      *mimecurrent = (*mimecurrent)-&gt;<a class="code" href="structcurl__mime__s.html#a4f83c49c822bfb426b2d779c7aa426db">parent</a>-&gt;<a class="code" href="structcurl__mimepart__s.html#a06539e56178607698bf3114649fadce1">parent</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="charliteral">&#39;@&#39;</span> == contp[0] &amp;&amp; !literal_value) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">/* we use the @-letter to indicate file name(s) */</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="structcurl__mime__s.html">curl_mime</a> *subparts = NULL;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="comment">/* since this was a file, it may have a content-type specifier</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">           at the end too, or a filename. Or both. */</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        ++contp;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        sep = get_param_part(config, <span class="charliteral">&#39;,&#39;</span>, &amp;contp,</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                             &amp;<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, &amp;<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>, &amp;encoder, &amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">if</span>(sep &lt; 0) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;          <span class="keywordflow">return</span> 10;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">/* now contp point to comma or string end.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">           If more files to come, make sure we have multiparts. */</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span>(!subparts) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          <span class="keywordflow">if</span>(sep != <span class="charliteral">&#39;,&#39;</span>)    <span class="comment">/* If there is a single file. */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            subparts = *mimecurrent;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            subparts = <a class="code" href="curl_8h.html#abb7fb91b96dca181cea882cae638d385">curl_mime_init</a>(config-&gt;<a class="code" href="struct_operation_config.html#aa7c6a4cca059b260b1bea39a5ce86b95">easy</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="keywordflow">if</span>(!subparts) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;              <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_init failed!\n&quot;</span>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;              <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;              <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;              <span class="keywordflow">return</span> 11;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="comment">/* Allocate a part for that file. */</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="structpart.html">part</a> = <a class="code" href="curl_8h.html#a777808824dfe4e00d9c05157adf16621">curl_mime_addpart</a>(subparts);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="structpart.html">part</a>) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_addpart failed!\n&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;          <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          <span class="keywordflow">return</span> 12;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="comment">/* Set part headers. */</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#adbc451757ed5aeebdff70d9517e9ff49">curl_mime_headers</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, 1)) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_headers failed!\n&quot;</span>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <span class="keywordflow">return</span> 13;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="comment">/* Setup file in part. */</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        res = file_or_stdin(<a class="code" href="structpart.html">part</a>, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">if</span>(res) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;setting file %s  failed!\n&quot;</span>, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;          <span class="keywordflow">if</span>(res != <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;              <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">return</span> 14;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a> &amp;&amp; <a class="code" href="curl_8h.html#acd770171ed1ff6974c8b513271fc04e9">curl_mime_filename</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>)) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_filename failed!\n&quot;</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          <span class="keywordflow">return</span> 15;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ac731a6ebbe2fee6d86c3e092aa936caa">curl_mime_type</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>)) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_type failed!\n&quot;</span>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          <span class="keywordflow">return</span> 16;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ad0576bb2b1c124ce7fe8dc7409d1681a">curl_mime_encoder</a>(<a class="code" href="structpart.html">part</a>, encoder)) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_encoder failed!\n&quot;</span>);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          <span class="keywordflow">if</span>(subparts != *mimecurrent)</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          <span class="keywordflow">return</span> 17;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="comment">/* *contp could be &#39;\0&#39;, so we just check with the delimiter */</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      } <span class="keywordflow">while</span>(sep); <span class="comment">/* loop if there&#39;s another file name */</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="comment">/* now we add the multiple files section */</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="keywordflow">if</span>(subparts != *mimecurrent) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <a class="code" href="structpart.html">part</a> = <a class="code" href="curl_8h.html#a777808824dfe4e00d9c05157adf16621">curl_mime_addpart</a>(*mimecurrent);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="structpart.html">part</a>) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_addpart failed!\n&quot;</span>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          <span class="keywordflow">return</span> 18;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#acc13e2f3e33a6a646d012f75d3c8a40e">curl_mime_subparts</a>(<a class="code" href="structpart.html">part</a>, subparts)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_subparts failed!\n&quot;</span>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          <a class="code" href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a>(subparts);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <span class="keywordflow">return</span> 19;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="comment">/* Allocate a mime part. */</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="structpart.html">part</a> = <a class="code" href="curl_8h.html#a777808824dfe4e00d9c05157adf16621">curl_mime_addpart</a>(*mimecurrent);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="structpart.html">part</a>) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_addpart failed!\n&quot;</span>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;          <span class="keywordflow">return</span> 20;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">if</span>(*contp == <span class="charliteral">&#39;&lt;&#39;</span> &amp;&amp; !literal_value) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        ++contp;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        sep = get_param_part(config, <span class="charliteral">&#39;\0&#39;</span>, &amp;contp,</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                             &amp;<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, NULL, &amp;encoder, &amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span>(sep &lt; 0) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <span class="keywordflow">return</span> 21;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="comment">/* Set part headers. */</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#adbc451757ed5aeebdff70d9517e9ff49">curl_mime_headers</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, 1)) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_headers failed!\n&quot;</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          <span class="keywordflow">return</span> 22;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="comment">/* Setup file in part. */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        res = file_or_stdin(<a class="code" href="structpart.html">part</a>, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span>(res) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;setting file %s failed!\n&quot;</span>, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          <span class="keywordflow">if</span>(res != <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a>) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">return</span> 23;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">if</span>(literal_value)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <a class="code" href="structdata.html">data</a> = contp;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          sep = get_param_part(config, <span class="charliteral">&#39;\0&#39;</span>, &amp;contp,</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                               &amp;<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, &amp;<a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>, &amp;encoder, &amp;<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          <span class="keywordflow">if</span>(sep &lt; 0) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="keywordflow">return</span> 24;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;          }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">/* Set part headers. */</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#adbc451757ed5aeebdff70d9517e9ff49">curl_mime_headers</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, 1)) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_headers failed!\n&quot;</span>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;          <span class="keywordflow">return</span> 25;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#ifdef CURL_DOES_CONVERSIONS</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">if</span>(convert_to_network(<a class="code" href="structdata.html">data</a>, strlen(<a class="code" href="structdata.html">data</a>))) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_formadd failed!\n&quot;</span>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;          <span class="keywordflow">return</span> 26;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#afa9f1beca8d4caa59051b1dc56f9b93e">curl_mime_data</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="structdata.html">data</a>, <a class="code" href="curl_8h.html#a66f815e87e631a890391a725fb060456">CURL_ZERO_TERMINATED</a>)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_data failed!\n&quot;</span>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <span class="keywordflow">return</span> 27;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#acd770171ed1ff6974c8b513271fc04e9">curl_mime_filename</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a>)) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_filename failed!\n&quot;</span>);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">return</span> 28;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ac731a6ebbe2fee6d86c3e092aa936caa">curl_mime_type</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>)) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_type failed!\n&quot;</span>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">return</span> 29;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ad0576bb2b1c124ce7fe8dc7409d1681a">curl_mime_encoder</a>(<a class="code" href="structpart.html">part</a>, encoder)) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_encoder failed!\n&quot;</span>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> 30;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">if</span>(sep) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        *contp = (char) sep;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>,</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;              <span class="stringliteral">&quot;garbage at end of field specification: %s\n&quot;</span>, contp);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">/* Set part name. */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a> &amp;&amp; <a class="code" href="curl_8h.html#a15b5f89624adc8cac04b7d2af9dd7325">curl_mime_name</a>(<a class="code" href="structpart.html">part</a>, <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>)) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;curl_mime_name failed!\n&quot;</span>);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">return</span> 31;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a>(config-&gt;<a class="code" href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">global</a>, <span class="stringliteral">&quot;Illegally formatted input field!\n&quot;</span>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> 32;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(contents);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div><div class="ttc" id="curl__memory_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00130">curl_memory.h:130</a></div></div>
<div class="ttc" id="curl_8h_html_a5b870d4b2beaa5a80e9ad37c529f97c8"><div class="ttname"><a href="curl_8h.html#a5b870d4b2beaa5a80e9ad37c529f97c8">curl_mime_filedata</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_filedata(curl_mimepart *part, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01346">mime.c:1346</a></div></div>
<div class="ttc" id="curl_8h_html_adbc451757ed5aeebdff70d9517e9ff49"><div class="ttname"><a href="curl_8h.html#adbc451757ed5aeebdff70d9517e9ff49">curl_mime_headers</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_headers(curl_mimepart *part, struct curl_slist *headers, int take_ownership)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01436">mime.c:1436</a></div></div>
<div class="ttc" id="curl_8h_html_af7074ca58279ac7ad8f78b9954a31160"><div class="ttname"><a href="curl_8h.html#af7074ca58279ac7ad8f78b9954a31160">CURL_SEEKFUNC_OK</a></div><div class="ttdeci">#define CURL_SEEKFUNC_OK</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00343">curl.h:343</a></div></div>
<div class="ttc" id="strcase_8h_html"><div class="ttname"><a href="strcase_8h.html">strcase.h</a></div></div>
<div class="ttc" id="tool__cfgable_8h_html"><div class="ttname"><a href="tool__cfgable_8h.html">tool_cfgable.h</a></div></div>
<div class="ttc" id="structcurl__slist_html"><div class="ttname"><a href="structcurl__slist.html">curl_slist</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02394">curl.h:2394</a></div></div>
<div class="ttc" id="curl_8h_html_a737a90658e1b276a9ddacaaf87ca24d3"><div class="ttname"><a href="curl_8h.html#a737a90658e1b276a9ddacaaf87ca24d3">curl_mime_free</a></div><div class="ttdeci">CURL_EXTERN void curl_mime_free(curl_mime *mime)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01113">mime.c:1113</a></div></div>
<div class="ttc" id="structstandard__input_html_a089a69c7e5c587e3508a3181c71c4fcb"><div class="ttname"><a href="structstandard__input.html#a089a69c7e5c587e3508a3181c71c4fcb">standard_input::size</a></div><div class="ttdeci">curl_off_t size</div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00045">tool_formparse.c:45</a></div></div>
<div class="ttc" id="struct_operation_config_html_a9817c385b502eed85b8645f74a654530"><div class="ttname"><a href="struct_operation_config.html#a9817c385b502eed85b8645f74a654530">OperationConfig::global</a></div><div class="ttdeci">struct GlobalConfig * global</div><div class="ttdef"><b>Definition:</b> <a href="tool__cfgable_8h_source.html#l00260">tool_cfgable.h:260</a></div></div>
<div class="ttc" id="curl_8h_html_afa9f1beca8d4caa59051b1dc56f9b93e"><div class="ttname"><a href="curl_8h.html#afa9f1beca8d4caa59051b1dc56f9b93e">curl_mime_data</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_data(curl_mimepart *part, const char *data, size_t datasize)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01314">mime.c:1314</a></div></div>
<div class="ttc" id="curl_8h_html_a34eb017e0a29378f976becdaa94160d1"><div class="ttname"><a href="curl_8h.html#a34eb017e0a29378f976becdaa94160d1">CURL_SEEKFUNC_CANTSEEK</a></div><div class="ttdeci">#define CURL_SEEKFUNC_CANTSEEK</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00345">curl.h:345</a></div></div>
<div class="ttc" id="structcurl__mimepart__s_html_a06539e56178607698bf3114649fadce1"><div class="ttname"><a href="structcurl__mimepart__s.html#a06539e56178607698bf3114649fadce1">curl_mimepart_s::parent</a></div><div class="ttdeci">curl_mime * parent</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00104">mime.h:104</a></div></div>
<div class="ttc" id="structinput_html"><div class="ttname"><a href="structinput.html">input</a></div><div class="ttdef"><b>Definition:</b> <a href="http2-upload_8c_source.html#l00169">http2-upload.c:169</a></div></div>
<div class="ttc" id="curl__memory_8h_html_aa3f578f8f1eaebf25b2e2313db31cb40"><div class="ttname"><a href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a></div><div class="ttdeci">#define strdup(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00122">curl_memory.h:122</a></div></div>
<div class="ttc" id="structcurl__mime__s_html"><div class="ttname"><a href="structcurl__mime__s.html">curl_mime_s</a></div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00092">mime.h:92</a></div></div>
<div class="ttc" id="unit1330_8c_html_a367d241c5c363105ee629417d1dfba75"><div class="ttname"><a href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a></div><div class="ttdeci">UNITTEST_START char * ptr</div><div class="ttdef"><b>Definition:</b> <a href="unit1330_8c_source.html#l00038">unit1330.c:38</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="ttdeci">CURLcode</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00457">curl.h:457</a></div></div>
<div class="ttc" id="tool__paramhlp_8c_html_ad6d2eb7f0090c1bbf8c417735ec74524"><div class="ttname"><a href="tool__paramhlp_8c.html#ad6d2eb7f0090c1bbf8c417735ec74524">file2memory</a></div><div class="ttdeci">ParameterError file2memory(char **bufp, size_t *size, FILE *file)</div><div class="ttdef"><b>Definition:</b> <a href="tool__paramhlp_8c_source.html#l00090">tool_paramhlp.c:90</a></div></div>
<div class="ttc" id="curl_8h_html_abb7fb91b96dca181cea882cae638d385"><div class="ttname"><a href="curl_8h.html#abb7fb91b96dca181cea882cae638d385">curl_mime_init</a></div><div class="ttdeci">CURL_EXTERN curl_mime * curl_mime_init(CURL *easy)</div></div>
<div class="ttc" id="curl__ctype_8h_html_aad859b17f001ee9fd0b0e49a7deb27b2"><div class="ttname"><a href="curl__ctype_8h.html#aad859b17f001ee9fd0b0e49a7deb27b2">ISSPACE</a></div><div class="ttdeci">#define ISSPACE(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__ctype_8h_source.html#l00064">curl_ctype.h:64</a></div></div>
<div class="ttc" id="tool__binmode_8h_html"><div class="ttname"><a href="tool__binmode_8h.html">tool_binmode.h</a></div></div>
<div class="ttc" id="unit1304_8c_html_a937d4dd628a8858b443a399410d2600b"><div class="ttname"><a href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a></div><div class="ttdeci">UNITTEST_START int result</div><div class="ttdef"><b>Definition:</b> <a href="unit1304_8c_source.html#l00049">unit1304.c:49</a></div></div>
<div class="ttc" id="unit1394_8c_html_a0fb9c3165f64b5b79f3928b404818be9"><div class="ttname"><a href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a></div><div class="ttdeci">const char ** p</div><div class="ttdef"><b>Definition:</b> <a href="unit1394_8c_source.html#l00079">unit1394.c:79</a></div></div>
<div class="ttc" id="namespaceimpacket_1_1nmb_html_ae08ba7342be906ac4e49aa4746c2242d"><div class="ttname"><a href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">impacket.nmb.strerror</a></div><div class="ttdeci">def strerror(errclass, errcode)</div><div class="ttdef"><b>Definition:</b> <a href="nmb_8py_source.html#l00140">nmb.py:140</a></div></div>
<div class="ttc" id="unit1308_8c_html_a70a830d3039f37216dde9bcf2460aec2"><div class="ttname"><a href="unit1308_8c.html#a70a830d3039f37216dde9bcf2460aec2">buffer</a></div><div class="ttdeci">char buffer[]</div><div class="ttdef"><b>Definition:</b> <a href="unit1308_8c_source.html#l00048">unit1308.c:48</a></div></div>
<div class="ttc" id="components_2curl_2include_2curl_2_system_8h_html_a494e2b4279dc064f7ed1d0abd602b28d"><div class="ttname"><a href="components_2curl_2include_2curl_2_system_8h.html#a494e2b4279dc064f7ed1d0abd602b28d">curl_off_t</a></div><div class="ttdeci">CURL_TYPEOF_CURL_OFF_T curl_off_t</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2include_2curl_2_system_8h_source.html#l00442">system.h:442</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="tool__paramhlp_8h_html"><div class="ttname"><a href="tool__paramhlp_8h.html">tool_paramhlp.h</a></div></div>
<div class="ttc" id="form_8d_html_a2ff994e16bf9521154de4cf659a3b689"><div class="ttname"><a href="form_8d.html#a2ff994e16bf9521154de4cf659a3b689">filename</a></div><div class="ttdeci">filename</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00057">form.d:57</a></div></div>
<div class="ttc" id="curl__setup_8h_html_ac5301ec6857f338762bb9334473131ce"><div class="ttname"><a href="curl__setup_8h.html#ac5301ec6857f338762bb9334473131ce">FOPEN_READTEXT</a></div><div class="ttdeci">#define FOPEN_READTEXT</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup_8h_source.html#l00771">curl_setup.h:771</a></div></div>
<div class="ttc" id="tool__formparse_8h_html"><div class="ttname"><a href="tool__formparse_8h.html">tool_formparse.h</a></div></div>
<div class="ttc" id="curlx_8h_html"><div class="ttname"><a href="curlx_8h.html">curlx.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951adaff0cec927d10c0ec5059ee0104ef62">CURLE_READ_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00492">curl.h:492</a></div></div>
<div class="ttc" id="unit1304_8c_html_a82a69fcfe92d9db6dd585ccc532a2ab7"><div class="ttname"><a href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a></div><div class="ttdeci">memcpy(filename, filename1, strlen(filename1))</div></div>
<div class="ttc" id="anyauth_8d_html_a076c285cdc160cc073b20f7cf28ef85f"><div class="ttname"><a href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response headers</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="form_8d_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00048">form.d:48</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00493">curl.h:493</a></div></div>
<div class="ttc" id="curl_8h_html_ad0576bb2b1c124ce7fe8dc7409d1681a"><div class="ttname"><a href="curl_8h.html#ad0576bb2b1c124ce7fe8dc7409d1681a">curl_mime_encoder</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_encoder(curl_mimepart *part, const char *encoding)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01413">mime.c:1413</a></div></div>
<div class="ttc" id="unit1398_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="unit1398_8c_source.html#l00033">unit1398.c:33</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00327">curl_setup_once.h:327</a></div></div>
<div class="ttc" id="curl_8h_html_a15b5f89624adc8cac04b7d2af9dd7325"><div class="ttname"><a href="curl_8h.html#a15b5f89624adc8cac04b7d2af9dd7325">curl_mime_name</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_name(curl_mimepart *part, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01278">mime.c:1278</a></div></div>
<div class="ttc" id="config_8d_html_aea53e62b3bb322f5a6bf4ceb58066a37"><div class="ttname"><a href="config_8d.html#aea53e62b3bb322f5a6bf4ceb58066a37">file</a></div><div class="ttdeci">Long separated by or the equals sign.Long option names can optionally be given in the config file without the initial double dashes and if the colon or equals characters can be used as separators.If the option is specified with one or two there can be no colon or equals character between the option and its parameter.If the parameter is to contain the parameter must be enclosed within quotes.Within double the following escape sequences are r and v.A backslash preceding any other letter is ignored.If the first column of a config line is a the rest of the line will be treated as a comment.Only write one option per physical line in the config file.Specify the filename to config as to make curl read the file from stdin.Note that to be able to specify a URL in the config file</div><div class="ttdef"><b>Definition:</b> <a href="config_8d_source.html#l00011">config.d:11</a></div></div>
<div class="ttc" id="struct_global_config_html_af87198ad3c9c77861ed042bf1779c5d3"><div class="ttname"><a href="struct_global_config.html#af87198ad3c9c77861ed042bf1779c5d3">GlobalConfig::errors</a></div><div class="ttdeci">FILE * errors</div><div class="ttdef"><b>Definition:</b> <a href="tool__cfgable_8h_source.html#l00273">tool_cfgable.h:273</a></div></div>
<div class="ttc" id="mime_8h_html"><div class="ttname"><a href="mime_8h.html">mime.h</a></div></div>
<div class="ttc" id="structstandard__input_html_a0d7f91d53272f71526019a1481786663"><div class="ttname"><a href="structstandard__input.html#a0d7f91d53272f71526019a1481786663">standard_input::curpos</a></div><div class="ttdeci">curl_off_t curpos</div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00046">tool_formparse.c:46</a></div></div>
<div class="ttc" id="curl_8h_html_a7ea20d9a213c806f82446bed893f423f"><div class="ttname"><a href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a></div><div class="ttdeci">CURL_EXTERN struct curl_slist * curl_slist_append(struct curl_slist *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00089">slist.c:89</a></div></div>
<div class="ttc" id="structstandard__input_html_ad1bba55c36648152f9a61458e9bca9c3"><div class="ttname"><a href="structstandard__input.html#ad1bba55c36648152f9a61458e9bca9c3">standard_input::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00043">tool_formparse.c:43</a></div></div>
<div class="ttc" id="tool__convert_8h_html"><div class="ttname"><a href="tool__convert_8h.html">tool_convert.h</a></div></div>
<div class="ttc" id="remote-name_8d_html_aa335f8bb20424b03700f57b150bf0aa6"><div class="ttname"><a href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a></div><div class="ttdeci">Long the path is cut off.The file will be saved in the current working directory.If you want the file saved in a different make sure you change the current working directory before invoking curl with this option.The remote file name to use for saving is extracted from the given nothing and if it already exists it will be overwritten.If you want the server to be able to choose the file name refer to remote header name which can be used in addition to this option.If the server chooses a file name and that name already exists it will not be overwritten.There is no URL decoding done on the file name.If it has or other URL encoded parts of the name</div><div class="ttdef"><b>Definition:</b> <a href="remote-name_8d_source.html#l00006">remote-name.d:6</a></div></div>
<div class="ttc" id="structstandard__input_html"><div class="ttname"><a href="structstandard__input.html">standard_input</a></div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00042">tool_formparse.c:42</a></div></div>
<div class="ttc" id="tool__binmode_8h_html_a535f962b620687880cc7f68eb63b208a"><div class="ttname"><a href="tool__binmode_8h.html#a535f962b620687880cc7f68eb63b208a">set_binmode</a></div><div class="ttdeci">#define set_binmode(x)</div><div class="ttdef"><b>Definition:</b> <a href="tool__binmode_8h_source.html#l00032">tool_binmode.h:32</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00458">curl.h:458</a></div></div>
<div class="ttc" id="structstandard__input_html_ae9d2be18983e98112d8585348407fd60"><div class="ttname"><a href="structstandard__input.html#ae9d2be18983e98112d8585348407fd60">standard_input::origin</a></div><div class="ttdeci">curl_off_t origin</div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00044">tool_formparse.c:44</a></div></div>
<div class="ttc" id="memdebug_8h_html_a795660f73c902cc80ac0fe6cda0dbd1c"><div class="ttname"><a href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a></div><div class="ttdeci">#define Curl_safefree(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="memdebug_8h_source.html#l00176">memdebug.h:176</a></div></div>
<div class="ttc" id="structcurl__mimepart__s_html"><div class="ttname"><a href="structcurl__mimepart__s.html">curl_mimepart_s</a></div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00102">mime.h:102</a></div></div>
<div class="ttc" id="progress-bar_8d_html_ab8db689d5132c4523a63d67bedf23c8a"><div class="ttname"><a href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a></div><div class="ttdeci">Short more meter.This progress bar draws a single line of shows a percentage if the transfer size is known.For transfers without a known size</div><div class="ttdef"><b>Definition:</b> <a href="progress-bar_8d_source.html#l00006">progress-bar.d:6</a></div></div>
<div class="ttc" id="stdcheaders_8h_html_aae22dd41ebe1e64904429c5a31e7e642"><div class="ttname"><a href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a></div><div class="ttdeci">size_t fread(void *, size_t, size_t, FILE *)</div></div>
<div class="ttc" id="_console_8h_html_ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719"><div class="ttname"><a href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">ArgType_t::FILE</a></div></div>
<div class="ttc" id="structcurl__mime__s_html_a4f83c49c822bfb426b2d779c7aa426db"><div class="ttname"><a href="structcurl__mime__s.html#a4f83c49c822bfb426b2d779c7aa426db">curl_mime_s::parent</a></div><div class="ttdeci">curl_mimepart * parent</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00094">mime.h:94</a></div></div>
<div class="ttc" id="curl_8h_html_a777808824dfe4e00d9c05157adf16621"><div class="ttname"><a href="curl_8h.html#a777808824dfe4e00d9c05157adf16621">curl_mime_addpart</a></div><div class="ttdeci">CURL_EXTERN curl_mimepart * curl_mime_addpart(curl_mime *mime)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01253">mime.c:1253</a></div></div>
<div class="ttc" id="struct_operation_config_html_aa7c6a4cca059b260b1bea39a5ce86b95"><div class="ttname"><a href="struct_operation_config.html#aa7c6a4cca059b260b1bea39a5ce86b95">OperationConfig::easy</a></div><div class="ttdeci">CURL * easy</div><div class="ttdef"><b>Definition:</b> <a href="tool__cfgable_8h_source.html#l00039">tool_cfgable.h:39</a></div></div>
<div class="ttc" id="curl_8h_html_acd770171ed1ff6974c8b513271fc04e9"><div class="ttname"><a href="curl_8h.html#acd770171ed1ff6974c8b513271fc04e9">curl_mime_filename</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_filename(curl_mimepart *part, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01296">mime.c:1296</a></div></div>
<div class="ttc" id="anyauth_8d_html_a1d461998550d329666033ab94bf67c6a"><div class="ttname"><a href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response thus possibly inducing an extra network round trip.This is used instead of setting a specific authentication which you can do with and negotiate.Using anyauth is not recommended if you do uploads from stdin</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="curl_8h_html_ac731a6ebbe2fee6d86c3e092aa936caa"><div class="ttname"><a href="curl_8h.html#ac731a6ebbe2fee6d86c3e092aa936caa">curl_mime_type</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_type(curl_mimepart *part, const char *mimetype)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01395">mime.c:1395</a></div></div>
<div class="ttc" id="strcase_8h_html_a23b67e200b6f4c3ead633c94b3edcdb3"><div class="ttname"><a href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a></div><div class="ttdeci">#define checkprefix(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8h_source.html#l00046">strcase.h:46</a></div></div>
<div class="ttc" id="curl_8h_html_a66f815e87e631a890391a725fb060456"><div class="ttname"><a href="curl_8h.html#a66f815e87e631a890391a725fb060456">CURL_ZERO_TERMINATED</a></div><div class="ttdeci">#define CURL_ZERO_TERMINATED</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02025">curl.h:2025</a></div></div>
<div class="ttc" id="curl_8h_html_a6c9bcd6fd09288ef8c2c2d0475e055b5"><div class="ttname"><a href="curl_8h.html#a6c9bcd6fd09288ef8c2c2d0475e055b5">curl_mime_data_cb</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_data_cb(curl_mimepart *part, curl_off_t datasize, curl_read_callback readfunc, curl_seek_callback seekfunc, curl_free_callback freefunc, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01454">mime.c:1454</a></div></div>
<div class="ttc" id="tool__formparse_8c_html_a005440ce54d21becd480bd84ec954912"><div class="ttname"><a href="tool__formparse_8c.html#a005440ce54d21becd480bd84ec954912">formparse</a></div><div class="ttdeci">int formparse(struct OperationConfig *config, const char *input, curl_mime **mimepost, curl_mime **mimecurrent, bool literal_value)</div><div class="ttdef"><b>Definition:</b> <a href="tool__formparse_8c_source.html#l00547">tool_formparse.c:547</a></div></div>
<div class="ttc" id="curl__printf_8h_html_aab6e63106cf29e5160e5c2d63db86d27"><div class="ttname"><a href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a></div><div class="ttdeci">#define fprintf</div><div class="ttdef"><b>Definition:</b> <a href="curl__printf_8h_source.html#l00041">curl_printf.h:41</a></div></div>
<div class="ttc" id="multi-debugcallback_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="multi-debugcallback_8c_source.html#l00038">multi-debugcallback.c:38</a></div></div>
<div class="ttc" id="tool__getparam_8h_html_a49752d5670e8c2b9199c3d3f1a479078a5670d73999ba090d8d40d35d489cba6b"><div class="ttname"><a href="tool__getparam_8h.html#a49752d5670e8c2b9199c3d3f1a479078a5670d73999ba090d8d40d35d489cba6b">PARAM_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="tool__getparam_8h_source.html#l00027">tool_getparam.h:27</a></div></div>
<div class="ttc" id="curl__setup_8h_html_af86fa14728c9bad5418a6d29cad9f9ff"><div class="ttname"><a href="curl__setup_8h.html#af86fa14728c9bad5418a6d29cad9f9ff">fileno</a></div><div class="ttdeci">int fileno(FILE *stream)</div></div>
<div class="ttc" id="tool__msgs_8h_html"><div class="ttname"><a href="tool__msgs_8h.html">tool_msgs.h</a></div></div>
<div class="ttc" id="memdebug_8h_html"><div class="ttname"><a href="memdebug_8h.html">memdebug.h</a></div></div>
<div class="ttc" id="tool__msgs_8c_html_abd9f937b7319d6558d7ba7186b14e849"><div class="ttname"><a href="tool__msgs_8c.html#abd9f937b7319d6558d7ba7186b14e849">warnf</a></div><div class="ttdeci">void warnf(struct GlobalConfig *config, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="tool__msgs_8c_source.html#l00099">tool_msgs.c:99</a></div></div>
<div class="ttc" id="struct_operation_config_html"><div class="ttname"><a href="struct_operation_config.html">OperationConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="tool__cfgable_8h_source.html#l00038">tool_cfgable.h:38</a></div></div>
<div class="ttc" id="curl_8h_html_a3a28c84e40db0ef30859b680281c9d36"><div class="ttname"><a href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a></div><div class="ttdeci">CURL_EXTERN void curl_slist_free_all(struct curl_slist *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00129">slist.c:129</a></div></div>
<div class="ttc" id="get_8d_html_a38b0ef81b65f2aee282c8c217a123176"><div class="ttname"><a href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a></div><div class="ttdeci">Long this option will make all data specified with data</div><div class="ttdef"><b>Definition:</b> <a href="get_8d_source.html#l00005">get.d:5</a></div></div>
<div class="ttc" id="tool__getparam_8h_html"><div class="ttname"><a href="tool__getparam_8h.html">tool_getparam.h</a></div></div>
<div class="ttc" id="tool__setup_8h_html"><div class="ttname"><a href="tool__setup_8h.html">tool_setup.h</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="curl__memory_8h_html_abc013d1a27cb591a5316801c509c781f"><div class="ttname"><a href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a></div><div class="ttdeci">#define calloc(nbelem, size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00126">curl_memory.h:126</a></div></div>
<div class="ttc" id="curl__setup_8h_html_a1c6e64692c9b7c6e7dc70adb398b3115"><div class="ttname"><a href="curl__setup_8h.html#a1c6e64692c9b7c6e7dc70adb398b3115">struct_stat</a></div><div class="ttdeci">#define struct_stat</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup_8h_source.html#l00389">curl_setup.h:389</a></div></div>
<div class="ttc" id="structpart_html"><div class="ttname"><a href="structpart.html">part</a></div><div class="ttdef"><b>Definition:</b> <a href="lib1560_8c_source.html#l00037">lib1560.c:37</a></div></div>
<div class="ttc" id="curl_8h_html_acc13e2f3e33a6a646d012f75d3c8a40e"><div class="ttname"><a href="curl_8h.html#acc13e2f3e33a6a646d012f75d3c8a40e">curl_mime_subparts</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_mime_subparts(curl_mimepart *part, curl_mime *subparts)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01524">mime.c:1524</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_de8890eb3c13f5eefbce6670d44ad2e7.html">src</a></li><li class="navelem"><a class="el" href="tool__formparse_8c.html">tool_formparse.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
