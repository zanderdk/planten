<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/OV7670.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_o_v7670_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">OV7670.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_o_v7670_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * OV7670.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Jun 10, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_o_v7670_8h.html">OV7670.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_i2_s_8h.html">I2S.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;driver/gpio.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;driver/ledc.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_g_p_i_o_8h.html">GPIO.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_general_utils_8h.html">GeneralUtils.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="_o_v7670_8cpp.html#a8f14858bc4fedaf620807f5100d6f233">   18</a></span>&#160;<span class="preprocessor">#define OV7670_I2C_ADDR (0x21)</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">    #include &lt;soc/i2s_reg.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">    #include &lt;soc/i2s_struct.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;OV7670&quot;</span>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> getBit(uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, uint8_t bitNum) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> &amp; (1 &lt;&lt; bitNum)) != 0;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">static</span> uint8_t setBit(uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, uint8_t bitNum, <span class="keywordtype">bool</span> bitValue) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> = <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> &amp; (~(1 &lt;&lt; bitNum));</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> = <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> | (bitValue &lt;&lt; bitNum);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> toGrayscale(uint8_t* pData, uint32_t length) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    uint32_t <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    uint8_t* pLine = <span class="keyword">new</span> uint8_t[length / 2];</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    uint8_t* pLineSave = pLine;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// RGB 565</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">// 76543210 76543210</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">//  RRRRRGGG GGGBBBBB</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; length) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        uint8_t byte1 = *pData;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        pData++;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        uint8_t byte2 = *pData;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        pData++;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        uint8_t red   = ((byte1 &amp; 0b11111000) &gt;&gt; 3) &lt;&lt; 3;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        uint8_t <a class="code" href="form_8d.html#ad83fb941855ba7c4aa2bb65245437777">green</a> = (((byte1 &amp; 0b111) &lt;&lt; 3) | ((byte2 &amp; 0b11100000) &gt;&gt; 5)) &lt;&lt; 2;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        uint8_t <a class="code" href="form_8d.html#aa6074166cc77c18081343a82d3af99bf">blue</a>  = (byte2 &amp; 0b11111) &lt;&lt; 3;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        *pLine = (red + <a class="code" href="form_8d.html#ad83fb941855ba7c4aa2bb65245437777">green</a> + <a class="code" href="form_8d.html#aa6074166cc77c18081343a82d3af99bf">blue</a>) / 3;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        pLine++;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> += 2;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    pLine = pLineSave;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="class_general_utils.html#a0624d2bba035e50c4073074da675a606">GeneralUtils::hexDump</a>(pLine, length / 2);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="class_o_v7670.html#a44753bb91ad2846d495962d89b69df3e">   60</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#a44753bb91ad2846d495962d89b69df3e">OV7670::setFormat</a>(uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    uint8_t com7 = readRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    com7 = setBit(com7, 2, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 1));</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    com7 = setBit(com7, 0, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 0));</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>, com7);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_o_v7670.html#a12d5c95be16fd21036beba88527dda4e">   67</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#a12d5c95be16fd21036beba88527dda4e">OV7670::resetCamera</a>() {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    uint8_t com7 = readRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    com7 = setBit(com7, 7, <span class="keyword">true</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>, com7);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_o_v7670.html#aa2de599c83533526fb8c0f81506c4407">   73</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#aa2de599c83533526fb8c0f81506c4407">OV7670::setRGBFormat</a>(uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    uint8_t com15 = readRegister(<a class="code" href="_o_v7670_8h.html#a748a10fcb248dc424119e03b2b82a8a1">OV7670_REG_COM15</a>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    com15 = setBit(com15, 5, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 1));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    com15 = setBit(com15, 4, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 0));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a748a10fcb248dc424119e03b2b82a8a1">OV7670_REG_COM15</a>, com15);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_o_v7670.html#a3d2fd76d3f17aa2ea08465e04e33a0ce">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#a3d2fd76d3f17aa2ea08465e04e33a0ce">OV7670::setTestPattern</a>(uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    uint8_t com7 = readRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> == <a class="code" href="_o_v7670_8h.html#a86f0ad4fc4b94f2cb5b275dc82574c81">OV7670_TESTPATTERN_NONE</a>) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        com7 = setBit(com7, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        com7 = setBit(com7, 1, <span class="keyword">true</span>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>, com7);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    uint8_t scaling_xsc = readRegister(<a class="code" href="_o_v7670_8h.html#a68824a122888e07f2f9f937ed4b20a10">OV7670_REG_SCALING_XSC</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    scaling_xsc = setBit(scaling_xsc, 7, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 1));</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a68824a122888e07f2f9f937ed4b20a10">OV7670_REG_SCALING_XSC</a>, scaling_xsc);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    uint8_t scaling_ysc = readRegister(<a class="code" href="_o_v7670_8h.html#a4d993e118d6a2616e6e3cd98a424f919">OV7670_REG_SCALING_YSC</a>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    scaling_ysc = setBit(scaling_ysc, 7, getBit(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>, 0));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    writeRegister(<a class="code" href="_o_v7670_8h.html#a4d993e118d6a2616e6e3cd98a424f919">OV7670_REG_SCALING_YSC</a>, scaling_ysc);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> * COM7</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * | 7 | SCCB Register Reset</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> * |   | 0 - No change</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> * |   | 1 - Reset</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> * | 6 | Reserved</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"> * | 5 | Output format - CIF selection</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> * | 4 | Output format - QVGA selection</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"> * | 3 | Output format - QCIF selection</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * | 2 | Output format - RGB selection</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> * | 1 | Output format - Color Bar</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> * | 0 | Output format - Raw RGB</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> * |   |                          COM7[2]   COM7[0]</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> * |   | YUV                        0         0</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> * |   | RGB                        1         0</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> * |   | Bayer RAW                  0         1</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"> * |   | Processed Bayer RAW        1         1</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"> * +---+</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">static void IRAM_ATTR isr_vsync(void* arg) {</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">    ESP_EARLY_LOGD(LOG_TAG, &quot;VSYNC&quot;);</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">static</span> uint32_t vsyncCounter = 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//static uint32_t hrefCounter = 0;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">static</span> uint32_t lastHref = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> uint32_t pclkCounter = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//static uint32_t lastPclk = 0;</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">static void IRAM_ATTR vsyncHandler(void* arg) {</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">    vsyncCounter++;</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    lastHref = hrefCounter;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">    hrefCounter = 0;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">static void IRAM_ATTR hrefHandler(void* arg) {</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">    hrefCounter++;</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">static void IRAM_ATTR pclckHandler(void* arg) {</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">    pclkCounter++;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    portYIELD_FROM_ISR();</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">static inline void i2s_conf_reset()</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">    const uint32_t lc_conf_reset_flags = I2S_IN_RST_M | I2S_AHBM_RST_M | I2S_AHBM_FIFO_RST_M;</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">    I2S0.lc_conf.val |= lc_conf_reset_flags;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    I2S0.lc_conf.val &amp;= ~lc_conf_reset_flags;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">    const uint32_t conf_reset_flags = I2S_RX_RESET_M | I2S_RX_FIFO_RESET_M | I2S_TX_RESET_M | I2S_TX_FIFO_RESET_M;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">    I2S0.conf.val |= conf_reset_flags;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">    I2S0.conf.val &amp;= ~conf_reset_flags;</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">    while (I2S0.state.rx_fifo_reset_back) {</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">        ;</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_o_v7670.html#afb717c23171949be6e7b944ac997da02">  175</a></span>&#160;<a class="code" href="class_o_v7670.html#afb717c23171949be6e7b944ac997da02">OV7670::OV7670</a>() {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    m_i2c = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="class_o_v7670.html#ad7139179e68f2941c6f2fe53d97ab5b4">  180</a></span>&#160;<a class="code" href="class_o_v7670.html#ad7139179e68f2941c6f2fe53d97ab5b4">OV7670::~OV7670</a>() {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (m_i2c != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keyword">delete</span> m_i2c;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        m_i2c = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">static</span> esp_err_t camera_enable_out_clock(<a class="code" href="structcamera__config__t.html">camera_config_t</a>* config) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; camera_enable_out_clock: freq_hz=%d, pin=%d&quot;</span>, config-&gt;<a class="code" href="structcamera__config__t.html#af198ac8cc343a51b0aa24629f71796fc">xclk_freq_hz</a>, config-&gt;<a class="code" href="structcamera__config__t.html#adae554b70623090ed02ab03d5385d884">pin_xclk</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    periph_module_enable(PERIPH_LEDC_MODULE);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    ledc_timer_config_t timer_conf;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    timer_conf.freq_hz    = config-&gt;<a class="code" href="structcamera__config__t.html#af198ac8cc343a51b0aa24629f71796fc">xclk_freq_hz</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    timer_conf.duty_resolution = (ledc_timer_bit_t) 1;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    timer_conf.speed_mode = LEDC_HIGH_SPEED_MODE;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    timer_conf.timer_num  = config-&gt;<a class="code" href="structcamera__config__t.html#aaa321aa2f9ae05a8684101e8aee35045">ledc_timer</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    esp_err_t err = ledc_timer_config(&amp;timer_conf);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (err != ESP_OK) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;ledc_timer_config failed, rc=%x&quot;</span>, err);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    ledc_channel_config_t ch_conf;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    ch_conf.channel    = config-&gt;<a class="code" href="structcamera__config__t.html#a4a392588ba015497f3491ddf2bbbcd85">ledc_channel</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    ch_conf.timer_sel  = config-&gt;<a class="code" href="structcamera__config__t.html#aaa321aa2f9ae05a8684101e8aee35045">ledc_timer</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    ch_conf.intr_type  = LEDC_INTR_DISABLE;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    ch_conf.duty       = 1;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    ch_conf.speed_mode = LEDC_HIGH_SPEED_MODE;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    ch_conf.gpio_num   = config-&gt;<a class="code" href="structcamera__config__t.html#adae554b70623090ed02ab03d5385d884">pin_xclk</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    err = ledc_channel_config(&amp;ch_conf);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (err != ESP_OK) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;ledc_channel_config failed, rc=%x&quot;</span>, err);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; camera_enable_out_clock&quot;</span>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> ESP_OK;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;} <span class="comment">// camera_enable_out_clock</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">static void i2s_init() {</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">    // Enable and configure I2S peripheral</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    periph_module_enable(PERIPH_I2S0_MODULE);</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    // Toggle some reset bits in LC_CONF register</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">    // Toggle some reset bits in CONF register</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    // Enable slave mode (sampling clock is external)</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    // Switch on Slave mode.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    // I2S_CONF_REG -&gt; I2S_RX_SLAVE_MOD</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    I2S0.conf.rx_slave_mod = 1;</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    // Enable parallel mode</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    // I2S_CONF2_REG -&gt; I2S_LCD_END</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    I2S0.conf2.lcd_en = 1;</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    // Use HSYNC/VSYNC/HREF to control sampling</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    // I2S_CONF2_REG -&gt; I2S_CAMERA_EN</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    I2S0.conf2.camera_en = 1;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">    // Configure clock divider</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">    I2S0.clkm_conf.clkm_div_a   = 1;</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">    I2S0.clkm_conf.clkm_div_b   = 0;</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    I2S0.clkm_conf.clkm_div_num = 2;</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    // FIFO will sink data to DMA</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    I2S0.fifo_conf.dscr_en = 1;</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    // FIFO configuration</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">    I2S0.fifo_conf.rx_fifo_mod          = 0; // 0-3???</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">    I2S0.fifo_conf.rx_fifo_mod_force_en = 1;</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">    I2S0.conf_chan.rx_chan_mod          = 1;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    // Clear flags which are used in I2S serial mode</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">    I2S0.sample_rate_conf.rx_bits_mod = 0;</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">    I2S0.conf.rx_right_first = 0;</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">    I2S0.conf.rx_msb_right   = 0;</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">    I2S0.conf.rx_msb_shift   = 0;</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">    I2S0.conf.rx_mono        = 0;</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    I2S0.conf.rx_short_sync  = 0;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    I2S0.timing.val          = 0;</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_o_v7670.html#a9d954bb72a8a1794fb76fee07e5d64bf">  269</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#a9d954bb72a8a1794fb76fee07e5d64bf">OV7670::dump</a>() {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;PID: 0x%.2x, VER: 0x%.2x, MID: 0x%.4x&quot;</span>,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        readRegister(<a class="code" href="_o_v7670_8h.html#a2d0b36d128748259d20f467b95ace2e3">OV7670_REG_PID</a>),</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        readRegister(<a class="code" href="_o_v7670_8h.html#ae4c034d677940f5a0ae78d60a1b4618f">OV7670_REG_VER</a>),</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        readRegister(<a class="code" href="_o_v7670_8h.html#a8a16d28764072b9b0f15d501a020ad6b">OV7670_REG_MIDH</a>) &lt;&lt; 8 | readRegister(<a class="code" href="_o_v7670_8h.html#a5e0ebb466e1e15a92dba9170092ac546">OV7670_REG_MIDL</a>));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    uint8_t com7 = readRegister(<a class="code" href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    uint32_t outputFormat = getBit(com7, 2) &lt;&lt; 1 | getBit(com7, 0);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">//uint32_t outputFormat = (com7 &amp; (1&lt;&lt;2)) &gt;&gt; 1 | (com7 &amp; (1&lt;&lt;0));</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> outputFormatString;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">switch</span> (outputFormat) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">case</span> 0b00:</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            outputFormatString = <span class="stringliteral">&quot;YUV&quot;</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">case</span> 0b10:</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            outputFormatString = <span class="stringliteral">&quot;RGB&quot;</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">case</span> 0b01:</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            outputFormatString = <span class="stringliteral">&quot;Raw Bayer RGB&quot;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">case</span> 0b11:</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            outputFormatString = <span class="stringliteral">&quot;Process Bayer RGB&quot;</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            outputFormatString = <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Output format: %s&quot;</span>, outputFormatString.c_str());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (outputFormat == 0b10) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        uint8_t com15 = readRegister(<a class="code" href="_o_v7670_8h.html#a748a10fcb248dc424119e03b2b82a8a1">OV7670_REG_COM15</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        uint8_t rgbType = getBit(com15, 5) &lt;&lt; 1 | getBit(com15, 4);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordtype">char</span>* rgbTypeString;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">switch</span> (rgbType) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">case</span> 0b00:</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">case</span> 0b10:</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                rgbTypeString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;Normal RGB Output&quot;</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">case</span> 0b01:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                rgbTypeString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;RGB 565&quot;</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">case</span> 0b11:</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                rgbTypeString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;RGB 555&quot;</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                rgbTypeString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Rgb Type: %s&quot;</span>, rgbTypeString);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Color bar: %s&quot;</span>, getBit(com7, 1) ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    uint8_t scaling_xsc = readRegister(<a class="code" href="_o_v7670_8h.html#a68824a122888e07f2f9f937ed4b20a10">OV7670_REG_SCALING_XSC</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    uint8_t scaling_ysc = readRegister(<a class="code" href="_o_v7670_8h.html#a4d993e118d6a2616e6e3cd98a424f919">OV7670_REG_SCALING_YSC</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    uint32_t testPattern = getBit(scaling_xsc, 7) &lt;&lt; 1 | getBit(scaling_ysc, 7);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">char</span>* testPatternString;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">switch</span> (testPattern) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">case</span> 0b00:</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            testPatternString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;No test output&quot;</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">case</span> 0b01:</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            testPatternString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;Shifting 1&quot;</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">case</span> 0b10:</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            testPatternString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;8-bar color bar&quot;</span>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">case</span> 0b11:</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            testPatternString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;Fade to gray color bar&quot;</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            testPatternString = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Test pattern: %s&quot;</span>, testPatternString);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Horizontal scale factor: %d&quot;</span>, scaling_xsc &amp; 0x3f);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Vertical scale factor: %d&quot;</span>, scaling_ysc &amp; 0x3f);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    uint8_t com15 = readRegister(<a class="code" href="_o_v7670_8h.html#a748a10fcb248dc424119e03b2b82a8a1">OV7670_REG_COM15</a>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">switch</span> ((com15 &amp; 0b11000000) &gt;&gt; 6) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">case</span> 0b00:</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">case</span> 0b01:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Output range: 0x10 to 0xf0&quot;</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">case</span> 0b10:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Output range: 0x01 to 0xfe&quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">case</span> 0b11:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Output range: 0x00 to 0xff&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;} <span class="comment">// dump</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">static void log(char* marker) {</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">    ESP_LOGD(LOG_TAG, &quot;%s&quot;, marker);</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">    FreeRTOS::sleep(100);</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="class_o_v7670.html#acaa582805f38bc41c5812888fb965197">  370</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#acaa582805f38bc41c5812888fb965197">OV7670::init</a>(<a class="code" href="structcamera__config__t.html">camera_config_t</a> cameraConfig) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; init&quot;</span>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    m_cameraConfig = cameraConfig;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Define the GPIO pin directions.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d0);</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d1);</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d2);</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d3);</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d4);</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d5);</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d6);</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_d7);</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_vsync);</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_href);</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    ESP32CPP::GPIO::setInput(m_cameraConfig.pin_pclk);</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#afd43e7bc27885215900f7780197a0247">ESP32CPP::GPIO::setInput</a>(m_cameraConfig.<a class="code" href="structcamera__config__t.html#adae554b70623090ed02ab03d5385d884">pin_xclk</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#ac1599d926502a487e0e7518dc343a833">ESP32CPP::GPIO::setOutput</a>(m_cameraConfig.<a class="code" href="structcamera__config__t.html#a9935ac510209beb325061fd0ed30823d">pin_reset</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// Reset the camera.</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="class_o_v7670.html#a7148b44da5949ae39468c8c31cf6092f">reset</a>();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// provide a 20MHz clock on the pin_xclck</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    camera_enable_out_clock(&amp;m_cameraConfig);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// Create the I2C interface.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    m_i2c = <span class="keyword">new</span> <a class="code" href="class_i2_c.html">I2C</a>();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a1d9a7d1373a31adf3c281598ea2c9e18">init</a>(<a class="code" href="_o_v7670_8cpp.html#a8f14858bc4fedaf620807f5100d6f233">OV7670_I2C_ADDR</a>, (gpio_num_t) m_cameraConfig.<a class="code" href="structcamera__config__t.html#a1d7e6feea488721346d23bf6ebb87449">pin_sscb_sda</a>, (gpio_num_t) m_cameraConfig.<a class="code" href="structcamera__config__t.html#a4c3e62089d1ba10dc5489dbc82f4047a">pin_sscb_scl</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#ad3ebfa3204880e4fa60beeba997f357a">scan</a>();</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Do you see 0x21 listed?&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="class_o_v7670.html#a12d5c95be16fd21036beba88527dda4e">resetCamera</a>();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a>(100);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="class_o_v7670.html#a12d5c95be16fd21036beba88527dda4e">resetCamera</a>();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="class_o_v7670.html#a44753bb91ad2846d495962d89b69df3e">setFormat</a>(<a class="code" href="_o_v7670_8h.html#a9a270769a507073fdf603d3c9b292111">OV7670_FORMAT_RGB</a>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="class_o_v7670.html#aa2de599c83533526fb8c0f81506c4407">setRGBFormat</a>(<a class="code" href="_o_v7670_8h.html#adf241c84d21a6532ca1c2db9f0a06fcc">OV7670_FORMAT_RGB_RGB_565</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="class_o_v7670.html#a3d2fd76d3f17aa2ea08465e04e33a0ce">setTestPattern</a>(<a class="code" href="_o_v7670_8h.html#ac88a4982501a7a7207a3e6b78570aa8c">OV7670_TESTPATTERN_GRAY_FADE</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="class_o_v7670.html#a9d954bb72a8a1794fb76fee07e5d64bf">dump</a>();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// Setup the VSYNC interrupt handler</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">  ESP32CPP::GPIO::addISRHandler(m_cameraConfig.pin_vsync, vsyncHandler, nullptr);</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">  ESP32CPP::GPIO::setInterruptType(m_cameraConfig.pin_vsync, GPIO_INTR_NEGEDGE);</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">  ESP32CPP::GPIO::interruptEnable(m_cameraConfig.pin_vsync);</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">  ESP32CPP::GPIO::addISRHandler(m_cameraConfig.pin_href, hrefHandler, nullptr);</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">  ESP32CPP::GPIO::setInterruptType(m_cameraConfig.pin_href, GPIO_INTR_NEGEDGE);</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">  ESP32CPP::GPIO::interruptEnable(m_cameraConfig.pin_href);</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">//ESP32CPP::GPIO::addISRHandler(m_cameraConfig.pin_pclk, pclckHandler, nullptr);</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">//ESP32CPP::GPIO::setInterruptType(m_cameraConfig.pin_pclk, GPIO_INTR_NEGEDGE);</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">//ESP32CPP::GPIO::interruptEnable(m_cameraConfig.pin_pclk);</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    gpio_isr_handle_t handle;</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">    esp_err_t err = ::gpio_isr_register(isr_vsync, nullptr, ESP_INTR_FLAG_INTRDISABLED | ESP_INTR_FLAG_IRAM, &amp;handle);</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">    if (err != ESP_OK) {</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">        ESP_LOGD(LOG_TAG, &quot;gpio_isr_register: %d&quot;, err);</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="class_i2_s.html">I2S</a> i2s;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="structdma__config__t.html">dma_config_t</a> dmaConfig;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a231d4199be7cbd7653b525680ac51cf5">pin_d0</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#aa7fcc08f51ca08c849d3d7cfc54cbc12">pin_d0</a>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a9a87cec5fc0bd56e50136a1d334fc833">pin_d1</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a3bde2c6474cab22a14d1b6ef3f103d9c">pin_d1</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a6fc0f3d947cc5f78cdbd98074a7c9af9">pin_d2</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a43d5891aa4f0356a4b311cd5ecb1cfc6">pin_d2</a>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a73f9b251874f208c3048d05cb3f2459d">pin_d3</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a4bda847f01d013e1c9d213b967ba506f">pin_d3</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a5b8fad07874f0c3fe583671777261069">pin_d4</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a540b14d31f869b98b7e01ee8743e2ffd">pin_d4</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#ad363a0b1873740aba2b550819da7afd1">pin_d5</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a3229380194c2b360713d7240886ae9ed">pin_d5</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#accbcd22f5f6965a5729b9ad0e7f1b81f">pin_d6</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a5a222371493270fb4b4bcf68bc417100">pin_d6</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a23f0ed2ce04b7048624df13729340da0">pin_d7</a>    = cameraConfig.<a class="code" href="structcamera__config__t.html#a0b265296822d4612b67b6a1ffad9e756">pin_d7</a>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a840d4f12fe2e5fd8d4a1fec9e1fde84f">pin_href</a>  = cameraConfig.<a class="code" href="structcamera__config__t.html#ab9dd487279954adb8421992423e46cc7">pin_href</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#aa10372c169b65af008b2e7dff4a17d79">pin_pclk</a>  = cameraConfig.<a class="code" href="structcamera__config__t.html#a64f2ef831ff4645f82f69ba16542764a">pin_pclk</a>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    dmaConfig.<a class="code" href="structdma__config__t.html#a8749b7acc84c18ea799613f490f1041d">pin_vsync</a> = cameraConfig.<a class="code" href="structcamera__config__t.html#a3c3b0d95798353d4917d93a68e56a2c2">pin_vsync</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    i2s.<a class="code" href="class_i2_s.html#a2f50ba781190dad5e8fba252f737ae47">cameraMode</a>(dmaConfig, 50, 360 * 2);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Waiting for data!&quot;</span>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <a class="code" href="class_d_m_a_data.html">DMAData</a> dmaData = i2s.<a class="code" href="class_i2_s.html#a77c806749a3e67e1d47cb9ade52d26ea">waitForData</a>();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">//    GeneralUtils::hexDump(dmaData.getData(), dmaData.getLength());</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      toGrayscale(dmaData.<a class="code" href="class_d_m_a_data.html#a40676037d67114a0c39bf49a8439dcc1">getData</a>(), dmaData.<a class="code" href="class_d_m_a_data.html#af2a20f14f385381967c8996662191d1d">getLength</a>());</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      dmaData.<a class="code" href="class_d_m_a_data.html#a5fcce0eccdbc2fb1406efff938e7e2bf">free</a>();</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Waiting for positive edge on VSYNC&quot;</span>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">while</span> (gpio_get_level(m_cameraConfig.<a class="code" href="structcamera__config__t.html#a3c3b0d95798353d4917d93a68e56a2c2">pin_vsync</a>) == 0) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      ;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">while</span> (gpio_get_level(m_cameraConfig.<a class="code" href="structcamera__config__t.html#a3c3b0d95798353d4917d93a68e56a2c2">pin_vsync</a>) != 0) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      ;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Got VSYNC&quot;</span>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a>(1000);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;VSYNC Counter: %d, lastHref=%d, pclk=%d&quot;</span>, vsyncCounter, lastHref, pclkCounter);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; init&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;} <span class="comment">// init</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;uint8_t OV7670::readRegister(uint8_t reg) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    uint8_t val;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a414fa12d9ddd715be6802cd6fbe8d0ed">beginTransaction</a>();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a4a8d11dbd76409914f1e6404dacb2073">write</a>(reg);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#ad43e562aaf70eac7acca8fde9f904234">endTransaction</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a414fa12d9ddd715be6802cd6fbe8d0ed">beginTransaction</a>();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#ac81d33d8192945eb2caa210ae5055851">read</a>(&amp;val, <span class="keyword">false</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#ad43e562aaf70eac7acca8fde9f904234">endTransaction</a>();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> val;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;} <span class="comment">// readRegister</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keywordtype">void</span> OV7670::writeRegister(uint8_t reg, uint8_t <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a414fa12d9ddd715be6802cd6fbe8d0ed">beginTransaction</a>();</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a4a8d11dbd76409914f1e6404dacb2073">write</a>(reg);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#a4a8d11dbd76409914f1e6404dacb2073">write</a>(<a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    m_i2c-&gt;<a class="code" href="class_i2_c.html#ad43e562aaf70eac7acca8fde9f904234">endTransaction</a>();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;} <span class="comment">// writeRegister</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="class_o_v7670.html#a7148b44da5949ae39468c8c31cf6092f">  512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_o_v7670.html#a7148b44da5949ae39468c8c31cf6092f">OV7670::reset</a>() {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// Reset the camera</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;x1&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#a83984b2c70af70005b39071ea88fb45c">ESP32CPP::GPIO::low</a>(m_cameraConfig.<a class="code" href="structcamera__config__t.html#a9935ac510209beb325061fd0ed30823d">pin_reset</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a>(10);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#a9c168a825e68fa07f9d707c5832230f0">ESP32CPP::GPIO::high</a>(m_cameraConfig.<a class="code" href="structcamera__config__t.html#a9935ac510209beb325061fd0ed30823d">pin_reset</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a>(10);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;} <span class="comment">// reset</span></div><div class="ttc" id="structdma__config__t_html_a9a87cec5fc0bd56e50136a1d334fc833"><div class="ttname"><a href="structdma__config__t.html#a9a87cec5fc0bd56e50136a1d334fc833">dma_config_t::pin_d1</a></div><div class="ttdeci">gpio_num_t pin_d1</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00023">I2S.h:23</a></div></div>
<div class="ttc" id="_general_utils_8h_html"><div class="ttname"><a href="_general_utils_8h.html">GeneralUtils.h</a></div></div>
<div class="ttc" id="structdma__config__t_html_ad363a0b1873740aba2b550819da7afd1"><div class="ttname"><a href="structdma__config__t.html#ad363a0b1873740aba2b550819da7afd1">dma_config_t::pin_d5</a></div><div class="ttdeci">gpio_num_t pin_d5</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00019">I2S.h:19</a></div></div>
<div class="ttc" id="_o_v7670_8cpp_html_a8f14858bc4fedaf620807f5100d6f233"><div class="ttname"><a href="_o_v7670_8cpp.html#a8f14858bc4fedaf620807f5100d6f233">OV7670_I2C_ADDR</a></div><div class="ttdeci">#define OV7670_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00018">OV7670.cpp:18</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a8a16d28764072b9b0f15d501a020ad6b"><div class="ttname"><a href="_o_v7670_8h.html#a8a16d28764072b9b0f15d501a020ad6b">OV7670_REG_MIDH</a></div><div class="ttdeci">#define OV7670_REG_MIDH</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00040">OV7670.h:40</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a86f0ad4fc4b94f2cb5b275dc82574c81"><div class="ttname"><a href="_o_v7670_8h.html#a86f0ad4fc4b94f2cb5b275dc82574c81">OV7670_TESTPATTERN_NONE</a></div><div class="ttdeci">#define OV7670_TESTPATTERN_NONE</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00163">OV7670.h:163</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_html_abea19fd141147c054f47c6a00e77f2ff"><div class="ttname"><a href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a></div><div class="ttdeci">static void sleep(uint32_t ms)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00023">FreeRTOS.cpp:23</a></div></div>
<div class="ttc" id="class_o_v7670_html_a3d2fd76d3f17aa2ea08465e04e33a0ce"><div class="ttname"><a href="class_o_v7670.html#a3d2fd76d3f17aa2ea08465e04e33a0ce">OV7670::setTestPattern</a></div><div class="ttdeci">void setTestPattern(uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00080">OV7670.cpp:80</a></div></div>
<div class="ttc" id="form_8d_html_aa6074166cc77c18081343a82d3af99bf"><div class="ttname"><a href="form_8d.html#aa6074166cc77c18081343a82d3af99bf">blue</a></div><div class="ttdeci">blue</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00073">form.d:73</a></div></div>
<div class="ttc" id="class_o_v7670_html_a12d5c95be16fd21036beba88527dda4e"><div class="ttname"><a href="class_o_v7670.html#a12d5c95be16fd21036beba88527dda4e">OV7670::resetCamera</a></div><div class="ttdeci">void resetCamera()</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00067">OV7670.cpp:67</a></div></div>
<div class="ttc" id="class_o_v7670_html_aa2de599c83533526fb8c0f81506c4407"><div class="ttname"><a href="class_o_v7670.html#aa2de599c83533526fb8c0f81506c4407">OV7670::setRGBFormat</a></div><div class="ttdeci">void setRGBFormat(uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00073">OV7670.cpp:73</a></div></div>
<div class="ttc" id="_o_v7670_8h_html"><div class="ttname"><a href="_o_v7670_8h.html">OV7670.h</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a3c3b0d95798353d4917d93a68e56a2c2"><div class="ttname"><a href="structcamera__config__t.html#a3c3b0d95798353d4917d93a68e56a2c2">camera_config_t::pin_vsync</a></div><div class="ttdeci">gpio_num_t pin_vsync</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00181">OV7670.h:181</a></div></div>
<div class="ttc" id="class_d_m_a_data_html_af2a20f14f385381967c8996662191d1d"><div class="ttname"><a href="class_d_m_a_data.html#af2a20f14f385381967c8996662191d1d">DMAData::getLength</a></div><div class="ttdeci">uint32_t getLength()</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00034">I2S.h:34</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a5a222371493270fb4b4bcf68bc417100"><div class="ttname"><a href="structcamera__config__t.html#a5a222371493270fb4b4bcf68bc417100">camera_config_t::pin_d6</a></div><div class="ttdeci">gpio_num_t pin_d6</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00174">OV7670.h:174</a></div></div>
<div class="ttc" id="class_i2_s_html_a2f50ba781190dad5e8fba252f737ae47"><div class="ttname"><a href="class_i2_s.html#a2f50ba781190dad5e8fba252f737ae47">I2S::cameraMode</a></div><div class="ttdeci">void cameraMode(dma_config_t config, int desc_count, int sample_count)</div><div class="ttdoc">EXPERIMENTAL. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8cpp_source.html#l00231">I2S.cpp:231</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a9a270769a507073fdf603d3c9b292111"><div class="ttname"><a href="_o_v7670_8h.html#a9a270769a507073fdf603d3c9b292111">OV7670_FORMAT_RGB</a></div><div class="ttdeci">#define OV7670_FORMAT_RGB</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00156">OV7670.h:156</a></div></div>
<div class="ttc" id="structdma__config__t_html_a8749b7acc84c18ea799613f490f1041d"><div class="ttname"><a href="structdma__config__t.html#a8749b7acc84c18ea799613f490f1041d">dma_config_t::pin_vsync</a></div><div class="ttdeci">gpio_num_t pin_vsync</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00025">I2S.h:25</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_e_s_p32_c_p_p_1_1_g_p_i_o_html_afd43e7bc27885215900f7780197a0247"><div class="ttname"><a href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#afd43e7bc27885215900f7780197a0247">ESP32CPP::GPIO::setInput</a></div><div class="ttdeci">static void setInput(gpio_num_t pin)</div><div class="ttdoc">Set the pin as input. </div><div class="ttdef"><b>Definition:</b> <a href="_g_p_i_o_8cpp_source.html#l00131">GPIO.cpp:131</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_ae4c034d677940f5a0ae78d60a1b4618f"><div class="ttname"><a href="_o_v7670_8h.html#ae4c034d677940f5a0ae78d60a1b4618f">OV7670_REG_VER</a></div><div class="ttdeci">#define OV7670_REG_VER</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00024">OV7670.h:24</a></div></div>
<div class="ttc" id="structdma__config__t_html_a6fc0f3d947cc5f78cdbd98074a7c9af9"><div class="ttname"><a href="structdma__config__t.html#a6fc0f3d947cc5f78cdbd98074a7c9af9">dma_config_t::pin_d2</a></div><div class="ttdeci">gpio_num_t pin_d2</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00022">I2S.h:22</a></div></div>
<div class="ttc" id="class_i2_c_html_a414fa12d9ddd715be6802cd6fbe8d0ed"><div class="ttname"><a href="class_i2_c.html#a414fa12d9ddd715be6802cd6fbe8d0ed">I2C::beginTransaction</a></div><div class="ttdeci">void beginTransaction()</div><div class="ttdoc">Begin a new I2C transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00041">I2C.cpp:41</a></div></div>
<div class="ttc" id="class_i2_c_html_a1d9a7d1373a31adf3c281598ea2c9e18"><div class="ttname"><a href="class_i2_c.html#a1d9a7d1373a31adf3c281598ea2c9e18">I2C::init</a></div><div class="ttdeci">void init(uint8_t address, gpio_num_t sdaPin=DEFAULT_SDA_PIN, gpio_num_t sclPin=DEFAULT_CLK_PIN, uint32_t clkSpeed=DEFAULT_CLK_SPEED, i2c_port_t portNum=I2C_NUM_0, bool pullup=true)</div><div class="ttdoc">Initialize the I2C interface. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00097">I2C.cpp:97</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a9935ac510209beb325061fd0ed30823d"><div class="ttname"><a href="structcamera__config__t.html#a9935ac510209beb325061fd0ed30823d">camera_config_t::pin_reset</a></div><div class="ttdeci">gpio_num_t pin_reset</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00169">OV7670.h:169</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a540b14d31f869b98b7e01ee8743e2ffd"><div class="ttname"><a href="structcamera__config__t.html#a540b14d31f869b98b7e01ee8743e2ffd">camera_config_t::pin_d4</a></div><div class="ttdeci">gpio_num_t pin_d4</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00176">OV7670.h:176</a></div></div>
<div class="ttc" id="structcamera__config__t_html_aa7fcc08f51ca08c849d3d7cfc54cbc12"><div class="ttname"><a href="structcamera__config__t.html#aa7fcc08f51ca08c849d3d7cfc54cbc12">camera_config_t::pin_d0</a></div><div class="ttdeci">gpio_num_t pin_d0</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00180">OV7670.h:180</a></div></div>
<div class="ttc" id="class_o_v7670_html_a44753bb91ad2846d495962d89b69df3e"><div class="ttname"><a href="class_o_v7670.html#a44753bb91ad2846d495962d89b69df3e">OV7670::setFormat</a></div><div class="ttdeci">void setFormat(uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00060">OV7670.cpp:60</a></div></div>
<div class="ttc" id="class_o_v7670_html_afb717c23171949be6e7b944ac997da02"><div class="ttname"><a href="class_o_v7670.html#afb717c23171949be6e7b944ac997da02">OV7670::OV7670</a></div><div class="ttdeci">OV7670()</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00175">OV7670.cpp:175</a></div></div>
<div class="ttc" id="structcamera__config__t_html_af198ac8cc343a51b0aa24629f71796fc"><div class="ttname"><a href="structcamera__config__t.html#af198ac8cc343a51b0aa24629f71796fc">camera_config_t::xclk_freq_hz</a></div><div class="ttdeci">int xclk_freq_hz</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00185">OV7670.h:185</a></div></div>
<div class="ttc" id="class_o_v7670_html_a7148b44da5949ae39468c8c31cf6092f"><div class="ttname"><a href="class_o_v7670.html#a7148b44da5949ae39468c8c31cf6092f">OV7670::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the camera. Toggle the reset pin on the camera. </div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00512">OV7670.cpp:512</a></div></div>
<div class="ttc" id="class_i2_c_html"><div class="ttname"><a href="class_i2_c.html">I2C</a></div><div class="ttdoc">Interface to I2C functions. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8h_source.html#l00019">I2C.h:19</a></div></div>
<div class="ttc" id="class_d_m_a_data_html_a5fcce0eccdbc2fb1406efff938e7e2bf"><div class="ttname"><a href="class_d_m_a_data.html#a5fcce0eccdbc2fb1406efff938e7e2bf">DMAData::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00041">I2S.h:41</a></div></div>
<div class="ttc" id="class_d_m_a_data_html"><div class="ttname"><a href="class_d_m_a_data.html">DMAData</a></div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00032">I2S.h:32</a></div></div>
<div class="ttc" id="structdma__config__t_html"><div class="ttname"><a href="structdma__config__t.html">dma_config_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00012">I2S.h:12</a></div></div>
<div class="ttc" id="structcamera__config__t_html_aaa321aa2f9ae05a8684101e8aee35045"><div class="ttname"><a href="structcamera__config__t.html#aaa321aa2f9ae05a8684101e8aee35045">camera_config_t::ledc_timer</a></div><div class="ttdeci">ledc_timer_t ledc_timer</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00186">OV7670.h:186</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a1d7e6feea488721346d23bf6ebb87449"><div class="ttname"><a href="structcamera__config__t.html#a1d7e6feea488721346d23bf6ebb87449">camera_config_t::pin_sscb_sda</a></div><div class="ttdeci">gpio_num_t pin_sscb_sda</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00171">OV7670.h:171</a></div></div>
<div class="ttc" id="form_8d_html_ad83fb941855ba7c4aa2bb65245437777"><div class="ttname"><a href="form_8d.html#ad83fb941855ba7c4aa2bb65245437777">green</a></div><div class="ttdeci">green</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00073">form.d:73</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="structdma__config__t_html_a23f0ed2ce04b7048624df13729340da0"><div class="ttname"><a href="structdma__config__t.html#a23f0ed2ce04b7048624df13729340da0">dma_config_t::pin_d7</a></div><div class="ttdeci">gpio_num_t pin_d7</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00017">I2S.h:17</a></div></div>
<div class="ttc" id="class_d_m_a_data_html_a40676037d67114a0c39bf49a8439dcc1"><div class="ttname"><a href="class_d_m_a_data.html#a40676037d67114a0c39bf49a8439dcc1">DMAData::getData</a></div><div class="ttdeci">uint8_t * getData()</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00037">I2S.h:37</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a748a10fcb248dc424119e03b2b82a8a1"><div class="ttname"><a href="_o_v7670_8h.html#a748a10fcb248dc424119e03b2b82a8a1">OV7670_REG_COM15</a></div><div class="ttdeci">#define OV7670_REG_COM15</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00074">OV7670.h:74</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a3229380194c2b360713d7240886ae9ed"><div class="ttname"><a href="structcamera__config__t.html#a3229380194c2b360713d7240886ae9ed">camera_config_t::pin_d5</a></div><div class="ttdeci">gpio_num_t pin_d5</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00175">OV7670.h:175</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a4d993e118d6a2616e6e3cd98a424f919"><div class="ttname"><a href="_o_v7670_8h.html#a4d993e118d6a2616e6e3cd98a424f919">OV7670_REG_SCALING_YSC</a></div><div class="ttdeci">#define OV7670_REG_SCALING_YSC</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00113">OV7670.h:113</a></div></div>
<div class="ttc" id="structcamera__config__t_html_ab9dd487279954adb8421992423e46cc7"><div class="ttname"><a href="structcamera__config__t.html#ab9dd487279954adb8421992423e46cc7">camera_config_t::pin_href</a></div><div class="ttdeci">gpio_num_t pin_href</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00182">OV7670.h:182</a></div></div>
<div class="ttc" id="structdma__config__t_html_aa10372c169b65af008b2e7dff4a17d79"><div class="ttname"><a href="structdma__config__t.html#aa10372c169b65af008b2e7dff4a17d79">dma_config_t::pin_pclk</a></div><div class="ttdeci">gpio_num_t pin_pclk</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00027">I2S.h:27</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a4bda847f01d013e1c9d213b967ba506f"><div class="ttname"><a href="structcamera__config__t.html#a4bda847f01d013e1c9d213b967ba506f">camera_config_t::pin_d3</a></div><div class="ttdeci">gpio_num_t pin_d3</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00177">OV7670.h:177</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a68824a122888e07f2f9f937ed4b20a10"><div class="ttname"><a href="_o_v7670_8h.html#a68824a122888e07f2f9f937ed4b20a10">OV7670_REG_SCALING_XSC</a></div><div class="ttdeci">#define OV7670_REG_SCALING_XSC</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00112">OV7670.h:112</a></div></div>
<div class="ttc" id="class_i2_c_html_ac81d33d8192945eb2caa210ae5055851"><div class="ttname"><a href="class_i2_c.html#ac81d33d8192945eb2caa210ae5055851">I2C::read</a></div><div class="ttdeci">void read(uint8_t *bytes, size_t length, bool ack=true)</div><div class="ttdoc">Read a sequence of bytes from the slave. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00134">I2C.cpp:134</a></div></div>
<div class="ttc" id="class_general_utils_html_a0624d2bba035e50c4073074da675a606"><div class="ttname"><a href="class_general_utils.html#a0624d2bba035e50c4073074da675a606">GeneralUtils::hexDump</a></div><div class="ttdeci">static void hexDump(const uint8_t *pData, uint32_t length)</div><div class="ttdoc">Dump a representation of binary data to the console. </div><div class="ttdef"><b>Definition:</b> <a href="_general_utils_8cpp_source.html#l00293">GeneralUtils.cpp:293</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a3bde2c6474cab22a14d1b6ef3f103d9c"><div class="ttname"><a href="structcamera__config__t.html#a3bde2c6474cab22a14d1b6ef3f103d9c">camera_config_t::pin_d1</a></div><div class="ttdeci">gpio_num_t pin_d1</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00179">OV7670.h:179</a></div></div>
<div class="ttc" id="_i2_s_8h_html"><div class="ttname"><a href="_i2_s_8h.html">I2S.h</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a43d5891aa4f0356a4b311cd5ecb1cfc6"><div class="ttname"><a href="structcamera__config__t.html#a43d5891aa4f0356a4b311cd5ecb1cfc6">camera_config_t::pin_d2</a></div><div class="ttdeci">gpio_num_t pin_d2</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00178">OV7670.h:178</a></div></div>
<div class="ttc" id="class_e_s_p32_c_p_p_1_1_g_p_i_o_html_a9c168a825e68fa07f9d707c5832230f0"><div class="ttname"><a href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#a9c168a825e68fa07f9d707c5832230f0">ESP32CPP::GPIO::high</a></div><div class="ttdeci">static void high(gpio_num_t pin)</div><div class="ttdoc">Set the pin high. </div><div class="ttdef"><b>Definition:</b> <a href="_g_p_i_o_8cpp_source.html#l00057">GPIO.cpp:57</a></div></div>
<div class="ttc" id="class_i2_s_html_a77c806749a3e67e1d47cb9ade52d26ea"><div class="ttname"><a href="class_i2_s.html#a77c806749a3e67e1d47cb9ade52d26ea">I2S::waitForData</a></div><div class="ttdeci">DMAData waitForData()</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8cpp_source.html#l00388">I2S.cpp:388</a></div></div>
<div class="ttc" id="structdma__config__t_html_a840d4f12fe2e5fd8d4a1fec9e1fde84f"><div class="ttname"><a href="structdma__config__t.html#a840d4f12fe2e5fd8d4a1fec9e1fde84f">dma_config_t::pin_href</a></div><div class="ttdeci">gpio_num_t pin_href</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00026">I2S.h:26</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_adf241c84d21a6532ca1c2db9f0a06fcc"><div class="ttname"><a href="_o_v7670_8h.html#adf241c84d21a6532ca1c2db9f0a06fcc">OV7670_FORMAT_RGB_RGB_565</a></div><div class="ttdeci">#define OV7670_FORMAT_RGB_RGB_565</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00159">OV7670.h:159</a></div></div>
<div class="ttc" id="class_o_v7670_html_acaa582805f38bc41c5812888fb965197"><div class="ttname"><a href="class_o_v7670.html#acaa582805f38bc41c5812888fb965197">OV7670::init</a></div><div class="ttdeci">void init(camera_config_t cameraConfig)</div><div class="ttdoc">Initialize the camera. </div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00370">OV7670.cpp:370</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a2d0b36d128748259d20f467b95ace2e3"><div class="ttname"><a href="_o_v7670_8h.html#a2d0b36d128748259d20f467b95ace2e3">OV7670_REG_PID</a></div><div class="ttdeci">#define OV7670_REG_PID</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00023">OV7670.h:23</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a5f44c98a8147bbedae7ca8771e357f65"><div class="ttname"><a href="_o_v7670_8h.html#a5f44c98a8147bbedae7ca8771e357f65">OV7670_REG_COM7</a></div><div class="ttdeci">#define OV7670_REG_COM7</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00031">OV7670.h:31</a></div></div>
<div class="ttc" id="structdma__config__t_html_a5b8fad07874f0c3fe583671777261069"><div class="ttname"><a href="structdma__config__t.html#a5b8fad07874f0c3fe583671777261069">dma_config_t::pin_d4</a></div><div class="ttdeci">gpio_num_t pin_d4</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00020">I2S.h:20</a></div></div>
<div class="ttc" id="class_i2_c_html_ad43e562aaf70eac7acca8fde9f904234"><div class="ttname"><a href="class_i2_c.html#ad43e562aaf70eac7acca8fde9f904234">I2C::endTransaction</a></div><div class="ttdeci">void endTransaction()</div><div class="ttdoc">End an I2C transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00061">I2C.cpp:61</a></div></div>
<div class="ttc" id="structdma__config__t_html_a73f9b251874f208c3048d05cb3f2459d"><div class="ttname"><a href="structdma__config__t.html#a73f9b251874f208c3048d05cb3f2459d">dma_config_t::pin_d3</a></div><div class="ttdeci">gpio_num_t pin_d3</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00021">I2S.h:21</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a0b265296822d4612b67b6a1ffad9e756"><div class="ttname"><a href="structcamera__config__t.html#a0b265296822d4612b67b6a1ffad9e756">camera_config_t::pin_d7</a></div><div class="ttdeci">gpio_num_t pin_d7</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00173">OV7670.h:173</a></div></div>
<div class="ttc" id="structcamera__config__t_html"><div class="ttname"><a href="structcamera__config__t.html">camera_config_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00168">OV7670.h:168</a></div></div>
<div class="ttc" id="_free_r_t_o_s_8h_html"><div class="ttname"><a href="_free_r_t_o_s_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="class_o_v7670_html_a9d954bb72a8a1794fb76fee07e5d64bf"><div class="ttname"><a href="class_o_v7670.html#a9d954bb72a8a1794fb76fee07e5d64bf">OV7670::dump</a></div><div class="ttdeci">void dump()</div><div class="ttdoc">Dump the settings. </div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00269">OV7670.cpp:269</a></div></div>
<div class="ttc" id="structdma__config__t_html_a231d4199be7cbd7653b525680ac51cf5"><div class="ttname"><a href="structdma__config__t.html#a231d4199be7cbd7653b525680ac51cf5">dma_config_t::pin_d0</a></div><div class="ttdeci">gpio_num_t pin_d0</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00024">I2S.h:24</a></div></div>
<div class="ttc" id="structdma__config__t_html_accbcd22f5f6965a5729b9ad0e7f1b81f"><div class="ttname"><a href="structdma__config__t.html#accbcd22f5f6965a5729b9ad0e7f1b81f">dma_config_t::pin_d6</a></div><div class="ttdeci">gpio_num_t pin_d6</div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00018">I2S.h:18</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_a5e0ebb466e1e15a92dba9170092ac546"><div class="ttname"><a href="_o_v7670_8h.html#a5e0ebb466e1e15a92dba9170092ac546">OV7670_REG_MIDL</a></div><div class="ttdeci">#define OV7670_REG_MIDL</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00041">OV7670.h:41</a></div></div>
<div class="ttc" id="_g_p_i_o_8h_html"><div class="ttname"><a href="_g_p_i_o_8h.html">GPIO.h</a></div></div>
<div class="ttc" id="unit1602_8c_html_a1f81d06f9ccd5ec47176a7fc466b6030"><div class="ttname"><a href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a></div><div class="ttdeci">UNITTEST_START int * value</div><div class="ttdef"><b>Definition:</b> <a href="unit1602_8c_source.html#l00051">unit1602.c:51</a></div></div>
<div class="ttc" id="class_i2_c_html_a4a8d11dbd76409914f1e6404dacb2073"><div class="ttname"><a href="class_i2_c.html#a4a8d11dbd76409914f1e6404dacb2073">I2C::write</a></div><div class="ttdeci">void write(uint8_t byte, bool ack=true)</div><div class="ttdoc">Write a single byte to the I2C slave. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00275">I2C.cpp:275</a></div></div>
<div class="ttc" id="class_i2_c_html_ad3ebfa3204880e4fa60beeba997f357a"><div class="ttname"><a href="class_i2_c.html#ad3ebfa3204880e4fa60beeba997f357a">I2C::scan</a></div><div class="ttdeci">void scan()</div><div class="ttdoc">Scan the I2C bus looking for devices. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8cpp_source.html#l00181">I2C.cpp:181</a></div></div>
<div class="ttc" id="class_e_s_p32_c_p_p_1_1_g_p_i_o_html_ac1599d926502a487e0e7518dc343a833"><div class="ttname"><a href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#ac1599d926502a487e0e7518dc343a833">ESP32CPP::GPIO::setOutput</a></div><div class="ttdeci">static void setOutput(gpio_num_t pin)</div><div class="ttdoc">Set the pin as output. </div><div class="ttdef"><b>Definition:</b> <a href="_g_p_i_o_8cpp_source.html#l00167">GPIO.cpp:167</a></div></div>
<div class="ttc" id="_o_v7670_8h_html_ac88a4982501a7a7207a3e6b78570aa8c"><div class="ttname"><a href="_o_v7670_8h.html#ac88a4982501a7a7207a3e6b78570aa8c">OV7670_TESTPATTERN_GRAY_FADE</a></div><div class="ttdeci">#define OV7670_TESTPATTERN_GRAY_FADE</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00166">OV7670.h:166</a></div></div>
<div class="ttc" id="class_i2_s_html"><div class="ttname"><a href="class_i2_s.html">I2S</a></div><div class="ttdef"><b>Definition:</b> <a href="_i2_s_8h_source.html#l00051">I2S.h:51</a></div></div>
<div class="ttc" id="class_o_v7670_html_ad7139179e68f2941c6f2fe53d97ab5b4"><div class="ttname"><a href="class_o_v7670.html#ad7139179e68f2941c6f2fe53d97ab5b4">OV7670::~OV7670</a></div><div class="ttdeci">virtual ~OV7670()</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8cpp_source.html#l00180">OV7670.cpp:180</a></div></div>
<div class="ttc" id="class_e_s_p32_c_p_p_1_1_g_p_i_o_html_a83984b2c70af70005b39071ea88fb45c"><div class="ttname"><a href="class_e_s_p32_c_p_p_1_1_g_p_i_o.html#a83984b2c70af70005b39071ea88fb45c">ESP32CPP::GPIO::low</a></div><div class="ttdeci">static void low(gpio_num_t pin)</div><div class="ttdoc">Set the pin low. </div><div class="ttdef"><b>Definition:</b> <a href="_g_p_i_o_8cpp_source.html#l00107">GPIO.cpp:107</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a64f2ef831ff4645f82f69ba16542764a"><div class="ttname"><a href="structcamera__config__t.html#a64f2ef831ff4645f82f69ba16542764a">camera_config_t::pin_pclk</a></div><div class="ttdeci">gpio_num_t pin_pclk</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00183">OV7670.h:183</a></div></div>
<div class="ttc" id="structcamera__config__t_html_adae554b70623090ed02ab03d5385d884"><div class="ttname"><a href="structcamera__config__t.html#adae554b70623090ed02ab03d5385d884">camera_config_t::pin_xclk</a></div><div class="ttdeci">gpio_num_t pin_xclk</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00170">OV7670.h:170</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a4a392588ba015497f3491ddf2bbbcd85"><div class="ttname"><a href="structcamera__config__t.html#a4a392588ba015497f3491ddf2bbbcd85">camera_config_t::ledc_channel</a></div><div class="ttdeci">ledc_channel_t ledc_channel</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00187">OV7670.h:187</a></div></div>
<div class="ttc" id="structcamera__config__t_html_a4c3e62089d1ba10dc5489dbc82f4047a"><div class="ttname"><a href="structcamera__config__t.html#a4c3e62089d1ba10dc5489dbc82f4047a">camera_config_t::pin_sscb_scl</a></div><div class="ttdeci">gpio_num_t pin_sscb_scl</div><div class="ttdef"><b>Definition:</b> <a href="_o_v7670_8h_source.html#l00172">OV7670.h:172</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_o_v7670_8cpp.html">OV7670.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
