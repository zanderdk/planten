<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/lib/url.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('url_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">url.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="url_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *                                  _   _ ____  _</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Project                     ___| | | |  _ \| |</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                             / __| | | | |_) | |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                            | (__| |_| |  _ &lt;| |___</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                             \___|\___/|_| \_\_____|</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 1998 - 2018, Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This software is licensed as described in the file COPYING, which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * you should have received as part of this distribution. The terms</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * are also available at https://curl.haxx.se/docs/copyright.html.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You may opt to use, copy, modify, merge, publish, distribute and/or sell</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * copies of the Software, and permit persons to whom the Software is</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * furnished to do so, under the terms of the COPYING file.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * KIND, either express or implied.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__setup_8h.html">curl_setup.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifdef HAVE_NETINET_IN_H</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifdef HAVE_NETDB_H</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#ifdef HAVE_ARPA_INET_H</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifdef HAVE_NET_IF_H</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;net/if.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_IOCTL_H</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_PARAM_H</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;sys/param.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifdef __VMS</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;in.h&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;inet.h&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_UN_H</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;sys/un.h&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#ifndef HAVE_SOCKET</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#error &quot;We can&#39;t compile without socket() support!&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#ifdef USE_LIBIDN2</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;idn2.h&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#elif defined(USE_WIN32_IDN)</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/* prototype for curl_win32_idn_to_ascii() */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keywordtype">bool</span> curl_win32_idn_to_ascii(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>, <span class="keywordtype">char</span> **out);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* USE_LIBIDN2 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="urldata_8h.html">urldata.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="netrc_8h.html">netrc.h</a>&quot;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="formdata_8h.html">formdata.h</a>&quot;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mime_8h.html">mime.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vtls_8h.html">vtls/vtls.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hostip_8h.html">hostip.h</a>&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transfer_8h.html">transfer.h</a>&quot;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sendf_8h.html">sendf.h</a>&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="progress_8h.html">progress.h</a>&quot;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cookie_8h.html">cookie.h</a>&quot;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strcase_8h.html">strcase.h</a>&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strerror_8h.html">strerror.h</a>&quot;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="escape_8h.html">escape.h</a>&quot;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strtok_8h.html">strtok.h</a>&quot;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="share_8h.html">share.h</a>&quot;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="content__encoding_8h.html">content_encoding.h</a>&quot;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http__digest_8h.html">http_digest.h</a>&quot;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http__negotiate_8h.html">http_negotiate.h</a>&quot;</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="select_8h.html">select.h</a>&quot;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="multiif_8h.html">multiif.h</a>&quot;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="easyif_8h.html">easyif.h</a>&quot;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="speedcheck_8h.html">speedcheck.h</a>&quot;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="warnless_8h.html">warnless.h</a>&quot;</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="non-ascii_8h.html">non-ascii.h</a>&quot;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="inet__pton_8h.html">inet_pton.h</a>&quot;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="getinfo_8h.html">getinfo.h</a>&quot;</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="urlapi-int_8h.html">urlapi-int.h</a>&quot;</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/* And now for the protocols */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ftp_8h.html">ftp.h</a>&quot;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">dict.h</a>&quot;</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="components_2curl_2lib_2telnet_8h.html">telnet.h</a>&quot;</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="components_2curl_2lib_2_t_f_t_p_8h.html">tftp.h</a>&quot;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http_8h.html">http.h</a>&quot;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http2_8h.html">http2.h</a>&quot;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="components_2curl_2lib_2_file_8h.html">file.h</a>&quot;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__ldap_8h.html">curl_ldap.h</a>&quot;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ssh_8h.html">ssh.h</a>&quot;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imap_8h.html">imap.h</a>&quot;</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="connect_8h.html">connect.h</a>&quot;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="inet__ntop_8h.html">inet_ntop.h</a>&quot;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http__ntlm_8h.html">http_ntlm.h</a>&quot;</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__ntlm__wb_8h.html">curl_ntlm_wb.h</a>&quot;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="socks_8h.html">socks.h</a>&quot;</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__rtmp_8h.html">curl_rtmp.h</a>&quot;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gopher_8h.html">gopher.h</a>&quot;</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http__proxy_8h.html">http_proxy.h</a>&quot;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="conncache_8h.html">conncache.h</a>&quot;</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="multihandle_8h.html">multihandle.h</a>&quot;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pipeline_8h.html">pipeline.h</a>&quot;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dotdot_8h.html">dotdot.h</a>&quot;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="strdup_8h.html">strdup.h</a>&quot;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="setopt_8h.html">setopt.h</a>&quot;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/* The last 3 #include files should be in this order */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__printf_8h.html">curl_printf.h</a>&quot;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="curl__memory_8h.html">curl_memory.h</a>&quot;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memdebug_8h.html">memdebug.h</a>&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> conn_free(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> free_idnconverted_hostname(<span class="keyword">struct</span> <a class="code" href="structhostname.html">hostname</a> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> get_protocol_family(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/* Some parts of the code (e.g. chunked encoding) assume this buffer has at</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * more than just a few bytes to play with. Don&#39;t let it become too small or</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> * bad things will happen.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#if READBUFFER_SIZE &lt; READBUFFER_MIN</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"># error READBUFFER_SIZE is too small</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> * Protocol table.</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> * <span class="keyword">const</span> <a class="code" href="proto_8d.html#a454d355bda85162423424da4a79fd517">protocols</a>[] = {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_HTTP</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  &amp;<a class="code" href="http_8c.html#ada3b16c5ed5c539dfdfe51909d1224ec">Curl_handler_http</a>,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#if defined(USE_SSL) &amp;&amp; !defined(CURL_DISABLE_HTTP)</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  &amp;Curl_handler_https,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_FTP</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  &amp;<a class="code" href="ftp_8c.html#a79071fb30b2abfa423a252245cbc6190">Curl_handler_ftp</a>,</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#if defined(USE_SSL) &amp;&amp; !defined(CURL_DISABLE_FTP)</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  &amp;Curl_handler_ftps,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_TELNET</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  &amp;<a class="code" href="components_2curl_2lib_2telnet_8c.html#a218d1b371584dc032bc046ed14af2ca3">Curl_handler_telnet</a>,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_DICT</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  &amp;<a class="code" href="dict_8c.html#a1bf125e901dab15ea8ade1f426678ac4">Curl_handler_dict</a>,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_LDAP</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  &amp;<a class="code" href="curl__ldap_8h.html#aa1253b14602d68a70ca20be27d768594">Curl_handler_ldap</a>,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">#if !defined(CURL_DISABLE_LDAPS) &amp;&amp; \</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">    ((defined(USE_OPENLDAP) &amp;&amp; defined(USE_SSL)) || \</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">     (!defined(USE_OPENLDAP) &amp;&amp; defined(HAVE_LDAP_SSL)))</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  &amp;Curl_handler_ldaps,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_FILE</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  &amp;<a class="code" href="file_8c.html#ad4db8d27c2dff81749fd0015a0ad24cd">Curl_handler_file</a>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_TFTP</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  &amp;<a class="code" href="tftp_8c.html#a3085f69c81389e92a386f1fbfb74940b">Curl_handler_tftp</a>,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#if defined(USE_LIBSSH2) || defined(USE_LIBSSH)</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  &amp;Curl_handler_scp,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">#if defined(USE_LIBSSH2) || defined(USE_LIBSSH)</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  &amp;Curl_handler_sftp,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_IMAP</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  &amp;<a class="code" href="imap_8c.html#ae276e4e81c4afa813d9324d62421bff8">Curl_handler_imap</a>,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  &amp;<a class="code" href="imap_8h.html#aba3ad26835d0af88926a323546998304">Curl_handler_imaps</a>,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_POP3</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  &amp;<a class="code" href="pop3_8c.html#ad66fb72d1c6b45256deaf03f6415612c">Curl_handler_pop3</a>,</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  &amp;<a class="code" href="pop3_8h.html#a8b15b78466276c8940976d7b5f549607">Curl_handler_pop3s</a>,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#if !defined(CURL_DISABLE_SMB) &amp;&amp; defined(USE_NTLM) &amp;&amp; \</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">   (CURL_SIZEOF_CURL_OFF_T &gt; 4) &amp;&amp; \</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">   (!defined(USE_WINDOWS_SSPI) || defined(USE_WIN32_CRYPTO))</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  &amp;Curl_handler_smb,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  &amp;Curl_handler_smbs,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_SMTP</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  &amp;<a class="code" href="smtp_8c.html#a9063ebddfe08299e6248dfe21d94dbea">Curl_handler_smtp</a>,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  &amp;<a class="code" href="smtp_8h.html#a49cb158d5b0a8b16f9e483ac8a3b5425">Curl_handler_smtps</a>,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_RTSP</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  &amp;<a class="code" href="lib_2rtsp_8c.html#a6b16211eaf668c212454c3e7d629cdd4">Curl_handler_rtsp</a>,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_GOPHER</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  &amp;<a class="code" href="gopher_8c.html#ac431e40f3cd5933591436b22f6144f5b">Curl_handler_gopher</a>,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#ifdef USE_LIBRTMP</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  &amp;Curl_handler_rtmp,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  &amp;Curl_handler_rtmpt,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  &amp;Curl_handler_rtmpe,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  &amp;Curl_handler_rtmpte,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  &amp;Curl_handler_rtmps,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  &amp;Curl_handler_rtmpts,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  (<span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> *) NULL</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;};</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> * Dummy handler for undefined protocol schemes.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> Curl_handler_dummy = {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="stringliteral">&quot;&lt;no protocol&gt;&quot;</span>,                      <span class="comment">/* scheme */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* setup_connection */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* do_it */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* done */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* do_more */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connect_it */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connecting */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* doing */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* proto_getsock */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* doing_getsock */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* domore_getsock */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* perform_getsock */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* disconnect */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* readwrite */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>,                            <span class="comment">/* connection_check */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  0,                                    <span class="comment">/* defport */</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  0,                                    <span class="comment">/* protocol */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="urldata_8h.html#a06e40f8f1e2219fb5b519c74715c3537">PROTOPT_NONE</a>                          <span class="comment">/* flags */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;};</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="url_8h.html#a53f36ad7e1bab7006b7e434b5ae67718">  272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="url_8c.html#a53f36ad7e1bab7006b7e434b5ae67718">Curl_freeset</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">/* Free all dynamic strings stored in the data-&gt;set substructure. */</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keyword">enum</span> <a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3f">dupstring</a> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = (<span class="keyword">enum</span> <a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3f">dupstring</a>)0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; <a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3faa33512be63a1baf978add97f96b3c3dc">STRING_LAST</a>; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>]);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;change.referer_alloc) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;change.referer);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;change.referer_alloc = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;change.referer = NULL;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;change.url_alloc) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;change.url);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;change.url_alloc = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;change.url = NULL;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="mime_8c.html#a3295a1b4557da56cd25b0a5217183118">Curl_mime_cleanpart</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;set.mimepost);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/* free the URL pieces */</span></div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="url_8h.html#a858a8c13c16ee2cc80f807bb73578508">  295</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="url_8c.html#a858a8c13c16ee2cc80f807bb73578508">Curl_up_free</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keyword">struct </span><a class="code" href="structurlpieces.html">urlpieces</a> *up = &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#ae4d8065c09a9c92e17a42d0c32435846">scheme</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#aa276777b3ca3e36339040dc5ba738f56">hostname</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#ac561333ae56240b401939694f505207e">port</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#a0b14afc0ca57363a1a0e2b8026809e28">user</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#a96b325a949245170dfe7957fd31cd8ef">password</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#a65bb66c3009a6a025d6ae056928063e8">options</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#aceda10d12cbc9388f7af407287b2333e">path</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(up-&gt;<a class="code" href="structurlpieces.html#a4a672d9ad2c29549af4a12d52b7c5185">query</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="urlapi_8h.html#a41c5e8b4caf610a0984ef4473ca4163e">curl_url_cleanup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.uh);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;state.uh = NULL;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * This is the internal function curl_easy_cleanup() calls. This should</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> * cleanup and free all resources associated with this sessionhandle.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> * NOTE: if we ever add something that attempts to write to a socket or</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> * similar here, we must ignore SIGPIPE first. It is currently only done</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> * when curl_easy_perform() is invoked.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="url_8h.html#a557d55610156477514fe6dc5a178789e">  319</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a557d55610156477514fe6dc5a178789e">Curl_close</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__multi.html">Curl_multi</a> *m;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="multi_8c.html#a7a9f018ccced30e7c65ea89e2c85382f">Curl_expire_clear</a>(<a class="code" href="structdata.html">data</a>); <span class="comment">/* shut off timers */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  m = <a class="code" href="structdata.html">data</a>-&gt;multi;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span>(m)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">/* This handle is still part of a multi handle, take care of this first</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">       and detach this handle from there. */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="multi_8h.html#abd5c8bf83688f15099b512846f6efc5a">curl_multi_remove_handle</a>(<a class="code" href="structdata.html">data</a>-&gt;multi, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;multi_easy) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">/* when curl_easy_perform() is used, it creates its own multi handle to</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">       use and this is the one */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="multi_8h.html#a05ea44148f8932f7d99ef0487ddf7003">curl_multi_cleanup</a>(<a class="code" href="structdata.html">data</a>-&gt;multi_easy);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;multi_easy = NULL;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">/* Destroy the timeout list that is held in the easy handle. It is</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">     /normally/ done by curl_multi_remove_handle() but this is &quot;just in</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">     case&quot; */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;state.timeoutlist, NULL);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;magic = 0; <span class="comment">/* force a clear AFTER the possibly enforced removal from</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">                      the multi handle, since that function uses the magic</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">                      field! */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;state.rangestringalloc)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>-&gt;state.range);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">/* freed here just in case DONE wasn&#39;t called */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="url_8c.html#a6ba815ed78d02e76c51dc646ffded7dc">Curl_free_request_state</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">/* Close down all open SSL info and sessions */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="vtls_8h.html#a396bfd7b7888300739b9c3b323ab0907">Curl_ssl_close_all</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;state.first_host);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;state.scratch);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="vtls_8h.html#aa4cc853c97440333b00f76f160b3af50">Curl_ssl_free_certinfo</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">/* Cleanup possible redirect junk */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>-&gt;req.newurl);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;req.newurl = NULL;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;change.referer_alloc) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;change.referer);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;change.referer_alloc = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;change.referer = NULL;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="url_8c.html#a858a8c13c16ee2cc80f807bb73578508">Curl_up_free</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;state.buffer);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;state.headerbuff);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;state.ulbuf);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="cookie_8c.html#a04f46d0897660b9b3daf67c163f8927b">Curl_flush_cookies</a>(<a class="code" href="structdata.html">data</a>, 1);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="http__digest_8c.html#a2d7558f6d337226c5e1b610c42817f85">Curl_digest_cleanup</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;info.contenttype);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;info.wouldredirect);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">/* this destroys the channel and we cannot use it anymore after this */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="asyn_8h.html#a5347031b2083b57609737b61c8ec4486">Curl_resolver_cleanup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.resolver);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="http2_8h.html#a0f9179032800ff43d64d1be68c1e67cd">Curl_http2_cleanup_dependencies</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="non-ascii_8h.html#aaaa5271f94f6fd821706be7de0a47ae9">Curl_convert_close</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">/* No longer a dirty share, if it exists */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;share) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="share_8c.html#a5dcfa53b653176b92395464a33b509cb">Curl_share_lock</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="curl_8h.html#af898dd6eb71573ccb1668c3d2380549ca6f2da9e91a2a68f68ab45d547b4fffda">CURL_LOCK_DATA_SHARE</a>, <a class="code" href="curl_8h.html#a0ea2c7f23828ae93fb4eb9ab701bf6feac29aeaf619308f144ae4c72526fbdb95">CURL_LOCK_ACCESS_SINGLE</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;share-&gt;dirty--;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="share_8c.html#a85cdae024464c8d7e96a232797028d72">Curl_share_unlock</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="curl_8h.html#af898dd6eb71573ccb1668c3d2380549ca6f2da9e91a2a68f68ab45d547b4fffda">CURL_LOCK_DATA_SHARE</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">/* destruct wildcard structures if it is needed */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="wildcard_8c.html#a32768c48565988ec546842a3c4c9c433">Curl_wildcard_dtor</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;wildcard);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="url_8c.html#a53f36ad7e1bab7006b7e434b5ae67718">Curl_freeset</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> * Initialize the UserDefined fields within a Curl_easy.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> * This may be safely called on a new or existing Curl_easy.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="url_8h.html#af34ad1731858af49358d292b89e1d277">  405</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#af34ad1731858af49358d292b89e1d277">Curl_init_userdefined</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_user_defined.html">UserDefined</a> *<span class="keyword">set</span> = &amp;<a class="code" href="structdata.html">data</a>-&gt;set;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keyword">set</span>-&gt;out = stdout; <span class="comment">/* default output to stdout */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">set</span>-&gt;in_set = <a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>;  <span class="comment">/* default input from stdin */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keyword">set</span>-&gt;err  = stderr;  <span class="comment">/* default stderr to stderr */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">/* use fwrite as default function to store output */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keyword">set</span>-&gt;fwrite_func = (<a class="code" href="curl_8h.html#ad65e62dcde45b356254b0f25f38dd802">curl_write_callback</a>)<a class="code" href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">/* use fread as default function to read input */</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keyword">set</span>-&gt;fread_func_set = (<a class="code" href="curl_8h.html#a7516630ec17f247697dd3272be7ada74">curl_read_callback</a>)<a class="code" href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keyword">set</span>-&gt;is_fread_set = 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">set</span>-&gt;is_fwrite_set = 0;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keyword">set</span>-&gt;seek_func = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keyword">set</span>-&gt;seek_client = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">/* conversion callbacks for non-ASCII hosts */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keyword">set</span>-&gt;convfromnetwork = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keyword">set</span>-&gt;convtonetwork   = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keyword">set</span>-&gt;convfromutf8    = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keyword">set</span>-&gt;filesize = -1;        <span class="comment">/* we don&#39;t know the size */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">set</span>-&gt;postfieldsize = -1;   <span class="comment">/* unknown size */</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">set</span>-&gt;maxredirs = -1;       <span class="comment">/* allow any amount by default */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keyword">set</span>-&gt;httpreq = <a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8ae4322de705c516b61756f9874183ef05">HTTPREQ_GET</a>; <span class="comment">/* Default HTTP request */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keyword">set</span>-&gt;rtspreq = <a class="code" href="urldata_8h.html#a816857c637b57c60b680d1bf575ef159a0158dded17017157fee6a804f4f2adaa">RTSPREQ_OPTIONS</a>; <span class="comment">/* Default RTSP request */</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keyword">set</span>-&gt;ftp_use_epsv = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;   <span class="comment">/* FTP defaults to EPSV operations */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keyword">set</span>-&gt;ftp_use_eprt = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;   <span class="comment">/* FTP defaults to EPRT operations */</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keyword">set</span>-&gt;ftp_use_pret = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;  <span class="comment">/* mainly useful for drftpd servers */</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">set</span>-&gt;ftp_filemethod = <a class="code" href="ftp_8h.html#ad68713f9a78b1d9e9eeec5ad478a3955a99eba1414ed72de04dca8f1914a90b9a">FTPFILE_MULTICWD</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keyword">set</span>-&gt;dns_cache_timeout = 60; <span class="comment">/* Timeout every 60 seconds by default */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">/* Set the default size of the SSL session ID cache */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">set</span>-&gt;general_ssl.max_ssl_sessions = 5;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keyword">set</span>-&gt;proxyport = 0;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keyword">set</span>-&gt;proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a7d6d42eb703774dcd800c4881951c997">CURLPROXY_HTTP</a>; <span class="comment">/* defaults to HTTP proxy */</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keyword">set</span>-&gt;httpauth = <a class="code" href="curl_8h.html#a71a1fde704d583a1f5dc57f77f1e957b">CURLAUTH_BASIC</a>;  <span class="comment">/* defaults to basic */</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keyword">set</span>-&gt;proxyauth = <a class="code" href="curl_8h.html#a71a1fde704d583a1f5dc57f77f1e957b">CURLAUTH_BASIC</a>; <span class="comment">/* defaults to basic */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">/* SOCKS5 proxy auth defaults to username/password + GSS-API */</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keyword">set</span>-&gt;socks5auth = <a class="code" href="curl_8h.html#a71a1fde704d583a1f5dc57f77f1e957b">CURLAUTH_BASIC</a> | <a class="code" href="curl_8h.html#a6e1c7ccb4abbac621636c8583e5041cb">CURLAUTH_GSSAPI</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">/* make libcurl quiet by default: */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keyword">set</span>-&gt;hide_progress = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;  <span class="comment">/* CURLOPT_NOPROGRESS changes these */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="mime_8c.html#a26e5fb189d0937d27da11d1c10c09565">Curl_mime_initpart</a>(&amp;<a class="code" href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a>-&gt;mimepost, <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">   * libcurl 7.10 introduced SSL verification *by default*! This needs to be</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">   * switched off unless wanted.</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keyword">set</span>-&gt;ssl.primary.verifypeer = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keyword">set</span>-&gt;ssl.primary.verifyhost = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">#ifdef USE_TLS_SRP</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">set</span>-&gt;ssl.authtype = <a class="code" href="curl_8h.html#a24fffb09f0eaa14dd67cde59e7b09480a3e82c23436860875b1b656827911ee3e">CURL_TLSAUTH_NONE</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">set</span>-&gt;ssh_auth_types = <a class="code" href="curl_8h.html#a88e64b73acc60922b65a117f226afe61">CURLSSH_AUTH_DEFAULT</a>; <span class="comment">/* defaults to any auth</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">                                                      type */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">set</span>-&gt;ssl.primary.sessionid = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* session ID caching enabled by</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">                                        default */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keyword">set</span>-&gt;proxy_ssl = <span class="keyword">set</span>-&gt;ssl;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keyword">set</span>-&gt;new_file_perms = 0644;    <span class="comment">/* Default permissions */</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keyword">set</span>-&gt;new_directory_perms = 0755; <span class="comment">/* Default permissions */</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">/* for the *protocols fields we don&#39;t use the CURLPROTO_ALL convenience</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">     define since we internally only use the lower 16 bits for the passed</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">     in bitmask to not conflict with the private bits */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">set</span>-&gt;allowed_protocols = <a class="code" href="curl_8h.html#a85eed180d156ca929d85f3173667f23c">CURLPROTO_ALL</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">set</span>-&gt;redir_protocols = <a class="code" href="curl_8h.html#a85eed180d156ca929d85f3173667f23c">CURLPROTO_ALL</a> &amp;  <span class="comment">/* All except FILE, SCP and SMB */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                          ~(<a class="code" href="curl_8h.html#ab9dc18362468a060094b6fea044e2a40">CURLPROTO_FILE</a> | <a class="code" href="curl_8h.html#a9815b02ec8c789f7afcda6e4e1144d23">CURLPROTO_SCP</a> | <a class="code" href="curl_8h.html#a49028b11b0ed527a8e0be3434588ad04">CURLPROTO_SMB</a> |</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                            <a class="code" href="curl_8h.html#a069e80ac9e73bf4d189c2166da0f5e34">CURLPROTO_SMBS</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">#if defined(HAVE_GSSAPI) || defined(USE_WINDOWS_SSPI)</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">   * disallow unprotected protection negotiation NEC reference implementation</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">   * seem not to follow rfc1961 section 4.3/4.4</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">set</span>-&gt;socks5_gssapi_nec = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">/* Set the default CA cert bundle/path detected/specified at build time.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">   * If Schannel (WinSSL) is the selected SSL backend then these locations</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">   * are ignored. We allow setting CA location for schannel only when</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">   * explicitly specified by the user via CURLOPT_CAINFO / --cacert.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="vtls_8c.html#a31c6901e598df0934bf3e1464136910c">Curl_ssl_backend</a>() != <a class="code" href="curl_8h.html#a908c5b707ac681212b8f8688cf76689dac89b6f3511b0840ecdf318e5e4f312ce">CURLSSLBACKEND_SCHANNEL</a>) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">#if defined(CURL_CA_BUNDLE)</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="setopt_8c.html#ae1784551e8f34579c3b3ef1416b72e13">Curl_setstropt</a>(&amp;<a class="code" href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a>-&gt;str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0772a3d3f064ab162af2d5392077d434">STRING_SSL_CAFILE_ORIG</a>], <a class="code" href="config-dos_8h.html#ae5eea99d1a0e2512a7854acb71038197">CURL_CA_BUNDLE</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="setopt_8c.html#ae1784551e8f34579c3b3ef1416b72e13">Curl_setstropt</a>(&amp;<a class="code" href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a>-&gt;str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadc1a0a246e25b592ea4f467152a5ad26">STRING_SSL_CAFILE_PROXY</a>],</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                            <a class="code" href="config-dos_8h.html#ae5eea99d1a0e2512a7854acb71038197">CURL_CA_BUNDLE</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">#if defined(CURL_CA_PATH)</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="setopt_8c.html#ae1784551e8f34579c3b3ef1416b72e13">Curl_setstropt</a>(&amp;<a class="code" href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a>-&gt;str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa50c48e8f3cca5ed1ae46778ebd9c5619">STRING_SSL_CAPATH_ORIG</a>], CURL_CA_PATH);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="setopt_8c.html#ae1784551e8f34579c3b3ef1416b72e13">Curl_setstropt</a>(&amp;<a class="code" href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a>-&gt;str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa98ba9a3bb085f2e37276d1ccf39d1412">STRING_SSL_CAPATH_PROXY</a>], CURL_CA_PATH);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keyword">set</span>-&gt;wildcard_enabled = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keyword">set</span>-&gt;chunk_bgn      = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">set</span>-&gt;chunk_end      = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keyword">set</span>-&gt;tcp_keepalive = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keyword">set</span>-&gt;tcp_keepintvl = 60;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keyword">set</span>-&gt;tcp_keepidle = 60;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keyword">set</span>-&gt;tcp_fastopen = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">set</span>-&gt;tcp_nodelay = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">set</span>-&gt;ssl_enable_npn = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keyword">set</span>-&gt;ssl_enable_alpn = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keyword">set</span>-&gt;expect_100_timeout = 1000L; <span class="comment">/* Wait for a second by default. */</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">set</span>-&gt;sep_headers = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* separated header lists by default */</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keyword">set</span>-&gt;buffer_size = <a class="code" href="url_8h.html#aba8c7e581ed8f3f18376689f2e74f337">READBUFFER_SIZE</a>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keyword">set</span>-&gt;upload_buffer_size = <a class="code" href="url_8h.html#aa1ea656b875d5de4d9e0d99a295e3745">UPLOADBUFFER_DEFAULT</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keyword">set</span>-&gt;happy_eyeballs_timeout = <a class="code" href="curl_8h.html#a683a27d60834128dd73f863276fcb832">CURL_HET_DEFAULT</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keyword">set</span>-&gt;fnmatch = <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keyword">set</span>-&gt;upkeep_interval_ms = <a class="code" href="curl_8h.html#ac8203065f3262281dae322563cc2a7d8">CURL_UPKEEP_INTERVAL_DEFAULT</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keyword">set</span>-&gt;maxconnects = <a class="code" href="urldata_8h.html#a72f0f7158944999b62d50462b0ff2733">DEFAULT_CONNCACHE_SIZE</a>; <span class="comment">/* for easy handles */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keyword">set</span>-&gt;httpversion =</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#ifdef USE_NGHTTP2</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035da153a446054f34c6bcbca7a690209f284">CURL_HTTP_VERSION_2TLS</a></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035da2bdca7ce6479378784212fee3a068c74">CURL_HTTP_VERSION_1_1</a></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    ;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="http2_8h.html#ab44413d5f5cf5d245165f53c86b8bcb1">Curl_http2_init_userset</a>(<span class="keyword">set</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="url_8h.html#aa4332af3100a3a9ce3a2ba11e4bfddab">  558</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#aa4332af3100a3a9ce3a2ba11e4bfddab">Curl_open</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> **curl)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">/* Very simple start-up: alloc the struct, init it with zeroes and return */</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <a class="code" href="structdata.html">data</a> = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a>));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">/* this is a very serious error */</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(stderr, <span class="stringliteral">&quot;Error: calloc of Curl_easy failed\n&quot;</span>));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;magic = <a class="code" href="urldata_8h.html#a3974aaba0c9077dda7aa9ed8e2325d55">CURLEASY_MAGIC_NUMBER</a>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="asyn_8h.html#a49da7a0f7f3ec87fee1ad60f2fd7e651">Curl_resolver_init</a>(<a class="code" href="structdata.html">data</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.resolver);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(stderr, <span class="stringliteral">&quot;Error: resolver_init failed\n&quot;</span>));</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">/* We do some initial setup here, all those fields that can&#39;t be just 0 */</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;state.buffer = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(<a class="code" href="url_8h.html#aba8c7e581ed8f3f18376689f2e74f337">READBUFFER_SIZE</a> + 1);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>-&gt;state.buffer) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(stderr, <span class="stringliteral">&quot;Error: malloc of buffer failed\n&quot;</span>));</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;state.headerbuff = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(<a class="code" href="urldata_8h.html#aed732fc470f974350bb2b3e6acc81885">HEADERSIZE</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>-&gt;state.headerbuff) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a>(stderr, <span class="stringliteral">&quot;Error: malloc of headerbuff failed\n&quot;</span>));</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="url_8c.html#af34ad1731858af49358d292b89e1d277">Curl_init_userdefined</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.headersize = <a class="code" href="urldata_8h.html#aed732fc470f974350bb2b3e6acc81885">HEADERSIZE</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="non-ascii_8h.html#aa05bf6a4e3fb151028f9eb10fc8d6432">Curl_convert_init</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <a class="code" href="lib_2getinfo_8c.html#aac05d1e18067264a6b4b66e515cfdaaa">Curl_initinfo</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">/* most recent connection is not yet defined */</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.lastconnect = NULL;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;progress.flags |= <a class="code" href="progress_8h.html#a478e9e98396f7df74b2f2402f4f6f9f0">PGRS_HIDE</a>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.current_speed = -1; <span class="comment">/* init to negative == impossible */</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <a class="code" href="http2_8h.html#af65fa81e85022ee9b2ca5b8c46664f10">Curl_http2_init_state</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;state);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="asyn_8h.html#a5347031b2083b57609737b61c8ec4486">Curl_resolver_cleanup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.resolver);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>-&gt;state.buffer);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>-&gt;state.headerbuff);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="url_8c.html#a53f36ad7e1bab7006b7e434b5ae67718">Curl_freeset</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="structdata.html">data</a> = NULL;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    *curl = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#ifdef USE_RECV_BEFORE_SEND_WORKAROUND</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> conn_reset_postponed_data(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> num)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keyword">struct </span>postponed_data * <span class="keyword">const</span> psnd = &amp;(conn-&gt;postponed[num]);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">if</span>(psnd-&gt;buffer) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;allocated_size &gt; 0);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;recv_size &lt;= psnd-&gt;allocated_size);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;recv_size ?</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                (psnd-&gt;recv_processed &lt; psnd-&gt;recv_size) :</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                (psnd-&gt;recv_processed == 0));</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;bindsock != <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(psnd-&gt;buffer);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    psnd-&gt;buffer = NULL;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    psnd-&gt;allocated_size = 0;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    psnd-&gt;recv_size = 0;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    psnd-&gt;recv_processed = 0;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="preprocessor">#ifdef DEBUGBUILD</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    psnd-&gt;bindsock = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* used only for DEBUGASSERT */</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUGBUILD */</span><span class="preprocessor"></span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;allocated_size == 0);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;recv_size == 0);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;recv_processed == 0);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(psnd-&gt;bindsock == <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="url_8c.html#a75dd1250c19969740279d49c6815c1c0">conn_reset_all_postponed_data</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  conn_reset_postponed_data(conn, 0);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  conn_reset_postponed_data(conn, 1);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#else  </span><span class="comment">/* ! USE_RECV_BEFORE_SEND_WORKAROUND */</span><span class="preprocessor"></span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">/* Use &quot;do-nothing&quot; macro instead of function when workaround not used */</span></div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="url_8c.html#a75dd1250c19969740279d49c6815c1c0">  659</a></span>&#160;<span class="preprocessor">#define conn_reset_all_postponed_data(c) do {} WHILE_FALSE</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ! USE_RECV_BEFORE_SEND_WORKAROUND */</span><span class="preprocessor"></span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> conn_free(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span>(!conn)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">/* possible left-overs from the async name resolvers */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="asyn_8h.html#a0184861709315e8de5f48ce59f672bdb">Curl_resolver_cancel</a>(conn);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">/* close the SSL stuff before we close any sockets since they will/may</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">     write to the sockets */</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="vtls_8h.html#a4b8227a2fd2fbf2d20147513033a8ade">Curl_ssl_close</a>(conn, <a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="vtls_8h.html#a4b8227a2fd2fbf2d20147513033a8ade">Curl_ssl_close</a>(conn, <a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">/* close possibly still open sockets */</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a> != conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>])</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="connect_8c.html#a084a7d0729207e1c8c5a63f10e7ac815">Curl_closesocket</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>]);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a> != conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>])</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="connect_8c.html#a084a7d0729207e1c8c5a63f10e7ac815">Curl_closesocket</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>]);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a> != conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[0])</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="connect_8c.html#a084a7d0729207e1c8c5a63f10e7ac815">Curl_closesocket</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[0]);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a> != conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[1])</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="connect_8c.html#a084a7d0729207e1c8c5a63f10e7ac815">Curl_closesocket</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[1]);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">#if !defined(CURL_DISABLE_HTTP) &amp;&amp; defined(USE_NTLM) &amp;&amp; \</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">    defined(NTLM_WB_ENABLED)</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  Curl_ntlm_wb_cleanup(conn);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a7cafd86e79828b97b1c186b83d39f565">oauth_bearer</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">options</a>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#a810a2b88f3ab6e69daac56a95997d288">proxyuserpwd</a>);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ad0d3b107dbf2e7d40f2680e40498f1f3">uagent</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#a7fb027f5ed81ce6a618e7fb0e3a2e5e2">userpwd</a>);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#a802d4850777aae029b9aa17dc163580d">accept_encoding</a>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ad820faf61489113ffbe96f23040c02a2">te</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ab315df4d7a2183c40c2bf882c09e3832">rangeline</a>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#a5baeb2599d955f02334cf910943a42b2">ref</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ab818628aee06527d680ef20a16a53c6e">host</a>);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ae18576e8daa81e213781ac6c0183109f">cookiehost</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#a7964410b7292e5259fd0767d59e2b0be">rtsp_transport</a>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a281ce98dd88c8631e0ee7a4caf935b48">trailer</a>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>); <span class="comment">/* host name buffer */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>); <span class="comment">/* host name buffer */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4ae9ef32ff4f93d9fe8cc5f6ba7c690b">secondaryhostname</a>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>); <span class="comment">/* http proxy name buffer */</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>); <span class="comment">/* socks proxy name buffer */</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#afe920189a64c99b8dc93679569406138">connect_state</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="url_8c.html#a75dd1250c19969740279d49c6815c1c0">conn_reset_all_postponed_data</a>(conn);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>, NULL);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>, NULL);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="vtls_8c.html#a5f50ad085ea4993229348232d4719407">Curl_free_primary_ssl_config</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="vtls_8c.html#a5f50ad085ea4993229348232d4719407">Curl_free_primary_ssl_config</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;unix_domain_socket);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;ssl_extra);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn); <span class="comment">/* free all the connection oriented data */</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"> * Disconnects the given connection. Note the connection may not be the</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> * primary connection, like when freeing room in the connection cache or</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> * killing of a dead old connection.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> * A connection needs an easy handle when closing down. We support this passed</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"> * in separately since the connection to get closed here is often already</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"> * disassociated from an easy handle.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"> * This function MUST NOT reset state in the Curl_easy struct if that</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"> * isn&#39;t strictly bound to the life-time of *this* particular connection.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="url_8h.html#aff2284ebc768ab57740f9aefa2e50d1e">  751</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                         <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">bool</span> dead_connection)</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">if</span>(!conn)</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>; <span class="comment">/* this is closed and fine already */</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;DISCONNECT without easy handle, ignoring\n&quot;</span>));</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">   * If this connection isn&#39;t marked to force-close, leave it open if there</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">   * are other users of it</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(conn) &amp;&amp; !dead_connection) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Curl_disconnect when inuse: %zu\n&quot;</span>, <a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(conn)));</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a> != NULL) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="hostip_8c.html#a47fa53659ab4a0c796ea2fd58629674c">Curl_resolv_unlock</a>(<a class="code" href="structdata.html">data</a>, conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a> = NULL;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="hostip_8c.html#a77525441d6420606360f8430fa9c15ea">Curl_hostcache_prune</a>(<a class="code" href="structdata.html">data</a>); <span class="comment">/* kill old DNS cache entries */</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#if !defined(CURL_DISABLE_HTTP) &amp;&amp; defined(USE_NTLM)</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">/* Cleanup NTLM connection-related data */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  Curl_http_ntlm_cleanup(conn);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#abb2d7a8d383e24158ffc1c2cd73350d1">disconnect</a>)</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">/* This is set if protocol-specific cleanups should be made */</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#abb2d7a8d383e24158ffc1c2cd73350d1">disconnect</a>(conn, dead_connection);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">/* unlink ourselves! */</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Closing connection %ld\n&quot;</span>, conn-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="conncache_8c.html#aa471cc13d69dc43e7f446e60ac2471d5">Curl_conncache_remove_conn</a>(conn, <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> == <a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">/* this assumes that the pointer is still there after the connection was</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">     detected from the cache */</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="vtls_8h.html#a4b8227a2fd2fbf2d20147513033a8ade">Curl_ssl_close</a>(conn, <a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  conn_free(conn);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> * This function should return TRUE if the socket is to be assumed to</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"> * be dead. Most commonly this happens when the server has closed the</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment"> * connection due to inactivity.</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> SocketIsDead(<a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> sock)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">int</span> sval;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordtype">bool</span> ret_val = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  sval = <a class="code" href="select_8h.html#a7e89e8a851eb27402914a0d5beb58d99">SOCKET_READABLE</a>(sock, 0);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">if</span>(sval == 0)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">/* timeout */</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    ret_val = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">return</span> ret_val;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> * IsPipeliningPossible()</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * Return a bitmask with the available pipelining and multiplexing options for</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * the given requested connection.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> IsPipeliningPossible(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *handle,</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordtype">int</span> avail = 0;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">/* If a HTTP protocol and pipelining is enabled */</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">if</span>((conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> &amp; <a class="code" href="urldata_8h.html#a9d346cfcc0046f6c6ed206bde086ab2d">PROTO_FAMILY_HTTP</a>) &amp;&amp;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;     (!conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">protoconnstart</a> || !conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aaf15319fba965e2d87ac0ac839ae8351">close</a>)) {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a>(handle-&gt;<a class="code" href="struct_curl__easy.html#ae50ee3c1668aaed84ae0338046f4f737">multi</a>, <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>) &amp;&amp;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;       (handle-&gt;<a class="code" href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">set</a>.<a class="code" href="struct_user_defined.html#a297b95c9d8a6b73ab0d15f752e23ba8b">httpversion</a> != <a class="code" href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035dabf20980d1f881523f95f620ddcce5667">CURL_HTTP_VERSION_1_0</a>) &amp;&amp;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;       (handle-&gt;<a class="code" href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">set</a>.<a class="code" href="struct_user_defined.html#acea22e26cd3f89feab66b25fc9fe9ffe">httpreq</a> == <a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8ae4322de705c516b61756f9874183ef05">HTTPREQ_GET</a> ||</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        handle-&gt;<a class="code" href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">set</a>.<a class="code" href="struct_user_defined.html#acea22e26cd3f89feab66b25fc9fe9ffe">httpreq</a> == <a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8aca19517adc74c705bb46cd5f505f3456">HTTPREQ_HEAD</a>))</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="comment">/* didn&#39;t ask for HTTP/1.0 and a GET or HEAD */</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      avail |= <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a>(handle-&gt;<a class="code" href="struct_curl__easy.html#ae50ee3c1668aaed84ae0338046f4f737">multi</a>, <a class="code" href="http2-download_8c.html#af29d172b038fadd90daf541df3b945c6">CURLPIPE_MULTIPLEX</a>) &amp;&amp;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;       (handle-&gt;<a class="code" href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">set</a>.<a class="code" href="struct_user_defined.html#a297b95c9d8a6b73ab0d15f752e23ba8b">httpversion</a> &gt;= <a class="code" href="curl_8h.html#a49d83160803f433b12209ed52aafc05f">CURL_HTTP_VERSION_2</a>))</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="comment">/* allows HTTP/2 */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      avail |= <a class="code" href="http2-download_8c.html#af29d172b038fadd90daf541df3b945c6">CURLPIPE_MULTIPLEX</a>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">return</span> avail;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/* Returns non-zero if a handle was removed */</span></div><div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="url_8h.html#ab7f9231aaae49536ceb7c7ea5431f6de">  855</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *handle,</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                  <span class="keyword">struct</span> <a class="code" href="structcurl__llist.html">curl_llist</a> *pipeline)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;{</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span>(pipeline) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcurl__llist__element.html">curl_llist_element</a> *curr;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    curr = pipeline-&gt;<a class="code" href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">head</a>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">while</span>(curr) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span>(curr-&gt;<a class="code" href="structcurl__llist__element.html#aa3c3cb90fae86e24d88eea4437bc61ab">ptr</a> == handle) {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="llist_8c.html#a36b09b21eb5d63095a325575113df4f0">Curl_llist_remove</a>(pipeline, curr, NULL);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">return</span> 1; <span class="comment">/* we removed a handle */</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      curr = curr-&gt;<a class="code" href="structcurl__llist__element.html#a75de5ec93f47535d096929a045f46467">next</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#if 0 </span><span class="comment">/* this code is saved here as it is useful for debugging purposes */</span><span class="preprocessor"></span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> Curl_printPipeline(<span class="keyword">struct</span> <a class="code" href="structcurl__llist.html">curl_llist</a> *pipeline)</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__llist__element.html">curl_llist_element</a> *curr;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  curr = pipeline-&gt;<a class="code" href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">head</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">while</span>(curr) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = (<span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *) curr-&gt;<a class="code" href="structcurl__llist__element.html#aa3c3cb90fae86e24d88eea4437bc61ab">ptr</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Handle in pipeline: %s\n&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;state.path);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    curr = curr-&gt;<a class="code" href="structcurl__llist__element.html#a75de5ec93f47535d096929a045f46467">next</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a>* gethandleathead(<span class="keyword">struct</span> <a class="code" href="structcurl__llist.html">curl_llist</a> *pipeline)</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__llist__element.html">curl_llist_element</a> *curr = pipeline-&gt;<a class="code" href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">head</a>;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">#ifdef DEBUGBUILD</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcurl__llist__element.html">curl_llist_element</a> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = pipeline-&gt;<a class="code" href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">head</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *e = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;ptr;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(<a class="code" href="urldata_8h.html#a1107f8f3c79ed6d630958c8363ee37da">GOOD_EASY_HANDLE</a>(e));</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;next;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span>(curr) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *) curr-&gt;<a class="code" href="structcurl__llist__element.html#aa3c3cb90fae86e24d88eea4437bc61ab">ptr</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">/* remove the specified connection from all (possible) pipelines and related</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">   queues */</span></div><div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="url_8h.html#a49088dfd99853f4981161b43f512c096">  910</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="url_8c.html#a49088dfd99853f4981161b43f512c096">Curl_getoff_all_pipelines</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                               <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;{</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a2bb9cb7096c4799e15ed1b449c5c7f1b">bundle</a>)</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a2bb9cb7096c4799e15ed1b449c5c7f1b">bundle</a>-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> == <a class="code" href="conncache_8h.html#a3fead10caa803fd2f106fe9916140c73">BUNDLE_PIPELINING</a>) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordtype">bool</span> recv_head = (conn-&gt;<a class="code" href="structconnectdata.html#a057603d5194781bc5b614227e6f14f69">readchannel_inuse</a> &amp;&amp;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                      <a class="code" href="pipeline_8c.html#ac0e1ff41ac23ab04563a7817f7e838fc">Curl_recvpipe_head</a>(<a class="code" href="structdata.html">data</a>, conn));</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordtype">bool</span> send_head = (conn-&gt;<a class="code" href="structconnectdata.html#a6e21b86bf87046e6e41a7a9d2597a31d">writechannel_inuse</a> &amp;&amp;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                      <a class="code" href="pipeline_8c.html#a0ebfe30eee0b789fed3635439e8f0b4b">Curl_sendpipe_head</a>(<a class="code" href="structdata.html">data</a>, conn));</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a>(<a class="code" href="structdata.html">data</a>, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>) &amp;&amp; recv_head)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <a class="code" href="pipeline_8c.html#aae772b189eab516240a6727d5b75db7b">Curl_pipeline_leave_read</a>(conn);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a>(<a class="code" href="structdata.html">data</a>, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>) &amp;&amp; send_head)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="pipeline_8c.html#a2f59dc911931337300b0b3db60936f12">Curl_pipeline_leave_write</a>(conn);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    (void)<a class="code" href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a>(<a class="code" href="structdata.html">data</a>, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    (void)<a class="code" href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a>(<a class="code" href="structdata.html">data</a>, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;proxy_info_matches(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structproxy__info.html">proxy_info</a>* <a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                   <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structproxy__info.html">proxy_info</a>* needle)</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;{</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span>((<a class="code" href="structdata.html">data</a>-&gt;proxytype == needle-&gt;<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a>) &amp;&amp;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;     (<a class="code" href="structdata.html">data</a>-&gt;port == needle-&gt;<a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a>) &amp;&amp;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;     <a class="code" href="strcase_8c.html#a241521c84255d0726fa6fa2614ec710c">Curl_safe_strcasecompare</a>(<a class="code" href="structdata.html">data</a>-&gt;host.name, needle-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>))</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment"> * This function checks if the given connection is dead and extracts it from</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"> * the connection cache if so.</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"> * When this is called as a Curl_conncache_foreach() callback, the connection</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"> * cache lock is held!</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"> * Returns TRUE if the connection was dead and extracted.</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> extract_if_dead(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                            <span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordtype">size_t</span> pipeLen = conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a> + conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">if</span>(!pipeLen &amp;&amp; !<a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(conn)) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">/* The check for a dead socket makes sense only if there are no</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">       handles in pipeline and the connection isn&#39;t already marked in</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">       use */</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordtype">bool</span> dead;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a01bbf75a1e8f567107214c1509439b72">connection_check</a>) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="comment">/* The protocol has a special method for checking the state of the</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">         connection. Use it to check if the connection is dead. */</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ftp_8c.html#a77812d4945cd21094debbd06962f0f01">state</a>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <a class="code" href="ftp_8c.html#a77812d4945cd21094debbd06962f0f01">state</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a01bbf75a1e8f567107214c1509439b72">connection_check</a>(conn, <a class="code" href="urldata_8h.html#ad2a0f1a29b96ea2623d2015598f21328">CONNCHECK_ISDEAD</a>);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      dead = (<a class="code" href="ftp_8c.html#a77812d4945cd21094debbd06962f0f01">state</a> &amp; <a class="code" href="urldata_8h.html#a27e0e4c009c7bae409b32e148d923658">CONNRESULT_DEAD</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="comment">/* Use the general method for determining the death of a connection */</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      dead = SocketIsDead(conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>]);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span>(dead) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Connection %ld seems to be dead!\n&quot;</span>, conn-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <a class="code" href="conncache_8c.html#aa471cc13d69dc43e7f446e60ac2471d5">Curl_conncache_remove_conn</a>(conn, <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = NULL; <span class="comment">/* detach */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  }</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="structprunedead.html">  987</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structprunedead.html">prunedead</a> {</div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="structprunedead.html#a86c03d3e9e41d964096a512053202d40">  988</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structprunedead.html#a86c03d3e9e41d964096a512053202d40">data</a>;</div><div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="structprunedead.html#a646a49d50b4dcb69cf38ec8f9dcf20a4">  989</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *<a class="code" href="structprunedead.html#a646a49d50b4dcb69cf38ec8f9dcf20a4">extracted</a>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;};</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment"> * Wrapper to use extract_if_dead() function in Curl_conncache_foreach()</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> call_extract_if_dead(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">void</span> *param)</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;{</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keyword">struct </span><a class="code" href="structprunedead.html">prunedead</a> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = (<span class="keyword">struct </span><a class="code" href="structprunedead.html">prunedead</a> *)param;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span>(extract_if_dead(conn, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;data)) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="comment">/* stop the iteration here, pass back the connection that was extracted */</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;extracted = conn;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">return</span> 0; <span class="comment">/* continue iteration */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;}</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment"> * This function scans the connection cache for half-open/dead connections,</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment"> * closes and removes them.</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment"> * The cleanup is done at most once per second.</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> prune_dead_connections(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurltime.html">curltime</a> <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  time_t <a class="code" href="test1_8c.html#a373722f946bf9680abb4de0dfb11fa22">elapsed</a> = <a class="code" href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a>(<a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>, <a class="code" href="structdata.html">data</a>-&gt;state.conn_cache-&gt;last_cleanup);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="test1_8c.html#a373722f946bf9680abb4de0dfb11fa22">elapsed</a> &gt;= 1000L) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keyword">struct </span><a class="code" href="structprunedead.html">prunedead</a> prune;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    prune.<a class="code" href="structprunedead.html#a86c03d3e9e41d964096a512053202d40">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    prune.extracted = NULL;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="conncache_8c.html#a4cf7fa1d5e3a258637b7a42b253a4602">Curl_conncache_foreach</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="structdata.html">data</a>-&gt;state.conn_cache, &amp;prune,</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                                 call_extract_if_dead)) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="comment">/* disconnect it */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      (void)<a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<a class="code" href="structdata.html">data</a>, prune.extracted, <span class="comment">/* dead_connection */</span><a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;state.conn_cache-&gt;last_cleanup = <a class="code" href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;}</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> max_pipeline_length(<span class="keyword">struct</span> <a class="code" href="struct_curl__multi.html">Curl_multi</a> *multi)</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;{</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">return</span> multi ? multi-&gt;<a class="code" href="struct_curl__multi.html#a0b29ca948d79c169c92f28239fbdd6ea">max_pipeline_length</a> : 0;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment"> * Given one filled in connection struct (named needle), this function should</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment"> * detect if there already is one that has all the significant details</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"> * exactly the same and thus should be used instead.</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment"> * If there is a match, this function returns TRUE - and has marked the</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment"> * connection as &#39;in-use&#39;. It must later be called with ConnectionDone() to</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment"> * return back to &#39;idle&#39; (unused) state.</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment"> * The force_reuse flag is set if the connection must be used, even if</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment"> * the pipelining strategy wants to open a new connection instead of reusing.</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;ConnectionExists(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                 <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *needle,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                 <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> **usethis,</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                 <span class="keywordtype">bool</span> *force_reuse,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                 <span class="keywordtype">bool</span> *waitpipe)</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;{</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *check;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *chosen = 0;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordtype">bool</span> foundPendingCandidate = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordtype">int</span> canpipe = IsPipeliningPossible(<a class="code" href="structdata.html">data</a>, needle);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectbundle.html">connectbundle</a> *bundle;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">#ifdef USE_NTLM</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordtype">bool</span> wantNTLMhttp = ((<a class="code" href="structdata.html">data</a>-&gt;state.authhost.want &amp;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                      (<a class="code" href="curl_8h.html#ab0e8299ededa678028a9e5796b0f77ce">CURLAUTH_NTLM</a> | <a class="code" href="curl_8h.html#abc73006227ef9c2827f26b33d7cbadce">CURLAUTH_NTLM_WB</a>)) &amp;&amp;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                      (needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> &amp; <a class="code" href="urldata_8h.html#a9d346cfcc0046f6c6ed206bde086ab2d">PROTO_FAMILY_HTTP</a>));</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordtype">bool</span> wantProxyNTLMhttp = (needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> &amp;&amp;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                           ((<a class="code" href="structdata.html">data</a>-&gt;state.authproxy.want &amp;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                           (<a class="code" href="curl_8h.html#ab0e8299ededa678028a9e5796b0f77ce">CURLAUTH_NTLM</a> | <a class="code" href="curl_8h.html#abc73006227ef9c2827f26b33d7cbadce">CURLAUTH_NTLM_WB</a>)) &amp;&amp;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                           (needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> &amp; <a class="code" href="urldata_8h.html#a9d346cfcc0046f6c6ed206bde086ab2d">PROTO_FAMILY_HTTP</a>)));</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  *force_reuse = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  *waitpipe = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">/* We can&#39;t pipeline if the site is blacklisted */</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">if</span>((canpipe &amp; <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>) &amp;&amp;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;     <a class="code" href="pipeline_8c.html#ad10d0db7abba34ad41cd6a26eb8e23e9">Curl_pipeline_site_blacklisted</a>(<a class="code" href="structdata.html">data</a>, needle))</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    canpipe &amp;= ~ <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">/* Look up the bundle with all the connections to this particular host.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">     Locks the connection cache, beware of early returns! */</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  bundle = <a class="code" href="conncache_8c.html#a4a64fd2e23edc668a13456b4e11ac539">Curl_conncache_find_bundle</a>(needle, <a class="code" href="structdata.html">data</a>-&gt;state.conn_cache);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">if</span>(bundle) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="comment">/* Max pipe length is zero (unlimited) for multiplexed connections */</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordtype">size_t</span> max_pipe_len = (bundle-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> != <a class="code" href="conncache_8h.html#ac54a8f8827585a80d5bd688c05e2c6ad">BUNDLE_MULTIPLEX</a>)?</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      max_pipeline_length(<a class="code" href="structdata.html">data</a>-&gt;multi):0;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordtype">size_t</span> best_pipe_len = max_pipe_len;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcurl__llist__element.html">curl_llist_element</a> *curr;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Found bundle for host %s: %p [%s]\n&quot;</span>,</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;          (needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> ? needle-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> :</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;           needle-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>), (<span class="keywordtype">void</span> *)bundle,</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;          (bundle-&gt;multiuse == <a class="code" href="conncache_8h.html#a3fead10caa803fd2f106fe9916140c73">BUNDLE_PIPELINING</a> ?</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;           <span class="stringliteral">&quot;can pipeline&quot;</span> :</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;           (bundle-&gt;multiuse == <a class="code" href="conncache_8h.html#ac54a8f8827585a80d5bd688c05e2c6ad">BUNDLE_MULTIPLEX</a> ?</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="stringliteral">&quot;can multiplex&quot;</span> : <span class="stringliteral">&quot;serially&quot;</span>)));</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">/* We can&#39;t pipeline if we don&#39;t know anything about the server */</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span>(canpipe) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span>(bundle-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> &lt;= <a class="code" href="conncache_8h.html#a48bae3f5af3b4a54911dafb93934877c">BUNDLE_UNKNOWN</a>) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">if</span>((bundle-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> == <a class="code" href="conncache_8h.html#a48bae3f5af3b4a54911dafb93934877c">BUNDLE_UNKNOWN</a>) &amp;&amp; <a class="code" href="structdata.html">data</a>-&gt;set.pipewait) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Server doesn&#39;t support multi-use yet, wait\n&quot;</span>);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;          *waitpipe = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;          <a class="code" href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a>(needle);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* no re-use */</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Server doesn&#39;t support multi-use (yet)\n&quot;</span>);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        canpipe = 0;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">if</span>((bundle-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> == <a class="code" href="conncache_8h.html#a3fead10caa803fd2f106fe9916140c73">BUNDLE_PIPELINING</a>) &amp;&amp;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;         !<a class="code" href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a>(<a class="code" href="structdata.html">data</a>-&gt;multi, <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>)) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="comment">/* not asked for, switch off */</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Could pipeline, but not asked to!\n&quot;</span>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        canpipe = 0;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>((bundle-&gt;<a class="code" href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">multiuse</a> == <a class="code" href="conncache_8h.html#ac54a8f8827585a80d5bd688c05e2c6ad">BUNDLE_MULTIPLEX</a>) &amp;&amp;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;              !<a class="code" href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a>(<a class="code" href="structdata.html">data</a>-&gt;multi, <a class="code" href="http2-download_8c.html#af29d172b038fadd90daf541df3b945c6">CURLPIPE_MULTIPLEX</a>)) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Could multiplex, but not asked to!\n&quot;</span>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        canpipe = 0;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    curr = bundle-&gt;<a class="code" href="structconnectbundle.html#a57ed4d57b65409965070b7b82593391d">conn_list</a>.<a class="code" href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">head</a>;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">while</span>(curr) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordtype">bool</span> match = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordtype">size_t</span> pipeLen;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">       * Note that if we use a HTTP proxy in normal mode (no tunneling), we</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">       * check connections to that proxy and not to the actual remote server.</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      check = curr-&gt;<a class="code" href="structcurl__llist__element.html#aa3c3cb90fae86e24d88eea4437bc61ab">ptr</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      curr = curr-&gt;<a class="code" href="structcurl__llist__element.html#a75de5ec93f47535d096929a045f46467">next</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">if</span>(extract_if_dead(check, <a class="code" href="structdata.html">data</a>)) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="comment">/* disconnect it */</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        (void)<a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<a class="code" href="structdata.html">data</a>, check, <span class="comment">/* dead_connection */</span><a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      pipeLen = check-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a> + check-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span>(canpipe) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">protoconnstart</a> &amp;&amp; check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aaf15319fba965e2d87ac0ac839ae8351">close</a>)</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span>(!check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a72ceb38665fe6374e78ebb8ca8d5e33a">multiplex</a>) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;          <span class="comment">/* If not multiplexing, make sure the connection is fine for HTTP/1</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">             pipelining */</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;          <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a>* sh = gethandleathead(&amp;check-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;          <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a>* rh = gethandleathead(&amp;check-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;          <span class="keywordflow">if</span>(sh) {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">if</span>(!(IsPipeliningPossible(sh, check) &amp; <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>))</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;          }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rh) {</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">if</span>(!(IsPipeliningPossible(rh, check) &amp; <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>))</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;          }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        }</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span>(pipeLen &gt; 0) {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;          <span class="comment">/* can only happen within multi handles, and means that another easy</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">             handle is using this connection */</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="asyn_8h.html#a8c9afac009dfe8163725f99211d069a3">Curl_resolver_asynch</a>()) {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;          <span class="comment">/* ip_addr_str[0] is NUL only if the resolving of the name hasn&#39;t</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">             completed yet and until then we don&#39;t re-use this connection */</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;          <span class="keywordflow">if</span>(!check-&gt;<a class="code" href="structconnectdata.html#a9dc784dcbf29ca027c3aa6eda1cc8755">ip_addr_str</a>[0]) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                  <span class="stringliteral">&quot;Connection #%ld is still name resolving, can&#39;t reuse\n&quot;</span>,</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                  check-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;          }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span>((check-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] == <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>) ||</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;           check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aaf15319fba965e2d87ac0ac839ae8351">close</a>) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;          <span class="keywordflow">if</span>(!check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aaf15319fba965e2d87ac0ac839ae8351">close</a>)</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            foundPendingCandidate = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;          <span class="comment">/* Don&#39;t pick a connection that hasn&#39;t connected yet or that is going</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">             to get closed. */</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Connection #%ld isn&#39;t open enough, can&#39;t reuse\n&quot;</span>,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                check-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">#ifdef DEBUGBUILD</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;          <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a> &gt; 0) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                  <span class="stringliteral">&quot;BAD! Unconnected #%ld has a non-empty recv pipeline!\n&quot;</span>,</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                  check-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;          }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;unix_domain_socket) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">if</span>(!check-&gt;unix_domain_socket)</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">if</span>(strcmp(needle-&gt;unix_domain_socket, check-&gt;unix_domain_socket))</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">if</span>(needle-&gt;abstract_unix_socket != check-&gt;abstract_unix_socket)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(check-&gt;unix_domain_socket)</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">if</span>((needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a>&amp;<a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>) !=</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;         (check-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a>&amp;<a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>))</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="comment">/* don&#39;t do mixed SSL and non-SSL connections */</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">if</span>(get_protocol_family(check-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a>) !=</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;           needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> || !check-&gt;<a class="code" href="structconnectdata.html#a67243eae05daae35cf8e0d3a49b9b8b9">tls_upgraded</a>)</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;          <span class="comment">/* except protocols that have been upgraded via TLS */</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> != check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> ||</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> != check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a>)</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> &amp;&amp; !proxy_info_matches(&amp;needle-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>,</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                                        &amp;check-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>))</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> != check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a>)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="comment">/* don&#39;t mix connections that use the &quot;connect to host&quot; feature and</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">         * connections that don&#39;t use this feature */</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> != check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a>)</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="comment">/* don&#39;t mix connections that use the &quot;connect to port&quot; feature and</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">         * connections that don&#39;t use this feature */</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>) {</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">if</span>(!proxy_info_matches(&amp;needle-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>, &amp;check-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>))</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> != check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a>)</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a>) {</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;          <span class="comment">/* use https proxy */</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a>&amp;<a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="comment">/* use double layer ssl */</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="vtls_8c.html#a20030f6c13c9de65950bb8cac1bfb0f9">Curl_ssl_config_matches</a>(&amp;needle-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                        &amp;check-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>))</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#a57fed5d378439f0b8cbad7cc9e916604">proxy_ssl</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>].<a class="code" href="structssl__connect__data.html#a46d3839ea70923be1efa7f85aba7f6a8">state</a> != <a class="code" href="urldata_8h.html#a2ea01ebd139c38e2285c7d2e17a2683fa88a671c415a487b02dbfd68cea24f98c">ssl_connection_complete</a>)</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="vtls_8c.html#a20030f6c13c9de65950bb8cac1bfb0f9">Curl_ssl_config_matches</a>(&amp;needle-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>,</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                        &amp;check-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>))</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>].<a class="code" href="structssl__connect__data.html#a46d3839ea70923be1efa7f85aba7f6a8">state</a> != <a class="code" href="urldata_8h.html#a2ea01ebd139c38e2285c7d2e17a2683fa88a671c415a487b02dbfd68cea24f98c">ssl_connection_complete</a>)</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="keywordflow">if</span>(!canpipe &amp;&amp; <a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(check))</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="comment">/* this request can&#39;t be pipelined but the checked connection is</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">           already in use so we skip it */</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(check) &amp;&amp; (check-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#ae50ee3c1668aaed84ae0338046f4f737">multi</a> != needle-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#ae50ee3c1668aaed84ae0338046f4f737">multi</a>))</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="comment">/* this could be subject for pipeline/multiplex use, but only</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">           if they belong to the same multi handle */</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a> || needle-&gt;<a class="code" href="structconnectdata.html#ac991894d741faea039fa066219c2c423">localport</a>) {</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="comment">/* If we are bound to a specific local end (IP+port), we must not</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">           re-use a random other one, although if we didn&#39;t ask for a</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">           particular one we can reuse one that was bound.</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">           This comparison is a bit rough and too strict. Since the input</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">           parameters can be specified in numerous ways and still end up the</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">           same it would take a lot of processing to make it really accurate.</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">           Instead, this matching will assume that re-uses of bound connections</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">           will most likely also re-use the exact same binding parameters and</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">           missing out a few edge cases shouldn&#39;t hurt anyone very much.</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">if</span>((check-&gt;<a class="code" href="structconnectdata.html#ac991894d741faea039fa066219c2c423">localport</a> != needle-&gt;<a class="code" href="structconnectdata.html#ac991894d741faea039fa066219c2c423">localport</a>) ||</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;           (check-&gt;<a class="code" href="structconnectdata.html#aefe020b8f593d5642e628a42f5b26f7a">localportrange</a> != needle-&gt;<a class="code" href="structconnectdata.html#aefe020b8f593d5642e628a42f5b26f7a">localportrange</a>) ||</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;           (needle-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a> &amp;&amp;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            (!check-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a> || strcmp(check-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>, needle-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>))))</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="keywordflow">if</span>(!(needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a9ea1f37a358d8c3a9ee378b36e614b48">PROTOPT_CREDSPERREQUEST</a>)) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="comment">/* This protocol requires credentials per connection,</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">           so verify that we&#39;re using the same name and password as well */</span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="keywordflow">if</span>(strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>, check-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>) ||</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;           strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>, check-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>)) {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;          <span class="comment">/* one of them was different */</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">if</span>(!needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> || (needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a>&amp;<a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>) ||</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;         needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a>) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="comment">/* The requested connection does not use a HTTP proxy or it uses SSL or</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">           it is a non-SSL protocol tunneled or it is a non-SSL protocol which</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">           is allowed to be upgraded via TLS */</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">scheme</a>, check-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">scheme</a>) ||</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            (get_protocol_family(check-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a>) ==</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;             needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> &amp;&amp; check-&gt;<a class="code" href="structconnectdata.html#a67243eae05daae35cf8e0d3a49b9b8b9">tls_upgraded</a>)) &amp;&amp;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;           (!needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> || <a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            needle-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>, check-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>)) &amp;&amp;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;           (!needle-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> ||</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;             needle-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a> == check-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a>) &amp;&amp;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;           <a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(needle-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>, check-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>) &amp;&amp;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;           needle-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a> == check-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;          <span class="comment">/* The schemes match or the the protocol family is the same and the</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">             previous connection was TLS upgraded, and the hostname and host</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">             port match */</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;          <span class="keywordflow">if</span>(needle-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            <span class="comment">/* This is a SSL connection so verify that we&#39;re using the same</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">               SSL options as well */</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="vtls_8c.html#a20030f6c13c9de65950bb8cac1bfb0f9">Curl_ssl_config_matches</a>(&amp;needle-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>,</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                        &amp;check-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>)) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;              <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                           <span class="stringliteral">&quot;Connection #%ld has different SSL parameters, &quot;</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                           <span class="stringliteral">&quot;can&#39;t reuse\n&quot;</span>,</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                           check-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>));</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            }</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>].<a class="code" href="structssl__connect__data.html#a46d3839ea70923be1efa7f85aba7f6a8">state</a> != <a class="code" href="urldata_8h.html#a2ea01ebd139c38e2285c7d2e17a2683fa88a671c415a487b02dbfd68cea24f98c">ssl_connection_complete</a>) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;              foundPendingCandidate = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;              <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                           <span class="stringliteral">&quot;Connection #%ld has not started SSL connect, &quot;</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                           <span class="stringliteral">&quot;can&#39;t reuse\n&quot;</span>,</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                           check-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>));</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;          }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;          match = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="comment">/* The requested connection is using the same HTTP proxy in normal</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">           mode (no tunneling) */</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        match = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">if</span>(match) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="preprocessor">#if defined(USE_NTLM)</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="comment">/* If we are looking for an HTTP+NTLM connection, check if this is</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">           already authenticating with the right credentials. If not, keep</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment">           looking so that we can reuse NTLM connections if</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment">           possible. (Especially we must not reuse the same connection if</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment">           partway through a handshake!) */</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">if</span>(wantNTLMhttp) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;          <span class="keywordflow">if</span>(strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>, check-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>) ||</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;             strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>, check-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>))</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(check-&gt;ntlm.state != <a class="code" href="urldata_8h.html#ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67">NTLMSTATE_NONE</a>) {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          <span class="comment">/* Connection is using NTLM auth but we don&#39;t want NTLM */</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="comment">/* Same for Proxy NTLM authentication */</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keywordflow">if</span>(wantProxyNTLMhttp) {</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          <span class="comment">/* Both check-&gt;http_proxy.user and check-&gt;http_proxy.passwd can be</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">           * NULL */</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;          <span class="keywordflow">if</span>(!check-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> || !check-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>)</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;          <span class="keywordflow">if</span>(strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>, check-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>) ||</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;             strcmp(needle-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>, check-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>))</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(check-&gt;proxyntlm.state != <a class="code" href="urldata_8h.html#ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67">NTLMSTATE_NONE</a>) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          <span class="comment">/* Proxy connection is using NTLM auth but we don&#39;t want NTLM */</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">if</span>(wantNTLMhttp || wantProxyNTLMhttp) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          <span class="comment">/* Credentials are already checked, we can use this connection */</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;          chosen = check;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          <span class="keywordflow">if</span>((wantNTLMhttp &amp;&amp;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;             (check-&gt;ntlm.state != <a class="code" href="urldata_8h.html#ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67">NTLMSTATE_NONE</a>)) ||</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;              (wantProxyNTLMhttp &amp;&amp;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;               (check-&gt;proxyntlm.state != <a class="code" href="urldata_8h.html#ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67">NTLMSTATE_NONE</a>))) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="comment">/* We must use this connection, no other */</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            *force_reuse = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          }</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;          <span class="comment">/* Continue look up for a better connection */</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">if</span>(canpipe) {</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;          <span class="comment">/* We can pipeline if we want to. Let&#39;s continue looking for</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">             the optimal connection to use, i.e the shortest pipe that is not</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">             blacklisted. */</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;          <span class="keywordflow">if</span>(pipeLen == 0) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="comment">/* We have the optimal connection. Let&#39;s stop looking. */</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            chosen = check;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;          }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;          <span class="comment">/* We can&#39;t use the connection if the pipe is full */</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;          <span class="keywordflow">if</span>(max_pipe_len &amp;&amp; (pipeLen &gt;= max_pipe_len)) {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Pipe is full, skip (%zu)\n&quot;</span>, pipeLen);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;          }</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="preprocessor">#ifdef USE_NGHTTP2</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;          <span class="comment">/* If multiplexed, make sure we don&#39;t go over concurrency limit */</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;          <span class="keywordflow">if</span>(check-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a72ceb38665fe6374e78ebb8ca8d5e33a">multiplex</a>) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            <span class="comment">/* Multiplexed connections can only be HTTP/2 for now */</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            <span class="keyword">struct </span><a class="code" href="structhttp__conn.html">http_conn</a> *httpc = &amp;check-&gt;<a class="code" href="structconnectdata.html#a347307932d5d64be48527b2f3ed666ca">proto</a>.<a class="code" href="structconnectdata.html#aa5f47898ac300afb3ebdb21478f4074d">httpc</a>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            <span class="keywordflow">if</span>(pipeLen &gt;= httpc-&gt;settings.max_concurrent_streams) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;              <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;MAX_CONCURRENT_STREAMS reached, skip (%zu)\n&quot;</span>,</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                    pipeLen);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;            }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;          }</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;          <span class="comment">/* We can&#39;t use the connection if the pipe is penalized */</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="pipeline_8c.html#ac3cc799a3d53b03d3dc146d08a80fb3d">Curl_pipeline_penalized</a>(<a class="code" href="structdata.html">data</a>, check)) {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Penalized, skip\n&quot;</span>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;          }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;          <span class="keywordflow">if</span>(max_pipe_len) {</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">if</span>(pipeLen &lt; best_pipe_len) {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;              <span class="comment">/* This connection has a shorter pipe so far. We&#39;ll pick this</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">                 and continue searching */</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;              chosen = check;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;              best_pipe_len = pipeLen;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;          }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            <span class="comment">/* When not pipelining (== multiplexed), we have a match here! */</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            chosen = check;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Multiplexed connection found!\n&quot;</span>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;          }</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        }</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;          <span class="comment">/* We have found a connection. Let&#39;s stop searching. */</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;          chosen = check;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      }</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordflow">if</span>(chosen) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">/* mark it as used before releasing the lock */</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    chosen-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>; <span class="comment">/* own it! */</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a>(needle);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    *usethis = chosen;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* yes, we found one to use! */</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <a class="code" href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a>(needle);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">if</span>(foundPendingCandidate &amp;&amp; <a class="code" href="structdata.html">data</a>-&gt;set.pipewait) {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;          <span class="stringliteral">&quot;Found pending candidate for reuse and CURLOPT_PIPEWAIT is set\n&quot;</span>);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    *waitpipe = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* no matching connecting exists */</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;}</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">/* after a TCP connection to the proxy has been verified, this function does</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">   the next magic step.</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">   Note: this function&#39;s sub-functions call failf()</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01485"></a><span class="lineno"><a class="line" href="url_8h.html#ad0a89abc69f33ec38a9cfc579043e003"> 1485</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#ad0a89abc69f33ec38a9cfc579043e003">Curl_connected_proxy</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">int</span> sockindex)</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;{</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a>) {</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_PROXY</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="comment">/* for the secondary socket (FTP), use the &quot;connect to host&quot;</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">     * but ignore the &quot;connect to port&quot; (use the secondary port)</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> = conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> ?</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                              conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> :</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                              conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> ?</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                              conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> :</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                              sockindex == <a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a> ?</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                              conn-&gt;<a class="code" href="structconnectdata.html#a4ae9ef32ff4f93d9fe8cc5f6ba7c690b">secondaryhostname</a> : conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> port = conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> ? (int)conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a> :</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                     sockindex == <a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a> ? conn-&gt;<a class="code" href="structconnectdata.html#a3385c7e824e59f8075d69b410fd7a72e">secondary_port</a> :</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                     conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> ? conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a> :</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                     conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a969da5526443f50aabfd413bf1f106b7">socksproxy_connecting</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">switch</span>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a>) {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0221f060e5533f00d79538b80dc7b386">CURLPROXY_SOCKS5</a>:</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ac7b9486a2097e4217185729549839549">CURLPROXY_SOCKS5_HOSTNAME</a>:</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="socks_8c.html#af99ed172552352b248657b6fe870f513">Curl_SOCKS5</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>, conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>,</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                         <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>, port, sockindex, conn);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41">CURLPROXY_SOCKS4</a>:</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a57108a90bd6ce44c3d94fdfd53c775fd">CURLPROXY_SOCKS4A</a>:</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="socks_8c.html#a3be50ccf1e4b3f649dd36ba7ed7cf572">Curl_SOCKS4</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>, port, sockindex,</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                           conn);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, <span class="stringliteral">&quot;unknown proxytype option given&quot;</span>);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a90b98fc82c9d84afa3a8a3f82d283388">CURLE_COULDNT_CONNECT</a>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    } <span class="comment">/* switch proxytype */</span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a969da5526443f50aabfd413bf1f106b7">socksproxy_connecting</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  (void)sockindex;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DISABLE_PROXY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  }</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;}</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment"> * verboseconnect() displays verbose information after a connect</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_VERBOSE_STRINGS</span></div><div class="line"><a name="l01535"></a><span class="lineno"><a class="line" href="url_8h.html#a01d74504de6da32ea1e37b2f5d371fc7"> 1535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="url_8c.html#a01d74504de6da32ea1e37b2f5d371fc7">Curl_verboseconnect</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;{</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>-&gt;<a class="code" href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">set</a>.<a class="code" href="struct_user_defined.html#a5a5553b0cb30c0014b4c53d2ba0825f3">verbose</a>)</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, <span class="stringliteral">&quot;Connected to %s (%s) port %ld (#%ld)\n&quot;</span>,</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> ? conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a> :</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> ? conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a> :</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> ? conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a> :</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a>,</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9dc784dcbf29ca027c3aa6eda1cc8755">ip_addr_str</a>, conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a>, conn-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;}</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"><a class="line" href="url_8h.html#aa24dd517192957e12b59c39fc45f0851"> 1547</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="url_8c.html#aa24dd517192957e12b59c39fc45f0851">Curl_protocol_getsock</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                          <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> *socks,</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                          <span class="keywordtype">int</span> numsocks)</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;{</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a09e5963aa515ad390819066a62f2f2bb">proto_getsock</a>)</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a09e5963aa515ad390819066a62f2f2bb">proto_getsock</a>(conn, socks, numsocks);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">/* Backup getsock logic. Since there is a live socket in use, we must wait</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">     for it or it will be removed from watching when the multi_socket API is</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">     used. */</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  socks[0] = conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>];</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="multiif_8h.html#a4ae1fb64a27264765b6a2fe5aca78830">GETSOCK_READSOCK</a>(0) | <a class="code" href="multiif_8h.html#a9aabda59f0ff87c1db3a2d306a410713">GETSOCK_WRITESOCK</a>(0);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"><a class="line" href="url_8h.html#a7b6ce3a9f85e357966f8897b3352bca6"> 1560</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="url_8c.html#a7b6ce3a9f85e357966f8897b3352bca6">Curl_doing_getsock</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                       <a class="code" href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a> *socks,</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                       <span class="keywordtype">int</span> numsocks)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span>(conn &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ae3453fdc1de36e8e62fe12d7e18504b4">doing_getsock</a>)</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">return</span> conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ae3453fdc1de36e8e62fe12d7e18504b4">doing_getsock</a>(conn, socks, numsocks);</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="multiif_8h.html#ad755633cd6d4e90c3df49fefd1052bad">GETSOCK_BLANK</a>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment"> * We are doing protocol-specific connecting and this is being called over and</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment"> * over from the multi interface until the connection phase is done on</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment"> * protocol layer.</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"><a class="line" href="url_8h.html#ab33224c0b40950d8ca21b816b234db3e"> 1575</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#ab33224c0b40950d8ca21b816b234db3e">Curl_protocol_connecting</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                  <span class="keywordtype">bool</span> *done)</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;{</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">if</span>(conn &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a5f02b45b10f126093e1e2a1b65233121">connecting</a>) {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    *done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a5f02b45b10f126093e1e2a1b65233121">connecting</a>(conn, done);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  }</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    *done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"> * We are DOING this is being called over and over from the multi interface</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment"> * until the DOING phase is done on protocol layer.</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"><a class="line" href="url_8h.html#a1e380c49a2d40ac41909687588a5738b"> 1595</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a1e380c49a2d40ac41909687588a5738b">Curl_protocol_doing</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">bool</span> *done)</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;{</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">if</span>(conn &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ad61158e86c51d79b70c758d94a4ec324">doing</a>) {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    *done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ad61158e86c51d79b70c758d94a4ec324">doing</a>(conn, done);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  }</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    *done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment"> * We have discovered that the TCP connection has been successful, we can now</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment"> * proceed with some action.</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="url_8h.html#aba409caa1811211a28f5b403bdf91279"> 1614</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a3201ad08770f97349774c201c3c624cd">Curl_protocol_connect</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                               <span class="keywordtype">bool</span> *protocol_done)</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;{</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  *protocol_done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a0091f833e532479d6510f72639f726ef">tcpconnect</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">protoconnstart</a>) {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="comment">/* We already are connected, get back. This may happen when the connect</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">       worked fine in the first call, like when we connect to a local server</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">       or proxy. Note that we don&#39;t know if the protocol is actually done.</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">       Unless this protocol doesn&#39;t have any protocol-connect callback, as</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">       then we know we&#39;re done. */</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a5f02b45b10f126093e1e2a1b65233121">connecting</a>)</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      *protocol_done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">protoconnstart</a>) {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="http__proxy_8c.html#ac79abdd8c0d0b2818f4478e91afcaa35">Curl_proxy_connect</a>(conn, <a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="url_8h.html#a5eef24a1090105370832043771d44f1e">CONNECT_FIRSTSOCKET_PROXY_SSL</a>())</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="comment">/* wait for HTTPS proxy SSL initialization to complete */</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> &amp;&amp;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;       <a class="code" href="http__proxy_8c.html#a64cc706da81f4e2a504fc457b79542e2">Curl_connect_ongoing</a>(conn))</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="comment">/* when using an HTTP tunnel proxy, await complete tunnel establishment</span></div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">         before proceeding further. Return CURLE_OK so we&#39;ll be called again */</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a23eb9a47b3d5c0793a69301a1f3dbebb">connect_it</a>) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      <span class="comment">/* is there a protocol-specific connect() procedure? */</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <span class="comment">/* Call the protocol-specific connect function */</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a23eb9a47b3d5c0793a69301a1f3dbebb">connect_it</a>(conn, protocol_done);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      *protocol_done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">/* it has started, possibly even completed but that knowledge isn&#39;t stored</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">       in this bit! */</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">protoconnstart</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>; <span class="comment">/* pass back status */</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment"> * Helpers for IDNA conversions.</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> is_ASCII_name(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structhostname.html">hostname</a>)</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;{</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ch = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="structhostname.html">hostname</a>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="keywordflow">while</span>(*ch) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">if</span>(*ch++ &amp; 0x80)</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  }</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="comment"> * Strip single trailing dot in the hostname,</span></div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment"> * primarily for SNI and http host header.</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> strip_trailing_dot(<span class="keyword">struct</span> <a class="code" href="structhostname.html">hostname</a> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>)</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;{</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = strlen(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> &amp;&amp; (<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name[<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-1] == <span class="charliteral">&#39;.&#39;</span>))</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name[<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-1] = 0;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;}</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="comment"> * Perform any necessary IDN conversion of hostname</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> idnconvert_hostname(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                                    <span class="keyword">struct</span> <a class="code" href="structhostname.html">hostname</a> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;{</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="preprocessor">#ifndef USE_LIBIDN2</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  (void)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  (void)conn;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="preprocessor">#elif defined(CURL_DISABLE_VERBOSE_STRINGS)</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  (void)conn;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">/* set the name we use to display the host name */</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;dispname = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="comment">/* Check name for non-ASCII and convert hostname to ACE form if we can */</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="keywordflow">if</span>(!is_ASCII_name(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name)) {</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="preprocessor">#ifdef USE_LIBIDN2</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span>(idn2_check_version(IDN2_VERSION)) {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="keywordtype">char</span> *ace_hostname = NULL;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="preprocessor">#if IDN2_VERSION_NUMBER &gt;= 0x00140000</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="comment">/* IDN2_NFC_INPUT: Normalize input string using normalization form C.</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment">         IDN2_NONTRANSITIONAL: Perform Unicode TR46 non-transitional</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment">         processing. */</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordtype">int</span> flags = IDN2_NFC_INPUT | IDN2_NONTRANSITIONAL;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="keywordtype">int</span> flags = IDN2_NFC_INPUT;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = idn2_lookup_ul((<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name, &amp;ace_hostname, flags);</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == IDN2_OK) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc = (<span class="keywordtype">char</span> *)ace_hostname;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="comment">/* change the name pointer to point to the encoded hostname */</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      }</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Failed to convert %s to ACE; %s\n&quot;</span>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name,</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;              idn2_strerror(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>));</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      }</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="preprocessor">#elif defined(USE_WIN32_IDN)</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordtype">char</span> *ace_hostname = NULL;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span>(curl_win32_idn_to_ascii(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name, &amp;ace_hostname)) {</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc = ace_hostname;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="comment">/* change the name pointer to point to the encoded hostname */</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    }</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Failed to convert %s to ACE;\n&quot;</span>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a>;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;IDN support not present, can&#39;t parse Unicode domains\n&quot;</span>);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordtype">char</span> *hostp;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">for</span>(hostp = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name; *hostp; hostp++) {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="keywordflow">if</span>(*hostp &lt;= 32) {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Host name &#39;%s&#39; contains bad letter&quot;</span>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a>;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      }</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  }</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment"> * Frees data allocated by idnconvert_hostname()</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> free_idnconverted_hostname(<span class="keyword">struct</span> <a class="code" href="structhostname.html">hostname</a> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>)</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="preprocessor">#if defined(USE_LIBIDN2)</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc) {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    idn2_free(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc); <span class="comment">/* must be freed with idn2_free() since this was</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">                                 allocated by libidn */</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc = NULL;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  }</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="preprocessor">#elif defined(USE_WIN32_IDN)</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc); <span class="comment">/* must be freed with free() since this was</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">                           allocated by curl_win32_idn_to_ascii */</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;encalloc = NULL;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  (void)<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;}</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> llist_dtor(<span class="keywordtype">void</span> *user, <span class="keywordtype">void</span> *element)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  (void)user;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  (void)element;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="comment">/* Do nothing */</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment"> * Allocate and initialize a new connectdata object.</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *allocate_conn(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;{</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a>));</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="keywordflow">if</span>(!conn)</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="comment">/* The SSL backend-specific data (ssl_backend_data) objects are allocated as</span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">     a separate array to ensure suitable alignment.</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="comment">     Note that these backend pointers can be swapped by vtls (eg ssl backend</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="comment">     data becomes proxy backend data). */</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordtype">size_t</span> sslsize = <a class="code" href="struct_curl__ssl.html">Curl_ssl</a>-&gt;<a class="code" href="struct_curl__ssl.html#a67125f10866c619561ae6a7d38c4cd6f">sizeof_ssl_backend_data</a>;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a> = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(4, sslsize);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>) {</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn);</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    }</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    conn-&gt;ssl_extra = <a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>[0].backend = (<span class="keywordtype">void</span> *)<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a>[1].backend = (<span class="keywordtype">void</span> *)(<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a> + sslsize);</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a57fed5d378439f0b8cbad7cc9e916604">proxy_ssl</a>[0].backend = (<span class="keywordtype">void</span> *)(<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a> + 2 * sslsize);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a57fed5d378439f0b8cbad7cc9e916604">proxy_ssl</a>[1].backend = (<span class="keywordtype">void</span> *)(<a class="code" href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">ssl</a> + 3 * sslsize);</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  }</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a> = &amp;Curl_handler_dummy;  <span class="comment">/* Be sure we have a handler defined</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">                                           already from start to avoid NULL</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">                                           situations and checks */</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="comment">/* and we setup a few fields in case we end up actually using this struct */</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>;     <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>] = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[0] = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">tempsock</a>[1] = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a> = -1;    <span class="comment">/* no ID */</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = -1; <span class="comment">/* unknown at this point */</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a> = -1; <span class="comment">/* unknown at this point */</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="preprocessor">#if defined(USE_RECV_BEFORE_SEND_WORKAROUND) &amp;&amp; defined(DEBUGBUILD)</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  conn-&gt;postponed[0].bindsock = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  conn-&gt;postponed[1].bindsock = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>; <span class="comment">/* no file descriptor */</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_RECV_BEFORE_SEND_WORKAROUND &amp;&amp; DEBUGBUILD */</span><span class="preprocessor"></span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">/* Default protocol-independent behavior doesn&#39;t support persistent</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">     connections, so we set this to force-close. Protocols that support</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">     this need to set this to FALSE in their &quot;curl_do&quot; functions. */</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="connect_8h.html#a0f98be540dd5a5f56c9ec98dc2489661">connclose</a>(conn, <span class="stringliteral">&quot;Default to force-close&quot;</span>);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">/* Store creation time to help future close decision making */</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a08faf7d2e790fe1b1c424466292b3ca2">created</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">/* Store current time to give a baseline to keepalive connection times. */</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ab967c5853e0ed2e2f5ea9ead35d450eb">keepalive</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">/* Store off the configured connection upkeep time. */</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad0d28904779f8613d113aa4c0c38337a">upkeep_interval_ms</a> = <a class="code" href="structdata.html">data</a>-&gt;set.upkeep_interval_ms;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>; <span class="comment">/* Setup the association between this connection</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment">                        and the Curl_easy */</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> = <a class="code" href="structdata.html">data</a>-&gt;set.proxytype;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41">CURLPROXY_SOCKS4</a>;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="preprocessor">#ifdef CURL_DISABLE_PROXY</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* CURL_DISABLE_PROXY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">/* note that these two proxy bits are now just on what looks to be</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">     requested, they may be altered down the road */</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> = (<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e">STRING_PROXY</a>] &amp;&amp;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                      *<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e">STRING_PROXY</a>]) ? <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = (conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> &amp;&amp;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                          (conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a7d6d42eb703774dcd800c4881951c997">CURLPROXY_HTTP</a> ||</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                           conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a60f240b4395a4acea5816c585b68a32f">CURLPROXY_HTTP_1_0</a> ||</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                           conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a>)) ?</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                           <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = (conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> &amp;&amp;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                           !conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>) ? <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424">STRING_PRE_PROXY</a>] &amp;&amp; *<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424">STRING_PRE_PROXY</a>]) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  }</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> =</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    (<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae9cc7aa1c8238fbf1bb7d1d105079d05">STRING_PROXYUSERNAME</a>]) ? <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="structdata.html">data</a>-&gt;set.tunnel_thru_httpproxy;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DISABLE_PROXY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = (<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fac35d8d85712a31c5a27f73e91916f587">STRING_USERNAME</a>]) ? <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a06ee9e40c4f7e506b01c849754ae40c8">ftp_use_epsv</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ftp_use_epsv;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aa6493ae964163380f432dd306f2618f6">ftp_use_eprt</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ftp_use_eprt;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>.<a class="code" href="structssl__primary__config.html#a9d3a4c7283e422bfa31cf1d32aeb75a0">verifystatus</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.verifystatus;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>.<a class="code" href="structssl__primary__config.html#a7b1be18084f5fa42645c28a34b75d166">verifypeer</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.verifypeer;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>.<a class="code" href="structssl__primary__config.html#af116cf82e957a2ca2f0b39eb0c709d43">verifyhost</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.verifyhost;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>.<a class="code" href="structssl__primary__config.html#a9d3a4c7283e422bfa31cf1d32aeb75a0">verifystatus</a> =</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.verifystatus;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>.<a class="code" href="structssl__primary__config.html#a7b1be18084f5fa42645c28a34b75d166">verifypeer</a> = <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.verifypeer;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>.<a class="code" href="structssl__primary__config.html#af116cf82e957a2ca2f0b39eb0c709d43">verifyhost</a> = <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.verifyhost;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad0fdd504366b349123252aa698625fd9">ip_version</a> = <a class="code" href="structdata.html">data</a>-&gt;set.ipver;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="preprocessor">#if !defined(CURL_DISABLE_HTTP) &amp;&amp; defined(USE_NTLM) &amp;&amp; \</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="preprocessor">    defined(NTLM_WB_ENABLED)</span></div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  conn-&gt;ntlm_auth_hlpr_socket = <a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  conn-&gt;ntlm_auth_hlpr_pid = 0;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  conn-&gt;challenge_header = NULL;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  conn-&gt;response_header = NULL;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a>(<a class="code" href="structdata.html">data</a>-&gt;multi, <a class="code" href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a>) &amp;&amp;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;     !conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a>) {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="comment">/* Allocate master_buffer to be used for HTTP/1 pipelining */</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a> = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(<a class="code" href="urldata_8h.html#a6cc485779d7912aa352adc326d8a89f6">MASTERBUF_SIZE</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a>)</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">goto</span> error;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  }</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="comment">/* Initialize the pipeline lists */</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="llist_8c.html#adf86d38f256b25809632d659a545c75d">Curl_llist_init</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>, (<a class="code" href="llist_8h.html#aa554fb8bf2df8d7e12ffe5beea361548">curl_llist_dtor</a>) llist_dtor);</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <a class="code" href="llist_8c.html#adf86d38f256b25809632d659a545c75d">Curl_llist_init</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>, (<a class="code" href="llist_8h.html#aa554fb8bf2df8d7e12ffe5beea361548">curl_llist_dtor</a>) llist_dtor);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="preprocessor">#ifdef HAVE_GSSAPI</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  conn-&gt;data_prot = PROT_CLEAR;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="comment">/* Store the local bind parameters that will be used for this connection */</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa7b5f688f07bc6365060e0c78cb976ea8">STRING_DEVICE</a>]) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa7b5f688f07bc6365060e0c78cb976ea8">STRING_DEVICE</a>]);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>)</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <span class="keywordflow">goto</span> error;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#aefe020b8f593d5642e628a42f5b26f7a">localportrange</a> = <a class="code" href="structdata.html">data</a>-&gt;set.localportrange;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ac991894d741faea039fa066219c2c423">localport</a> = <a class="code" href="structdata.html">data</a>-&gt;set.localport;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">/* the close socket stuff needs to be copied to the connection struct as</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">     it may live on without (this specific) Curl_easy */</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a5e16a551e6307336f0049fb60315bdee">fclosesocket</a> = <a class="code" href="structdata.html">data</a>-&gt;set.fclosesocket;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad62c1d859902f11e5164705a58dc7556">closesocket_client</a> = <a class="code" href="structdata.html">data</a>-&gt;set.closesocket_client;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">return</span> conn;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  error:</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>, NULL);</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>, NULL);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a>);</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>);</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;ssl_extra);</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn);</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/* returns the handler if the given scheme is built-in */</span></div><div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="url_8h.html#a5ea73e21fa360f1bc61d59806bdc801f"> 1960</a></span>&#160;<span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> *<a class="code" href="url_8c.html#a5ea73e21fa360f1bc61d59806bdc801f">Curl_builtin_scheme</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">scheme</a>)</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;{</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> * <span class="keyword">const</span> *pp;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="comment">/* Scan protocol handler table and match against &#39;scheme&#39;. The handler may</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="comment">     be changed later when the protocol specific setup function is called. */</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keywordflow">for</span>(pp = <a class="code" href="proto_8d.html#a454d355bda85162423424da4a79fd517">protocols</a>; (<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = *pp) != NULL; pp++)</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;scheme, <a class="code" href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">scheme</a>))</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="comment">/* Protocol found in table. Check if allowed */</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">return</span> NULL; <span class="comment">/* not found */</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> findprotocol(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span> *protostr)</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;{</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = <a class="code" href="url_8c.html#a5ea73e21fa360f1bc61d59806bdc801f">Curl_builtin_scheme</a>(protostr);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> &amp;&amp; <span class="comment">/* Protocol found in table. Check if allowed */</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;     (<a class="code" href="structdata.html">data</a>-&gt;set.allowed_protocols &amp; <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;protocol)) {</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="comment">/* it is allowed for &quot;normal&quot; request, now do an extra check if this is</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="comment">       the result of a redirect */</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;state.this_is_a_follow &amp;&amp;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;       !(<a class="code" href="structdata.html">data</a>-&gt;set.redir_protocols &amp; <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;protocol))</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <span class="comment">/* nope, get out */</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      ;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="comment">/* Perform setup complement if some. */</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a> = conn-&gt;<a class="code" href="structconnectdata.html#a878ad8b625208d9aa421852225c33b30">given</a> = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <span class="comment">/* &#39;port&#39; and &#39;remote_port&#39; are set in setup_connection_internals() */</span></div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    }</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  }</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">/* The protocol was not found in the table, but we don&#39;t have to assign it</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment">     to anything since it is already assigned to a dummy-struct in the</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment">     create_conn() function when the connectdata struct is allocated. */</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Protocol \&quot;%s\&quot; not supported or disabled in &quot;</span> <a class="code" href="urldata_8h.html#a02df9f52575c9e40d4f4ec7520bebe82">LIBCURL_NAME</a>,</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        protostr);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a95d1430b03a5f959134870f3a578eb1d">CURLE_UNSUPPORTED_PROTOCOL</a>;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;}</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"><a class="line" href="url_8h.html#af403c3591d12b4ac9d7637de1cba3e62"> 2008</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(<a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1de">CURLUcode</a> uc)</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;{</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">switch</span>(uc) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a>;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dea3cd335f8655b5ae976a00795cdde5474">CURLUE_UNSUPPORTED_SCHEME</a>:</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a95d1430b03a5f959134870f3a578eb1d">CURLE_UNSUPPORTED_PROTOCOL</a>;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deae947d8e39c047c7d45c735b736225e0b">CURLUE_OUT_OF_MEMORY</a>:</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deac2e085bf461f244975782d033af83813">CURLUE_USER_NOT_ALLOWED</a>:</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a600c484dc2160f73477f9e1b2d3db513">CURLE_LOGIN_DENIED</a>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment"> * Parse URL and fill in the relevant members of the connection struct.</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parseurlandfillconn(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                                    <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;{</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <a class="code" href="struct_curl___u_r_l.html">CURLU</a> *uh;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1de">CURLUcode</a> uc;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="noproxy_8d.html#a76bbcca5c6576b1086f83570943ed989">hostname</a>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="url_8c.html#a858a8c13c16ee2cc80f807bb73578508">Curl_up_free</a>(<a class="code" href="structdata.html">data</a>); <span class="comment">/* cleanup previous leftovers first */</span></div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="comment">/* parse the URL */</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.uh) {</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    uh = <a class="code" href="structdata.html">data</a>-&gt;set.uh;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  }</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    uh = <a class="code" href="structdata.html">data</a>-&gt;state.uh = <a class="code" href="urlapi_8h.html#af266c2842a02b57de68cf15024893a11">curl_url</a>();</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  }</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keywordflow">if</span>(!uh)</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2f9d38e7adfb8c879aeb94e104775336">STRING_DEFAULT_PROTOCOL</a>] &amp;&amp;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;     !<a class="code" href="urlapi-int_8h.html#ae78d47dea8b3c5ad97e65a720c65cd65">Curl_is_absolute_url</a>(<a class="code" href="structdata.html">data</a>-&gt;change.url, NULL, <a class="code" href="urlapi-int_8h.html#ac1c52efdd487ad52d2eaebc4963c5616">MAX_SCHEME_LEN</a>)) {</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="_b_l_e_eddystone_u_r_l_8h.html#ad62c324cbfcc92532598792c6d0f6494">url</a>;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;change.url_alloc)</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="structdata.html">data</a>-&gt;change.url);</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="_b_l_e_eddystone_u_r_l_8h.html#ad62c324cbfcc92532598792c6d0f6494">url</a> = <a class="code" href="curl__printf_8h.html#a3e3dfee99c81f563d18ef4626d8886e1">aprintf</a>(<span class="stringliteral">&quot;%s://%s&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2f9d38e7adfb8c879aeb94e104775336">STRING_DEFAULT_PROTOCOL</a>],</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                  <a class="code" href="structdata.html">data</a>-&gt;change.url);</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="_b_l_e_eddystone_u_r_l_8h.html#ad62c324cbfcc92532598792c6d0f6494">url</a>)</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;change.url = <a class="code" href="_b_l_e_eddystone_u_r_l_8h.html#ad62c324cbfcc92532598792c6d0f6494">url</a>;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;change.url_alloc = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>-&gt;set.uh) {</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    uc = <a class="code" href="urlapi_8h.html#a1cb93c92958648f06fab038f397cfeae">curl_url_set</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba652d7cac677d1aca71efd0386e57f927">CURLUPART_URL</a>, <a class="code" href="structdata.html">data</a>-&gt;change.url,</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                    <a class="code" href="urlapi_8h.html#a1923d8f5dadb5924e5824c73282e6b64">CURLU_GUESS_SCHEME</a> |</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                    <a class="code" href="urlapi_8h.html#a38354ba89f94ee9d65db974f5040f6db">CURLU_NON_SUPPORT_SCHEME</a> |</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                    (<a class="code" href="structdata.html">data</a>-&gt;set.disallow_username_in_url ?</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                     <a class="code" href="urlapi_8h.html#ad93f0f34e1e550dc6c45ecddccfc0efb">CURLU_DISALLOW_USER</a> : 0) |</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                    (<a class="code" href="structdata.html">data</a>-&gt;set.path_as_is ? <a class="code" href="urlapi_8h.html#a36838c77a48b01b7b6bfd546c5aa55b5">CURLU_PATH_AS_IS</a> : 0));</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">if</span>(uc) {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <a class="code" href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a>(<a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;curl_url_set rejected %s\n&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;change.url));</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  }</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  }</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba78d43413bf7e618d74014aea871032a1">CURLUPART_SCHEME</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.scheme, 0);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">if</span>(uc)</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = findprotocol(<a class="code" href="structdata.html">data</a>, conn, <a class="code" href="structdata.html">data</a>-&gt;state.up.scheme);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba31b7e4d52954c2d447b851e4891cf7a0">CURLUPART_USER</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.user,</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                    <a class="code" href="urlapi_8h.html#a454384246f1932a3493fa5eb9f671ffc">CURLU_URLDECODE</a>);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">if</span>(!uc) {</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.up.user);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>)</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  }</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(uc != <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deaac4dd71b6c5300cd470ad231634337b3">CURLUE_NO_USER</a>)</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba236a55190e38fc4c46bfcff176207e72">CURLUPART_PASSWORD</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.password,</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                    <a class="code" href="urlapi_8h.html#a454384246f1932a3493fa5eb9f671ffc">CURLU_URLDECODE</a>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keywordflow">if</span>(!uc) {</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.up.password);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>)</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(uc != <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dea094bcca2e67eb06c2a1386a43b4b8c7f">CURLUE_NO_PASSWORD</a>)</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba46b928429eaa2b25f385a437ba6f8146">CURLUPART_OPTIONS</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.options,</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                    <a class="code" href="urlapi_8h.html#a454384246f1932a3493fa5eb9f671ffc">CURLU_URLDECODE</a>);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordflow">if</span>(!uc) {</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">options</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;state.up.options);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">options</a>)</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  }</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(uc != <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dead6544c3594d9fccf22317dc96b109c75">CURLUE_NO_OPTIONS</a>)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba347b25d9d344dbf29c5274bd184ac706">CURLUPART_HOST</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.hostname, 0);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keywordflow">if</span>(uc) {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(<span class="stringliteral">&quot;file&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;state.up.scheme))</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  }</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba55cc24daefc3debfca5396c267a5d04b">CURLUPART_PATH</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.path, 0);</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">if</span>(uc)</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  uc = <a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2ebabc452edee4006b5ff6a86d2a4d916dee">CURLUPART_PORT</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.port,</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                    <a class="code" href="urlapi_8h.html#a263ef15af3683aaf88338dcb6f0cda83">CURLU_DEFAULT_PORT</a>);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">if</span>(uc) {</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(<span class="stringliteral">&quot;file&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;state.up.scheme))</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  }</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> port = strtoul(<a class="code" href="structdata.html">data</a>-&gt;state.up.port, NULL, 10);</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a> = <a class="code" href="warnless_8c.html#a5cda9889c201b12398833787bff13e6e">curlx_ultous</a>(port);</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  (void)<a class="code" href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a>(uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2ebad44a6470deff9d6fc0b423aab47462e8">CURLUPART_QUERY</a>, &amp;<a class="code" href="structdata.html">data</a>-&gt;state.up.query, 0);</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <a class="code" href="structhostname.html">hostname</a> = <a class="code" href="structdata.html">data</a>-&gt;state.up.hostname;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structhostname.html">hostname</a>)</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="comment">/* this is for file:// transfers, get a dummy made */</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <a class="code" href="structhostname.html">hostname</a> = (<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structhostname.html">hostname</a>[0] == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="comment">/* This looks like an IPv6 address literal.  See if there is an address</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;<span class="comment">       scope. */</span></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordtype">char</span> *percent = strchr(++<a class="code" href="structhostname.html">hostname</a>, <span class="charliteral">&#39;%&#39;</span>);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#afbb3ed3c6e41a5e79efc77b3bf00376d">ipv6_ip</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">if</span>(percent) {</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> identifier_offset = 3;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordtype">char</span> *endp;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> scope;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="keywordflow">if</span>(strncmp(<span class="stringliteral">&quot;%25&quot;</span>, percent, 3) != 0) {</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;              <span class="stringliteral">&quot;Please URL encode %% as %%25, see RFC 6874.\n&quot;</span>);</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        identifier_offset = 1;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      }</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      scope = strtoul(percent + identifier_offset, &amp;endp, 10);</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordflow">if</span>(*endp == <span class="charliteral">&#39;]&#39;</span>) {</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="comment">/* The address scope was well formed.  Knock it out of the</span></div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="comment">           hostname. */</span></div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        memmove(percent, endp, strlen(endp) + 1);</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#ac808f51d6deb49f7806300cc1da23824">scope_id</a> = (<span class="keywordtype">unsigned</span> int)scope;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      }</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="comment">/* Zone identifier is not numeric */</span></div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;<span class="preprocessor">#if defined(HAVE_NET_IF_H) &amp;&amp; defined(IFNAMSIZ) &amp;&amp; defined(HAVE_IF_NAMETOINDEX)</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <span class="keywordtype">char</span> ifname[IFNAMSIZ + 2];</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        <span class="keywordtype">char</span> *square_bracket;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scopeidx = 0;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        strncpy(ifname, percent + identifier_offset, IFNAMSIZ + 2);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="comment">/* Ensure nullbyte termination */</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        ifname[IFNAMSIZ + 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        square_bracket = strchr(ifname, <span class="charliteral">&#39;]&#39;</span>);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        <span class="keywordflow">if</span>(square_bracket) {</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          <span class="comment">/* Remove &#39;]&#39; */</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;          *square_bracket = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;          scopeidx = if_nametoindex(ifname);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;          <span class="keywordflow">if</span>(scopeidx == 0) {</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;            <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Invalid network interface: %s; %s\n&quot;</span>, ifname,</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                  <a class="code" href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">strerror</a>(errno));</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;          }</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        }</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="keywordflow">if</span>(scopeidx &gt; 0) {</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;          <span class="keywordtype">char</span> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = percent + identifier_offset + strlen(ifname);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;          <span class="comment">/* Remove zone identifier from hostname */</span></div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;          memmove(percent, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, strlen(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>) + 1);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#ac808f51d6deb49f7806300cc1da23824">scope_id</a> = scopeidx;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        }</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_NET_IF_H &amp;&amp; IFNAMSIZ */</span><span class="preprocessor"></span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Invalid IPv6 address format\n&quot;</span>);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      }</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    }</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    percent = strchr(<a class="code" href="structhostname.html">hostname</a>, <span class="charliteral">&#39;]&#39;</span>);</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">if</span>(percent)</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <span class="comment">/* terminate IPv6 numerical at end bracket */</span></div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      *percent = 0;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  }</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="comment">/* make sure the connect struct gets its own copy of the host name */</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structhostname.html">hostname</a>);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>)</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> = conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.scope_id)</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="comment">/* Override any scope that was set above.  */</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ac808f51d6deb49f7806300cc1da23824">scope_id</a> = <a class="code" href="structdata.html">data</a>-&gt;set.scope_id;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;}</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment"> * If we&#39;re doing a resumed transfer, we need to setup our stuff</span></div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment"> * properly.</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> setup_range(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;{</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_url_state.html">UrlState</a> *s = &amp;<a class="code" href="structdata.html">data</a>-&gt;state;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  s-&gt;<a class="code" href="struct_url_state.html#a2a614f59e98ba94ecd0fc2edc1f189c3">resume_from</a> = <a class="code" href="structdata.html">data</a>-&gt;set.set_resume_from;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">if</span>(s-&gt;<a class="code" href="struct_url_state.html#a2a614f59e98ba94ecd0fc2edc1f189c3">resume_from</a> || <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa5a35aa666e3e1b4ff0fad546f4e426e2">STRING_SET_RANGE</a>]) {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">if</span>(s-&gt;<a class="code" href="struct_url_state.html#a378e4c0765c6b44975bdbb9aeaebd763">rangestringalloc</a>)</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(s-&gt;<a class="code" href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">range</a>);</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">if</span>(s-&gt;<a class="code" href="struct_url_state.html#a2a614f59e98ba94ecd0fc2edc1f189c3">resume_from</a>)</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      s-&gt;<a class="code" href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">range</a> = <a class="code" href="curl__printf_8h.html#a3e3dfee99c81f563d18ef4626d8886e1">aprintf</a>(<span class="stringliteral">&quot;%&quot;</span> <a class="code" href="components_2curl_2include_2curl_2_system_8h.html#a3dca40ce1e998420175eabe37246e05b">CURL_FORMAT_CURL_OFF_T</a> <span class="stringliteral">&quot;-&quot;</span>, s-&gt;<a class="code" href="struct_url_state.html#a2a614f59e98ba94ecd0fc2edc1f189c3">resume_from</a>);</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      s-&gt;<a class="code" href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">range</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa5a35aa666e3e1b4ff0fad546f4e426e2">STRING_SET_RANGE</a>]);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    s-&gt;<a class="code" href="struct_url_state.html#a378e4c0765c6b44975bdbb9aeaebd763">rangestringalloc</a> = (s-&gt;<a class="code" href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">range</a>) ? <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> : <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span>(!s-&gt;<a class="code" href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">range</a>)</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="comment">/* tell ourselves to fetch this range */</span></div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    s-&gt;<a class="code" href="struct_url_state.html#a2c954ddc99eccb03ab0b50d2d4ba6a58">use_range</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;        <span class="comment">/* enable range download */</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  }</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    s-&gt;<a class="code" href="struct_url_state.html#a2c954ddc99eccb03ab0b50d2d4ba6a58">use_range</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* disable range download */</span></div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;}</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment"> * setup_connection_internals() -</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment"> * Setup connection internals specific to the requested protocol in the</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment"> * Curl_easy. This is inited and setup before the connection is made but</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment"> * is about the particular protocol that is to be used.</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment"> * This MUST get called after proxy magic has been figured out.</span></div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> setup_connection_internals(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;{</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_curl__handler.html">Curl_handler</a> * <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a90cda22840876a61164bbf17a46630e4">socktype</a> = SOCK_STREAM; <span class="comment">/* most of them are TCP streams */</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="comment">/* Perform setup complement if some. */</span></div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;setup_connection) {</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = (*<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;setup_connection)(conn);</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>;              <span class="comment">/* May have changed. */</span></div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  }</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> &lt; 0)</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="comment">/* we check for -1 here since if proxy was detected already, this</span></div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="comment">       was very likely already set to the proxy port */</span></div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;defport;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;}</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment"> * Curl_free_request_state() should free temp data that was allocated in the</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment"> * Curl_easy for this single request.</span></div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"><a class="line" href="url_8h.html#a6ba815ed78d02e76c51dc646ffded7dc"> 2284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="url_8c.html#a6ba815ed78d02e76c51dc646ffded7dc">Curl_free_request_state</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;{</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;req.protop);</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="structdata.html">data</a>-&gt;req.newurl);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;}</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_PROXY</span></div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="comment">/****************************************************************</span></div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="comment">* Checks if the host is in the noproxy list. returns true if it matches</span></div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment">* and therefore the proxy should NOT be used.</span></div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="comment">****************************************************************/</span></div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> check_noproxy(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *no_proxy)</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;{</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="comment">/* no_proxy=domain1.dom,host.domain2.dom</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment">   *   (a comma-separated list of hosts which should</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="comment">   *   not be proxied, or an asterisk to override</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="comment">   *   all proxy variables)</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">if</span>(no_proxy &amp;&amp; no_proxy[0]) {</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordtype">size_t</span> tok_start;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordtype">size_t</span> tok_end;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *separator = <span class="stringliteral">&quot;, &quot;</span>;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordtype">size_t</span> no_proxy_len;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordtype">size_t</span> namelen;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordtype">char</span> *endptr;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(<span class="stringliteral">&quot;*&quot;</span>, no_proxy)) {</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    }</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="comment">/* NO_PROXY was specified and it wasn&#39;t just an asterisk */</span></div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    no_proxy_len = strlen(no_proxy);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>[0] == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <span class="comment">/* IPv6 numerical address */</span></div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      endptr = strchr(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, <span class="charliteral">&#39;]&#39;</span>);</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      <span class="keywordflow">if</span>(!endptr)</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>++;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      namelen = endptr - <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      namelen = strlen(<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>);</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">for</span>(tok_start = 0; tok_start &lt; no_proxy_len; tok_start = tok_end + 1) {</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="keywordflow">while</span>(tok_start &lt; no_proxy_len &amp;&amp;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            strchr(separator, no_proxy[tok_start]) != NULL) {</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        <span class="comment">/* Look for the beginning of the token. */</span></div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        ++tok_start;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      }</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      <span class="keywordflow">if</span>(tok_start == no_proxy_len)</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">/* It was all trailing separator chars, no more tokens. */</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">for</span>(tok_end = tok_start; tok_end &lt; no_proxy_len &amp;&amp;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;            strchr(separator, no_proxy[tok_end]) == NULL; ++tok_end)</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="comment">/* Look for the end of the token. */</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        ;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <span class="comment">/* To match previous behaviour, where it was necessary to specify</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">       * &quot;.local.com&quot; to prevent matching &quot;notlocal.com&quot;, we will leave</span></div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment">       * the &#39;.&#39; off.</span></div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      <span class="keywordflow">if</span>(no_proxy[tok_start] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        ++tok_start;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <span class="keywordflow">if</span>((tok_end - tok_start) &lt;= namelen) {</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <span class="comment">/* Match the last part of the name to the domain we are checking. */</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *checkn = <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a> + namelen - (tok_end - tok_start);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a48c605aaef9b3681c41d91096b6baad0">strncasecompare</a>(no_proxy + tok_start, checkn,</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                           tok_end - tok_start)) {</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;          <span class="keywordflow">if</span>((tok_end - tok_start) == namelen || *(checkn - 1) == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="comment">/* We either have an exact match, or the previous character is a .</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment">             * so it is within the same domain, so no proxy for this host.</span></div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;          }</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        }</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      } <span class="comment">/* if((tok_end - tok_start) &lt;= namelen) */</span></div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    } <span class="comment">/* for(tok_start = 0; tok_start &lt; no_proxy_len;</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">         tok_start = tok_end + 1) */</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  } <span class="comment">/* NO_PROXY was specified and it wasn&#39;t just an asterisk */</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;}</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_HTTP</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">/****************************************************************</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment">* Detect what (if any) proxy to use. Remember that this selects a host</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">* name and is not limited to HTTP proxies only.</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">* The returned pointer must be freed by the caller (unless NULL)</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="comment">****************************************************************/</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *detect_proxy(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;{</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = NULL;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">/* If proxy was not specified, we check for default proxy environment</span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<span class="comment">   * variables, to enable i.e Lynx compliance:</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="comment">   * http_proxy=http://some.server.dom:port/</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">   * https_proxy=http://some.server.dom:port/</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">   * ftp_proxy=http://some.server.dom:port/</span></div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">   * no_proxy=domain1.dom,host.domain2.dom</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;<span class="comment">   *   (a comma-separated list of hosts which should</span></div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="comment">   *   not be proxied, or an asterisk to override</span></div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="comment">   *   all proxy variables)</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="comment">   * all_proxy=http://some.server.dom:port/</span></div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<span class="comment">   *   (seems to exist for the CERN www lib. Probably</span></div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="comment">   *   the first to check for.)</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">   * For compatibility, the all-uppercase versions of these variables are</span></div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="comment">   * checked if the lowercase versions don&#39;t exist.</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordtype">char</span> proxy_env[128];</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *protop = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">scheme</a>;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordtype">char</span> *envp = proxy_env;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="keywordtype">char</span> *prox;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="comment">/* Now, build &lt;protocol&gt;_proxy and check for such a one to use */</span></div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">while</span>(*protop)</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    *envp++ = (char)tolower((<span class="keywordtype">int</span>)*protop++);</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="comment">/* append _proxy */</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  strcpy(envp, <span class="stringliteral">&quot;_proxy&quot;</span>);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="comment">/* read the protocol proxy: */</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  prox = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(proxy_env);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">   * We don&#39;t try the uppercase version of HTTP_PROXY because of</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">   * security reasons:</span></div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment">   * When curl is used in a webserver application</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">   * environment (cgi or php), this environment variable can</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">   * be controlled by the web server user by setting the</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">   * http header &#39;Proxy:&#39; to some value.</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment">   * This can cause &#39;internal&#39; http/ftp requests to be</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="comment">   * arbitrarily redirected by any external attacker.</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keywordflow">if</span>(!prox &amp;&amp; !<a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(<span class="stringliteral">&quot;http_proxy&quot;</span>, proxy_env)) {</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="comment">/* There was no lowercase variable, try the uppercase version: */</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <a class="code" href="strcase_8c.html#af365bf4de48b867b59fce8d1e777af92">Curl_strntoupper</a>(proxy_env, proxy_env, <span class="keyword">sizeof</span>(proxy_env));</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    prox = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(proxy_env);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  }</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  envp = proxy_env;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="keywordflow">if</span>(prox) {</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = prox; <span class="comment">/* use this */</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  }</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    envp = (<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;all_proxy&quot;</span>;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(envp); <span class="comment">/* default proxy to use */</span></div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>) {</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      envp = (<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;ALL_PROXY&quot;</span>;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(envp);</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    }</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  }</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>)</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, <span class="stringliteral">&quot;Uses proxy env variable %s == &#39;%s&#39;\n&quot;</span>, envp, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;}</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DISABLE_HTTP */</span><span class="preprocessor"></span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;<span class="comment"> * If this is supposed to use a proxy, we need to figure out the proxy</span></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="comment"> * host name, so that we can re-use an existing connection</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment"> * that may exist registered to the same proxy host.</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_proxy(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                            <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn, <span class="keywordtype">char</span> *<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>,</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                            <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8">curl_proxytype</a> proxytype)</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;{</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordtype">char</span> *prox_portno;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordtype">char</span> *endofprot;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="comment">/* We use &#39;proxyptr&#39; to point to the proxy name from now on... */</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordtype">char</span> *proxyptr;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordtype">char</span> *portptr;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordtype">char</span> *atsign;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keywordtype">long</span> port = -1;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordtype">char</span> *proxyuser = NULL;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordtype">char</span> *proxypasswd = NULL;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordtype">bool</span> sockstype;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="comment">/* We do the proxy host string parsing here. We want the host name and the</span></div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="comment">   * port name. Accept a protocol:// prefix</span></div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="comment">/* Parse the protocol part if present */</span></div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  endofprot = strstr(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>, <span class="stringliteral">&quot;://&quot;</span>);</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="keywordflow">if</span>(endofprot) {</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    proxyptr = endofprot + 3;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;https&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a>;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;socks5h&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ac7b9486a2097e4217185729549839549">CURLPROXY_SOCKS5_HOSTNAME</a>;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;socks5&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0221f060e5533f00d79538b80dc7b386">CURLPROXY_SOCKS5</a>;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;socks4a&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a57108a90bd6ce44c3d94fdfd53c775fd">CURLPROXY_SOCKS4A</a>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;socks4&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>) || <a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;socks&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      proxytype = <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41">CURLPROXY_SOCKS4</a>;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a>(<span class="stringliteral">&quot;http:&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>))</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      ; <span class="comment">/* leave it as HTTP or HTTP/1.0 */</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="comment">/* Any other xxx:// reject! */</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Unsupported proxy scheme for \&#39;%s\&#39;&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a90b98fc82c9d84afa3a8a3f82d283388">CURLE_COULDNT_CONNECT</a>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  }</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    proxyptr = <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>; <span class="comment">/* No xxx:// head: It&#39;s a HTTP proxy */</span></div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">if</span>(!(<a class="code" href="struct_curl__ssl.html">Curl_ssl</a>-&gt;<a class="code" href="struct_curl__ssl.html#ad8aeedd93171e98d8db0049085d40f31">supports</a> &amp; <a class="code" href="vtls_8h.html#aa47defd1c2f78f3225dfc06c638c8689">SSLSUPP_HTTPS_PROXY</a>))</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">if</span>(proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a>) {</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Unsupported proxy \&#39;%s\&#39;, libcurl is built without the &quot;</span></div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                  <span class="stringliteral">&quot;HTTPS-proxy support.&quot;</span>, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    }</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  sockstype = proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ac7b9486a2097e4217185729549839549">CURLPROXY_SOCKS5_HOSTNAME</a> ||</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;              proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0221f060e5533f00d79538b80dc7b386">CURLPROXY_SOCKS5</a> ||</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;              proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a57108a90bd6ce44c3d94fdfd53c775fd">CURLPROXY_SOCKS4A</a> ||</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;              proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41">CURLPROXY_SOCKS4</a>;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="comment">/* Is there a username and password given in this proxy url? */</span></div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  atsign = strchr(proxyptr, <span class="charliteral">&#39;@&#39;</span>);</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  <span class="keywordflow">if</span>(atsign) {</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> =</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <a class="code" href="url_8c.html#a13ba4d524a116c2400ef2cf5cca77c3b">Curl_parse_login_details</a>(proxyptr, atsign - proxyptr,</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                               &amp;proxyuser, &amp;proxypasswd, NULL);</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    proxyptr = atsign + 1;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  }</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="comment">/* start scanning for port number at this point */</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  portptr = proxyptr;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="comment">/* detect and extract RFC6874-style IPv6-addresses */</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">if</span>(*proxyptr == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = ++proxyptr; <span class="comment">/* advance beyond the initial bracket */</span></div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; (<a class="code" href="curl__ctype_8h.html#ac0e84c3fd48c096e0f836d1cdbe310bb">ISXDIGIT</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;:&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;.&#39;</span>)))</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;%&#39;</span>) {</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="comment">/* There might be a zone identifier */</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <span class="keywordflow">if</span>(strncmp(<span class="stringliteral">&quot;%25&quot;</span>, <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, 3))</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Please URL encode %% as %%25, see RFC 6874.\n&quot;</span>);</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <span class="comment">/* Allow unreserved characters as defined in RFC 3986 */</span></div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; (<a class="code" href="curl__ctype_8h.html#a2aaaf8c047d6343c0702bbb5de82a81b">ISALPHA</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || <a class="code" href="curl__ctype_8h.html#ac0e84c3fd48c096e0f836d1cdbe310bb">ISXDIGIT</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;-&#39;</span>) ||</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                     (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;.&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;_&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;~&#39;</span>)))</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    }</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="comment">/* yeps, it ended nicely with a bracket as well */</span></div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++ = 0;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Invalid IPv6 address format\n&quot;</span>);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    portptr = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="comment">/* Note that if this didn&#39;t end with a bracket, we still advanced the</span></div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="comment">     * proxyptr first, but I can&#39;t see anything wrong with that as no host</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="comment">     * name nor a numeric can legally start with a bracket.</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  }</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">/* Get port number off proxy.server.com:1080 */</span></div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  prox_portno = strchr(portptr, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="keywordflow">if</span>(prox_portno) {</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keywordtype">char</span> *endp = NULL;</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    *prox_portno = 0x0; <span class="comment">/* cut off number from host name */</span></div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    prox_portno ++;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    <span class="comment">/* now set the local port number */</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    port = strtol(prox_portno, &amp;endp, 10);</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="keywordflow">if</span>((endp &amp;&amp; *endp &amp;&amp; (*endp != <span class="charliteral">&#39;/&#39;</span>) &amp;&amp; (*endp != <span class="charliteral">&#39; &#39;</span>)) ||</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;       (port &lt; 0) || (port &gt; 65535)) {</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <span class="comment">/* meant to detect for example invalid IPv6 numerical addresses without</span></div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;<span class="comment">         brackets: &quot;2a00:fac0:a000::7:13&quot;. Accept a trailing slash only</span></div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="comment">         because we then allow &quot;URL style&quot; with the number followed by a</span></div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;<span class="comment">         slash, used in curl test cases already. Space is also an acceptable</span></div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;<span class="comment">         terminating symbol. */</span></div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;No valid port number in proxy string (%s)\n&quot;</span>,</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;            prox_portno);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    }</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = port;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  }</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <span class="keywordflow">if</span>(proxyptr[0]==<span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="comment">/* If the first character in the proxy string is a slash, fail</span></div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;<span class="comment">         immediately. The following code will otherwise clear the string which</span></div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;<span class="comment">         will lead to code running as if no proxy was set! */</span></div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyuser);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxypasswd);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd">CURLE_COULDNT_RESOLVE_PROXY</a>;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    }</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="comment">/* without a port number after the host name, some people seem to use</span></div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;<span class="comment">       a slash so we strip everything from the first slash */</span></div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    atsign = strchr(proxyptr, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">if</span>(atsign)</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      *atsign = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* cut off path part from host name */</span></div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.proxyport)</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;      <span class="comment">/* None given in the proxy string, then get the default one if it is</span></div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;<span class="comment">         given */</span></div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      port = <a class="code" href="structdata.html">data</a>-&gt;set.proxyport;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;      <span class="keywordflow">if</span>(proxytype == <a class="code" href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a>)</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        port = <a class="code" href="url_8h.html#a6305ab21e86e78103373edf3e632d4bf">CURL_DEFAULT_HTTPS_PROXY_PORT</a>;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        port = <a class="code" href="url_8h.html#a81b42340106ec57e0a3ee896ef70f401">CURL_DEFAULT_PROXY_PORT</a>;</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    }</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span>(*proxyptr) {</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keyword">struct </span><a class="code" href="structproxy__info.html">proxy_info</a> *proxyinfo =</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      sockstype ? &amp;conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a> : &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    proxyinfo-&gt;<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a> = <a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a>;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="keywordflow">if</span>(proxyuser) {</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <span class="comment">/* found user and password, rip them out.  note that we are unescaping</span></div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="comment">         them, as there is otherwise no way to have a username or password</span></div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment">         with reserved characters like &#39;:&#39; in them. */</span></div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyinfo-&gt;<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      proxyinfo-&gt;<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = <a class="code" href="curl_8h.html#a2611629a2ab88e042f40a524d797e911">curl_easy_unescape</a>(<a class="code" href="structdata.html">data</a>, proxyuser, 0, NULL);</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyuser);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      <span class="keywordflow">if</span>(!proxyinfo-&gt;<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>) {</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxypasswd);</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      }</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyinfo-&gt;<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      <span class="keywordflow">if</span>(proxypasswd &amp;&amp; strlen(proxypasswd) &lt; <a class="code" href="urldata_8h.html#a5b6efddf9b0e0cb4ba0ab2da6b618c25">MAX_CURL_PASSWORD_LENGTH</a>)</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        proxyinfo-&gt;<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = <a class="code" href="curl_8h.html#a2611629a2ab88e042f40a524d797e911">curl_easy_unescape</a>(<a class="code" href="structdata.html">data</a>, proxypasswd, 0, NULL);</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        proxyinfo-&gt;<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxypasswd);</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      <span class="keywordflow">if</span>(!proxyinfo-&gt;<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>)</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* enable it */</span></div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    }</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a> &gt;= 0) {</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      proxyinfo-&gt;<a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a> = <a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a>;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> &lt; 0 || sockstype || !conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>)</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = <a class="code" href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">port</a>;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    }</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="comment">/* now, clone the cleaned proxy host name */</span></div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyinfo-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    proxyinfo-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(proxyptr);</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    proxyinfo-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> = proxyinfo-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">if</span>(!proxyinfo-&gt;<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>)</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  }</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxyuser);</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(proxypasswd);</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;}</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="comment"> * Extract the user and password from the authentication string</span></div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_proxy_auth(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                                 <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;{</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="keywordtype">char</span> proxyuser[<a class="code" href="urldata_8h.html#a321db7077eba4dd12d264bcebfd60fe2">MAX_CURL_USER_LENGTH</a>]=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="keywordtype">char</span> proxypasswd[<a class="code" href="urldata_8h.html#a5b6efddf9b0e0cb4ba0ab2da6b618c25">MAX_CURL_PASSWORD_LENGTH</a>]=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae9cc7aa1c8238fbf1bb7d1d105079d05">STRING_PROXYUSERNAME</a>] != NULL) {</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    strncpy(proxyuser, <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae9cc7aa1c8238fbf1bb7d1d105079d05">STRING_PROXYUSERNAME</a>],</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <a class="code" href="urldata_8h.html#a321db7077eba4dd12d264bcebfd60fe2">MAX_CURL_USER_LENGTH</a>);</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    proxyuser[<a class="code" href="urldata_8h.html#a321db7077eba4dd12d264bcebfd60fe2">MAX_CURL_USER_LENGTH</a>-1] = <span class="charliteral">&#39;\0&#39;</span>;   <span class="comment">/*To be on safe side*/</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  }</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa6476d96d2af3684e3354e9650f057501">STRING_PROXYPASSWORD</a>] != NULL) {</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    strncpy(proxypasswd, <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa6476d96d2af3684e3354e9650f057501">STRING_PROXYPASSWORD</a>],</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            <a class="code" href="urldata_8h.html#a5b6efddf9b0e0cb4ba0ab2da6b618c25">MAX_CURL_PASSWORD_LENGTH</a>);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    proxypasswd[<a class="code" href="urldata_8h.html#a5b6efddf9b0e0cb4ba0ab2da6b618c25">MAX_CURL_PASSWORD_LENGTH</a>-1] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/*To be on safe side*/</span></div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  }</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="escape_8c.html#a11aa4921a19102059a1d94e2be15477a">Curl_urldecode</a>(<a class="code" href="structdata.html">data</a>, proxyuser, 0, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>, NULL,</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                          <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="escape_8c.html#a11aa4921a19102059a1d94e2be15477a">Curl_urldecode</a>(<a class="code" href="structdata.html">data</a>, proxypasswd, 0, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>,</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                            NULL, <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;}</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="comment">/* create_conn helper to parse and init proxy values. to be called after unix</span></div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="comment">   socket init but before any proxy vars are evaluated. */</span></div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> create_conn_helper_init_proxy(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;{</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = NULL;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordtype">char</span> *socksproxy = NULL;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordtype">char</span> *no_proxy = NULL;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="comment">   * Extract the user and password from the authentication string</span></div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a>) {</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_proxy_auth(<a class="code" href="structdata.html">data</a>, conn);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  }</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="comment">   * Detect what (if any) proxy to use</span></div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e">STRING_PROXY</a>]) {</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e">STRING_PROXY</a>]);</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="comment">/* if global proxy is set, this is it */</span></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    <span class="keywordflow">if</span>(NULL == <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>) {</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;memory shortage&quot;</span>);</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    }</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  }</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424">STRING_PRE_PROXY</a>]) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    socksproxy = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424">STRING_PRE_PROXY</a>]);</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="comment">/* if global socks proxy is set, this is it */</span></div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="keywordflow">if</span>(NULL == socksproxy) {</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;memory shortage&quot;</span>);</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    }</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  }</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae52dae58ff05c95193852b5fe0cb6436">STRING_NOPROXY</a>]) {</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = <span class="stringliteral">&quot;no_proxy&quot;</span>;</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    no_proxy = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>);</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">if</span>(!no_proxy) {</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = <span class="stringliteral">&quot;NO_PROXY&quot;</span>;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      no_proxy = <a class="code" href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>);</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    }</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="keywordflow">if</span>(no_proxy) {</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>, <span class="stringliteral">&quot;Uses proxy env variable %s == &#39;%s&#39;\n&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>, no_proxy);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    }</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  }</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="keywordflow">if</span>(check_noproxy(conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>, <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae52dae58ff05c95193852b5fe0cb6436">STRING_NOPROXY</a>] ?</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae52dae58ff05c95193852b5fe0cb6436">STRING_NOPROXY</a>] : no_proxy)) {</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(socksproxy);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  }</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_HTTP</span></div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> &amp;&amp; !socksproxy)</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="comment">/* if the host is not in the noproxy list, detect proxy. */</span></div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = detect_proxy(conn);</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DISABLE_HTTP */</span><span class="preprocessor"></span></div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(no_proxy);</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="comment">/* For the time being do not mix proxy and unix domain sockets. See #1274 */</span></div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> &amp;&amp; conn-&gt;unix_domain_socket) {</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = NULL;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  }</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> &amp;&amp; (!*<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> || (conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a3bfbbdae2857443d0580fc5b5b4a0a5b">PROTOPT_NONETWORK</a>))) {</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);  <span class="comment">/* Don&#39;t bother with an empty proxy string or if the</span></div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment">                     protocol doesn&#39;t work with network */</span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> = NULL;</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  }</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="keywordflow">if</span>(socksproxy &amp;&amp; (!*socksproxy ||</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                    (conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a3bfbbdae2857443d0580fc5b5b4a0a5b">PROTOPT_NONETWORK</a>))) {</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(socksproxy);  <span class="comment">/* Don&#39;t bother with an empty socks proxy string or if</span></div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="comment">                          the protocol doesn&#39;t work with network */</span></div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    socksproxy = NULL;</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  }</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="comment">/***********************************************************************</span></div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="comment">   * If this is supposed to use a proxy, we need to figure out the proxy host</span></div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="comment">   * name, proxy type and port number, so that we can re-use an existing</span></div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment">   * connection that may exist registered to the same proxy host.</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">   ***********************************************************************/</span></div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a> || socksproxy) {</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>) {</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_proxy(<a class="code" href="structdata.html">data</a>, conn, <a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>, conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a>);</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>); <span class="comment">/* parse_proxy copies the proxy string */</span></div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    }</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordflow">if</span>(socksproxy) {</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_proxy(<a class="code" href="structdata.html">data</a>, conn, socksproxy,</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;                           conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxytype</a>);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <span class="comment">/* parse_proxy copies the socks proxy string */</span></div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(socksproxy);</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    }</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>) {</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="preprocessor">#ifdef CURL_DISABLE_HTTP</span></div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <span class="comment">/* asking for a HTTP proxy is a bit funny when HTTP is disabled... */</span></div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a95d1430b03a5f959134870f3a578eb1d">CURLE_UNSUPPORTED_PROTOCOL</a>;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <span class="comment">/* force this connection&#39;s protocol to become HTTP if compatible */</span></div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;      <span class="keywordflow">if</span>(!(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">protocol</a> &amp; <a class="code" href="urldata_8h.html#a9d346cfcc0046f6c6ed206bde086ab2d">PROTO_FAMILY_HTTP</a>)) {</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        <span class="keywordflow">if</span>((conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a033a9d4c349c6179bbf570bab3c10444">PROTOPT_PROXY_AS_HTTP</a>) &amp;&amp;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;           !conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a>)</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a> = &amp;<a class="code" href="http_8c.html#ada3b16c5ed5c539dfdfe51909d1224ec">Curl_handler_http</a>;</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;          <span class="comment">/* if not converting to HTTP over the proxy, enforce tunneling */</span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      }</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    }</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* not a HTTP proxy */</span></div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* no tunneling if not HTTP */</span></div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    }</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>) {</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;      <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>) {</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        <span class="comment">/* once a socks proxy */</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>) {</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = NULL;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;          <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = NULL;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        }</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;      }</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    }</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* not a socks proxy */</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  }</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  }</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> = conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> || conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a>;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a>) {</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="comment">/* we aren&#39;t using the proxy after all... */</span></div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  }</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;out:</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(socksproxy);</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(<a class="code" href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a>);</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;}</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DISABLE_PROXY */</span><span class="preprocessor"></span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="comment"> * Curl_parse_login_details()</span></div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="comment"> * This is used to parse a login string for user name, password and options in</span></div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="comment"> * the following formats:</span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="comment"> *   user</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="comment"> *   user:password</span></div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="comment"> *   user:password;options</span></div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="comment"> *   user;options</span></div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="comment"> *   user;options:password</span></div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="comment"> *   :password</span></div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;<span class="comment"> *   :password;options</span></div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="comment"> *   ;options</span></div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="comment"> *   ;options:password</span></div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="comment"> * Parameters:</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment"> * login    [in]     - The login string.</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="comment"> * len      [in]     - The length of the login string.</span></div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;<span class="comment"> * userp    [in/out] - The address where a pointer to newly allocated memory</span></div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;<span class="comment"> *                     holding the user will be stored upon completion.</span></div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;<span class="comment"> * passwdp  [in/out] - The address where a pointer to newly allocated memory</span></div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;<span class="comment"> *                     holding the password will be stored upon completion.</span></div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;<span class="comment"> * optionsp [in/out] - The address where a pointer to newly allocated memory</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="comment"> *                     holding the options will be stored upon completion.</span></div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;<span class="comment"> * Returns CURLE_OK on success.</span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02885"></a><span class="lineno"><a class="line" href="url_8h.html#a17820daf036c6a5acd395ae692b7629d"> 2885</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a13ba4d524a116c2400ef2cf5cca77c3b">Curl_parse_login_details</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *login, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>,</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                                  <span class="keywordtype">char</span> **userp, <span class="keywordtype">char</span> **passwdp,</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                                  <span class="keywordtype">char</span> **optionsp)</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;{</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordtype">char</span> *ubuf = NULL;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordtype">char</span> *pbuf = NULL;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordtype">char</span> *obuf = NULL;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *psep = NULL;</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *osep = NULL;</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordtype">size_t</span> ulen;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordtype">size_t</span> plen;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="keywordtype">size_t</span> olen;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="comment">/* Attempt to find the password separator */</span></div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">if</span>(passwdp) {</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    psep = strchr(login, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="comment">/* Within the constraint of the login string */</span></div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">if</span>(psep &gt;= login + <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>)</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      psep = NULL;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  }</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="comment">/* Attempt to find the options separator */</span></div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">if</span>(optionsp) {</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    osep = strchr(login, <span class="charliteral">&#39;;&#39;</span>);</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="comment">/* Within the constraint of the login string */</span></div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="keywordflow">if</span>(osep &gt;= login + <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>)</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      osep = NULL;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  }</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="comment">/* Calculate the portion lengths */</span></div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  ulen = (psep ?</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;          (size_t)(osep &amp;&amp; psep &gt; osep ? osep - login : psep - login) :</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;          (osep ? (size_t)(osep - login) : <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>));</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  plen = (psep ?</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;          (osep &amp;&amp; osep &gt; psep ? (size_t)(osep - psep) :</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                                 (size_t)(login + <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> - psep)) - 1 : 0);</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  olen = (osep ?</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;          (psep &amp;&amp; psep &gt; osep ? (size_t)(psep - osep) :</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                                 (size_t)(login + <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> - osep)) - 1 : 0);</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="comment">/* Allocate the user portion buffer */</span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordflow">if</span>(userp &amp;&amp; ulen) {</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    ubuf = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(ulen + 1);</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordflow">if</span>(!ubuf)</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  }</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="comment">/* Allocate the password portion buffer */</span></div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> &amp;&amp; passwdp &amp;&amp; plen) {</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    pbuf = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(plen + 1);</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordflow">if</span>(!pbuf) {</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(ubuf);</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    }</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  }</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <span class="comment">/* Allocate the options portion buffer */</span></div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> &amp;&amp; optionsp &amp;&amp; olen) {</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    obuf = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(olen + 1);</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordflow">if</span>(!obuf) {</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(pbuf);</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(ubuf);</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    }</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  }</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="comment">/* Store the user portion if necessary */</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">if</span>(ubuf) {</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(ubuf, login, ulen);</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      ubuf[ulen] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(*userp);</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      *userp = ubuf;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    }</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="comment">/* Store the password portion if necessary */</span></div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keywordflow">if</span>(pbuf) {</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(pbuf, psep + 1, plen);</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      pbuf[plen] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(*passwdp);</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      *passwdp = pbuf;</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    }</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="comment">/* Store the options portion if necessary */</span></div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">if</span>(obuf) {</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(obuf, osep + 1, olen);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;      obuf[olen] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(*optionsp);</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      *optionsp = obuf;</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    }</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  }</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;}</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="comment">/*************************************************************</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="comment"> * Figure out the remote port number and fix it in the URL</span></div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="comment"> * No matter if we use a proxy or not, we have to figure out the remote</span></div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<span class="comment"> * port number of various reasons.</span></div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="comment"> * The port number embedded in the URL is replaced, if necessary.</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="comment"> *************************************************************/</span></div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_remote_port(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                                  <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;{</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.use_port &amp;&amp; <a class="code" href="structdata.html">data</a>-&gt;state.allow_port) {</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="comment">/* if set, we use this instead of the port possibly given in the URL */</span></div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordtype">char</span> portbuf[16];</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1de">CURLUcode</a> uc;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a> = (<span class="keywordtype">unsigned</span> short)<a class="code" href="structdata.html">data</a>-&gt;set.use_port;</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <a class="code" href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a>(portbuf, <span class="keyword">sizeof</span>(portbuf), <span class="stringliteral">&quot;%u&quot;</span>, conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>);</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    uc = <a class="code" href="urlapi_8h.html#a1cb93c92958648f06fab038f397cfeae">curl_url_set</a>(<a class="code" href="structdata.html">data</a>-&gt;state.uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2ebabc452edee4006b5ff6a86d2a4d916dee">CURLUPART_PORT</a>, portbuf, 0);</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="keywordflow">if</span>(uc)</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  }</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;}</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="comment"> * Override the login details from the URL with that in the CURLOPT_USERPWD</span></div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="comment"> * option or a .netrc file, if applicable.</span></div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> override_login(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                               <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                               <span class="keywordtype">char</span> **userp, <span class="keywordtype">char</span> **passwdp, <span class="keywordtype">char</span> **optionsp)</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;{</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  <span class="keywordtype">bool</span> user_changed = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="keywordtype">bool</span> passwd_changed = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <a class="code" href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1de">CURLUcode</a> uc;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.use_netrc == <a class="code" href="curl_8h.html#ad2f83089deb2d8a6cac955e9d6f06deaa2effcb78ce3bbf09ca9a818ce3456c46">CURL_NETRC_REQUIRED</a> &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a>) {</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <span class="comment">/* ignore user+password in the URL */</span></div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">if</span>(*userp) {</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(*userp);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      user_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    }</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">if</span>(*passwdp) {</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(*passwdp);</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      passwd_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    }</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* disable user+password */</span></div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  }</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fac35d8d85712a31c5a27f73e91916f587">STRING_USERNAME</a>]) {</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(*userp);</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    *userp = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fac35d8d85712a31c5a27f73e91916f587">STRING_USERNAME</a>]);</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <span class="keywordflow">if</span>(!*userp)</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* enable user+password */</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    user_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  }</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa8aa62e91f5012a118f4022d432144939">STRING_PASSWORD</a>]) {</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(*passwdp);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    *passwdp = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa8aa62e91f5012a118f4022d432144939">STRING_PASSWORD</a>]);</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordflow">if</span>(!*passwdp)</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* enable user+password */</span></div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    passwd_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  }</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa44bdbcbad6ae62ee8ae3ba16f61e4197">STRING_OPTIONS</a>]) {</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(*optionsp);</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    *optionsp = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa44bdbcbad6ae62ee8ae3ba16f61e4197">STRING_OPTIONS</a>]);</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="keywordflow">if</span>(!*optionsp)</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  }</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ac81c594d3bde6b99be89b39136967e91">netrc</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.use_netrc != <a class="code" href="curl_8h.html#ad2f83089deb2d8a6cac955e9d6f06deaa59820bd334fa9f57f196d62942254472">CURL_NETRC_IGNORED</a> &amp;&amp;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      (!*userp || !**userp || !*passwdp || !**passwdp)) {</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordtype">bool</span> netrc_user_changed = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="keywordtype">bool</span> netrc_passwd_changed = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    ret = <a class="code" href="netrc_8c.html#af8e8930eff90efae86fbaf43e5e32e3c">Curl_parsenetrc</a>(conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>,</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;                          userp, passwdp,</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                          &amp;netrc_user_changed, &amp;netrc_passwd_changed,</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                          <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa13ce3d8a8fd7fde8f6a500c5c0d6643a">STRING_NETRC_FILE</a>]);</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">if</span>(ret &gt; 0) {</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Couldn&#39;t find host %s in the &quot;</span></div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            <a class="code" href="curl__setup_8h.html#a904f1a264860f2acd3542356a65e5fcb">DOT_CHAR</a> <span class="stringliteral">&quot;netrc file; using defaults\n&quot;</span>,</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    }</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ret &lt; 0) {</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    }</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <span class="comment">/* set bits.netrc TRUE to remember that we got the name from a .netrc</span></div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;<span class="comment">         file, so that it is safe to use even if we followed a Location: to a</span></div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="comment">         different host or similar. */</span></div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ac81c594d3bde6b99be89b39136967e91">netrc</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* enable user+password */</span></div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      <span class="keywordflow">if</span>(netrc_user_changed) {</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        user_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      }</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      <span class="keywordflow">if</span>(netrc_passwd_changed) {</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        passwd_changed = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      }</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    }</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  }</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="comment">/* for updated strings, we update them in the URL */</span></div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="keywordflow">if</span>(user_changed) {</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    uc = <a class="code" href="urlapi_8h.html#a1cb93c92958648f06fab038f397cfeae">curl_url_set</a>(<a class="code" href="structdata.html">data</a>-&gt;state.uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba31b7e4d52954c2d447b851e4891cf7a0">CURLUPART_USER</a>, *userp, 0);</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keywordflow">if</span>(uc)</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  }</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  <span class="keywordflow">if</span>(passwd_changed) {</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    uc = <a class="code" href="urlapi_8h.html#a1cb93c92958648f06fab038f397cfeae">curl_url_set</a>(<a class="code" href="structdata.html">data</a>-&gt;state.uh, <a class="code" href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba236a55190e38fc4c46bfcff176207e72">CURLUPART_PASSWORD</a>, *passwdp, 0);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <span class="keywordflow">if</span>(uc)</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a>(uc);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  }</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="comment"> * Set the login details so they&#39;re available in the connection</span></div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> set_login(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;{</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *setuser = <a class="code" href="urldata_8h.html#a7b8dcb7ab883f6b413a63f15354bb681">CURL_DEFAULT_USER</a>;</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *setpasswd = <a class="code" href="urldata_8h.html#a1e0718a5caea5f4aa693d2527d106a5b">CURL_DEFAULT_PASSWORD</a>;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <span class="comment">/* If our protocol needs a password and we have none, use the defaults */</span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">if</span>((conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a3b42f4c610116cfa591c4eda7c1f7346">PROTOPT_NEEDSPWD</a>) &amp;&amp; !conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a>)</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    ;</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    setuser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    setpasswd = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  }</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  <span class="comment">/* Store the default user */</span></div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>) {</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(setuser);</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>)</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  }</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="comment">/* Store the default password */</span></div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>) {</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(setpasswd);</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>)</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  }</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="comment">/* if there&#39;s a user without password, consider password blank */</span></div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a> &amp;&amp; !conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>) {</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>)</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  }</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;}</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<span class="comment"> * Parses a &quot;host:port&quot; string to connect to.</span></div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="comment"> * The hostname and the port may be empty; in this case, NULL is returned for</span></div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;<span class="comment"> * the hostname and -1 for the port.</span></div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_connect_to_host_port(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>,</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                                           <span class="keywordtype">char</span> **hostname_result,</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                                           <span class="keywordtype">int</span> *port_result)</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;{</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  <span class="keywordtype">char</span> *host_dup;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  <span class="keywordtype">char</span> *hostptr;</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <span class="keywordtype">char</span> *host_portno;</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  <span class="keywordtype">char</span> *portptr;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="keywordtype">int</span> port = -1;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="preprocessor">#if defined(CURL_DISABLE_VERBOSE_STRINGS)</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  (void) <a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  *hostname_result = NULL;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  *port_result = -1;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> || !*<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>)</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  host_dup = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>);</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <span class="keywordflow">if</span>(!host_dup)</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  hostptr = host_dup;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <span class="comment">/* start scanning for port number at this point */</span></div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  portptr = hostptr;</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="comment">/* detect and extract RFC6874-style IPv6-addresses */</span></div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="keywordflow">if</span>(*hostptr == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="preprocessor">#ifdef ENABLE_IPV6</span></div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = ++hostptr; <span class="comment">/* advance beyond the initial bracket */</span></div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; (<a class="code" href="curl__ctype_8h.html#ac0e84c3fd48c096e0f836d1cdbe310bb">ISXDIGIT</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;:&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;.&#39;</span>)))</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;%&#39;</span>) {</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <span class="comment">/* There might be a zone identifier */</span></div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      <span class="keywordflow">if</span>(strncmp(<span class="stringliteral">&quot;%25&quot;</span>, <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, 3))</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Please URL encode %% as %%25, see RFC 6874.\n&quot;</span>);</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      <span class="comment">/* Allow unreserved characters as defined in RFC 3986 */</span></div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      <span class="keywordflow">while</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> &amp;&amp; (<a class="code" href="curl__ctype_8h.html#a2aaaf8c047d6343c0702bbb5de82a81b">ISALPHA</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || <a class="code" href="curl__ctype_8h.html#ac0e84c3fd48c096e0f836d1cdbe310bb">ISXDIGIT</a>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;-&#39;</span>) ||</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                     (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;.&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;_&#39;</span>) || (*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;~&#39;</span>)))</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    }</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;      <span class="comment">/* yeps, it ended nicely with a bracket as well */</span></div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;      *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Invalid IPv6 address format\n&quot;</span>);</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    portptr = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <span class="comment">/* Note that if this didn&#39;t end with a bracket, we still advanced the</span></div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="comment">     * hostptr first, but I can&#39;t see anything wrong with that as no host</span></div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="comment">     * name nor a numeric can legally start with a bracket.</span></div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Use of IPv6 in *_CONNECT_TO without IPv6 support built-in!&quot;</span>);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(host_dup);</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a>;</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  }</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  <span class="comment">/* Get port number off server.com:1080 */</span></div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  host_portno = strchr(portptr, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;  <span class="keywordflow">if</span>(host_portno) {</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordtype">char</span> *endp = NULL;</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    *host_portno = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* cut off number from host name */</span></div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    host_portno++;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordflow">if</span>(*host_portno) {</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;      <span class="keywordtype">long</span> portparse = strtol(host_portno, &amp;endp, 10);</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <span class="keywordflow">if</span>((endp &amp;&amp; *endp) || (portparse &lt; 0) || (portparse &gt; 65535)) {</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;No valid port number in connect to host string (%s)\n&quot;</span>,</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;              host_portno);</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        hostptr = NULL;</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;        port = -1;</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      }</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;        port = (int)portparse; <span class="comment">/* we know it will fit */</span></div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    }</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  }</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;  <span class="comment">/* now, clone the cleaned host name */</span></div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  <span class="keywordflow">if</span>(hostptr) {</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    *hostname_result = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(hostptr);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="keywordflow">if</span>(!*hostname_result) {</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;      <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(host_dup);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    }</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  }</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  *port_result = port;</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(host_dup);</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;}</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="comment"> * Parses one &quot;connect to&quot; string in the form:</span></div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<span class="comment"> * &quot;HOST:PORT:CONNECT-TO-HOST:CONNECT-TO-PORT&quot;.</span></div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_connect_to_string(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                                        <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *conn_to_host,</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                                        <span class="keywordtype">char</span> **host_result,</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                                        <span class="keywordtype">int</span> *port_result)</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;{</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = conn_to_host;</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <span class="keywordtype">int</span> host_match = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <span class="keywordtype">int</span> port_match = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  *host_result = NULL;</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  *port_result = -1;</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;:&#39;</span>) {</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="comment">/* an empty hostname always matches */</span></div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    host_match = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  }</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    <span class="comment">/* check whether the URL&#39;s hostname matches */</span></div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordtype">size_t</span> hostname_to_match_len;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <span class="keywordtype">char</span> *hostname_to_match = <a class="code" href="curl__printf_8h.html#a3e3dfee99c81f563d18ef4626d8886e1">aprintf</a>(<span class="stringliteral">&quot;%s%s%s&quot;</span>,</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;                                      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#afbb3ed3c6e41a5e79efc77b3bf00376d">ipv6_ip</a> ? <span class="stringliteral">&quot;[&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                                      conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>,</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                                      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#afbb3ed3c6e41a5e79efc77b3bf00376d">ipv6_ip</a> ? <span class="stringliteral">&quot;]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="keywordflow">if</span>(!hostname_to_match)</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    hostname_to_match_len = strlen(hostname_to_match);</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    host_match = <a class="code" href="strcase_8h.html#a48c605aaef9b3681c41d91096b6baad0">strncasecompare</a>(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, hostname_to_match,</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                                 hostname_to_match_len);</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(hostname_to_match);</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> += hostname_to_match_len;</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    host_match = host_match &amp;&amp; *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;:&#39;</span>;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  }</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="keywordflow">if</span>(host_match) {</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keywordflow">if</span>(*<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> == <span class="charliteral">&#39;:&#39;</span>) {</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <span class="comment">/* an empty port always matches */</span></div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      port_match = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>++;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    }</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;      <span class="comment">/* check whether the URL&#39;s port matches */</span></div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <span class="keywordtype">char</span> *ptr_next = strchr(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      <span class="keywordflow">if</span>(ptr_next) {</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        <span class="keywordtype">char</span> *endp = NULL;</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;        <span class="keywordtype">long</span> port_to_match = strtol(<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, &amp;endp, 10);</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <span class="keywordflow">if</span>((endp == ptr_next) &amp;&amp; (port_to_match == conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>)) {</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;          port_match = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;          <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = ptr_next + 1;</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        }</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      }</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    }</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  }</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span>(host_match &amp;&amp; port_match) {</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <span class="comment">/* parse the hostname and port to connect to */</span></div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_connect_to_host_port(<a class="code" href="structdata.html">data</a>, <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>, host_result, port_result);</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  }</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;}</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="comment"> * Processes all strings in the &quot;connect to&quot; slist, and uses the &quot;connect</span></div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="comment"> * to host&quot; and &quot;connect to port&quot; of the first string that matches.</span></div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> parse_connect_to_slist(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                       <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                       <span class="keyword">struct</span> <a class="code" href="structcurl__slist.html">curl_slist</a> *conn_to_host)</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;{</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> = NULL;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <span class="keywordtype">int</span> port = -1;</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  <span class="keywordflow">while</span>(conn_to_host &amp;&amp; !<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> &amp;&amp; port == -1) {</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_connect_to_string(<a class="code" href="structdata.html">data</a>, conn, conn_to_host-&gt;<a class="code" href="structcurl__slist.html#a5fe4d926491a1c9b8b9a73c40505f601">data</a>,</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                                     &amp;<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>, &amp;port);</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> &amp;&amp; *<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>) {</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a> = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>;</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> = <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Connecting to hostname: %s\n&quot;</span>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>);</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    }</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <span class="comment">/* no &quot;connect to host&quot; */</span></div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>);</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    }</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="keywordflow">if</span>(port &gt;= 0) {</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a> = port;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Connecting to port: %d\n&quot;</span>, port);</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    }</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      <span class="comment">/* no &quot;connect to port&quot; */</span></div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      port = -1;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    }</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    conn_to_host = conn_to_host-&gt;<a class="code" href="structcurl__slist.html#a56fcfc41d89a47865933c310d316a108">next</a>;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  }</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;}</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;<span class="comment">/*************************************************************</span></div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;<span class="comment"> * Resolve the address of the server or proxy</span></div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="comment"> *************************************************************/</span></div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> resolve_server(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                               <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                               <span class="keywordtype">bool</span> *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>)</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;{</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  <a class="code" href="timeval_8h.html#aeb19832fd3e7f11c8d047d6824300e87">timediff_t</a> timeout_ms = <a class="code" href="connect_8c.html#aed32c0fb99c80a40c097c98a3eb03c74">Curl_timeleft</a>(<a class="code" href="structdata.html">data</a>, NULL, <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="comment">   * Resolve the name of the server or proxy</span></div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a40c9341dbcd23241fd1b75054cf050a2">reuse</a>)</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="comment">/* We&#39;re reusing the connection - no need to resolve anything, and</span></div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;<span class="comment">       idnconvert_hostname() was called already in create_conn() for the re-use</span></div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;<span class="comment">       case. */</span></div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="comment">/* this is a fresh connect */</span></div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_curl__dns__entry.html">Curl_dns_entry</a> *hostaddr;</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;unix_domain_socket) {</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <span class="comment">/* Unix domain sockets are local. The host gets ignored, just use the</span></div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">       * specified domain socket address. Do not cache &quot;DNS entries&quot;. There is</span></div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">       * no DNS involved and we already have the filesystem path available */</span></div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a> = conn-&gt;unix_domain_socket;</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;      hostaddr = <a class="code" href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_curl__dns__entry.html">Curl_dns_entry</a>));</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;      <span class="keywordflow">if</span>(!hostaddr)</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        <span class="keywordtype">bool</span> longpath = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;        hostaddr-&gt;<a class="code" href="struct_curl__dns__entry.html#a606b5303ecd260663dbf9b1f9f7f98dd">addr</a> = Curl_unix2addr(<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, &amp;longpath,</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                                        conn-&gt;abstract_unix_socket);</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        <span class="keywordflow">if</span>(hostaddr-&gt;<a class="code" href="struct_curl__dns__entry.html#a606b5303ecd260663dbf9b1f9f7f98dd">addr</a>)</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;          hostaddr-&gt;<a class="code" href="struct_curl__dns__entry.html#a04bf1940359219c8e600a993c345d068">inuse</a>++;</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;          <span class="comment">/* Long paths are not supported for now */</span></div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;          <span class="keywordflow">if</span>(longpath) {</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;            <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Unix socket path too long: &#39;%s&#39;&quot;</span>, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;            <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630">CURLE_COULDNT_RESOLVE_HOST</a>;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;          }</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;            <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;          <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(hostaddr);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;          hostaddr = NULL;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;      }</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    }</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a>) {</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;      <span class="keyword">struct </span><a class="code" href="structhostname.html">hostname</a> *connhost;</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;      <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a>)</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        connhost = &amp;conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>;</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        connhost = &amp;conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <span class="comment">/* If not connecting via a proxy, extract the port from the URL, if it is</span></div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="comment">       * there, thus overriding any defaults that might have been set above. */</span></div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;      <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a>)</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a>;</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a> = conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;      <span class="comment">/* Resolve target host right on */</span></div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(connhost-&gt;<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>);</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>)</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = <a class="code" href="hostip_8c.html#a336a5d08a3d7db99e3bf4157a58d90dc">Curl_resolv_timeout</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>, (<span class="keywordtype">int</span>)conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a>,</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                               &amp;hostaddr, timeout_ms);</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == <a class="code" href="hostip_8h.html#ac32022a9b31aaa164578cb4d487cfc7d">CURLRESOLV_PENDING</a>)</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == <a class="code" href="hostip_8h.html#ae8618661546c3da74f78cc6e60dcc1b3">CURLRESOLV_TIMEDOUT</a>)</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!hostaddr) {</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Couldn&#39;t resolve host &#39;%s&#39;&quot;</span>, connhost-&gt;<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a>);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> =  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630">CURLE_COULDNT_RESOLVE_HOST</a>;</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        <span class="comment">/* don&#39;t return yet, we need to clean up the timeout first */</span></div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;      }</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    }</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <span class="comment">/* This is a proxy that hasn&#39;t been resolved yet. */</span></div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <span class="keyword">struct </span><a class="code" href="structhostname.html">hostname</a> * <span class="keyword">const</span> <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a> = conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a> ?</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        &amp;conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a> : &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="comment">/* resolve proxy */</span></div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;name);</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>)</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;      <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = <a class="code" href="hostip_8c.html#a336a5d08a3d7db99e3bf4157a58d90dc">Curl_resolv_timeout</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>, (<span class="keywordtype">int</span>)conn-&gt;<a class="code" href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">port</a>,</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;                               &amp;hostaddr, timeout_ms);</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == <a class="code" href="hostip_8h.html#ac32022a9b31aaa164578cb4d487cfc7d">CURLRESOLV_PENDING</a>)</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == <a class="code" href="hostip_8h.html#ae8618661546c3da74f78cc6e60dcc1b3">CURLRESOLV_TIMEDOUT</a>)</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a>;</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!hostaddr) {</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        <a class="code" href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Couldn&#39;t resolve proxy &#39;%s&#39;&quot;</span>, <a class="code" href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a>-&gt;dispname);</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd">CURLE_COULDNT_RESOLVE_PROXY</a>;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        <span class="comment">/* don&#39;t return yet, we need to clean up the timeout first */</span></div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      }</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    }</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a> == NULL);</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a> = hostaddr;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  }</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;}</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="comment"> * Cleanup the connection just allocated before we can move along and use the</span></div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;<span class="comment"> * previously existing one.  All relevant data is copied over and old_conn is</span></div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;<span class="comment"> * ready for freeing once this function returns.</span></div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> reuse_conn(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *old_conn,</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                       <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;{</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  free_idnconverted_hostname(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  free_idnconverted_hostname(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>);</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>);</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="comment">/* free the SSL config struct from this connection struct as this was</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="comment">     allocated in vain and is targeted for destruction */</span></div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  <a class="code" href="vtls_8c.html#a5f50ad085ea4993229348232d4719407">Curl_free_primary_ssl_config</a>(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>);</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <a class="code" href="vtls_8c.html#a5f50ad085ea4993229348232d4719407">Curl_free_primary_ssl_config</a>(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="comment">/* get the user+password information from the old_conn struct since it may</span></div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="comment">   * be new for this request even when we re-use an existing connection */</span></div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a>;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">user_passwd</a>) {</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <span class="comment">/* use the new user name and password though */</span></div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>);</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>);</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a> = NULL;</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a> = NULL;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  }</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a>;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">proxy_user_passwd</a>) {</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="comment">/* use the new proxy user name and proxy password though */</span></div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = NULL;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a> = NULL;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = NULL;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a> = NULL;</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  }</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="comment">/* host can change, when doing keepalive with a proxy or if the case is</span></div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;<span class="comment">     different this time etc */</span></div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>);</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  free_idnconverted_hostname(&amp;conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>);</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>);</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">rawalloc</a>);</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>;</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a>;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a> = old_conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a>;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  old_conn-&gt;<a class="code" href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">hostname_resolve</a> = NULL;</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <span class="comment">/* persist connection info in session handle */</span></div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  <a class="code" href="connect_8c.html#acdf676920980d6aa810eea58620aafa5">Curl_persistconninfo</a>(conn);</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <a class="code" href="url_8c.html#a75dd1250c19969740279d49c6815c1c0">conn_reset_all_postponed_data</a>(old_conn); <span class="comment">/* free buffers */</span></div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <span class="comment">/* re-use init */</span></div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a40c9341dbcd23241fd1b75054cf050a2">reuse</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* yes, we&#39;re re-using here */</span></div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>);</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>);</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">options</a>);</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">user</a>);</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">passwd</a>);</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">localdev</a>);</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>, NULL);</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <a class="code" href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a>(&amp;old_conn-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>, NULL);</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;<a class="code" href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">master_buffer</a>);</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(old_conn-&gt;unix_domain_socket);</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;}</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> create_conn(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;                            <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> **in_connect,</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;                            <span class="keywordtype">bool</span> *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>)</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;{</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn_temp = NULL;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="keywordtype">bool</span> reuse;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  <span class="keywordtype">bool</span> connections_available = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="keywordtype">bool</span> force_reuse = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <span class="keywordtype">bool</span> waitpipe = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <span class="keywordtype">size_t</span> max_host_connections = <a class="code" href="multi_8c.html#ab129de4f342cdcec38532d0bb93ccb1f">Curl_multi_max_host_connections</a>(<a class="code" href="structdata.html">data</a>-&gt;multi);</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="keywordtype">size_t</span> max_total_connections = <a class="code" href="multi_8c.html#a71cd4fe5fdefeb0903cd832df16db9db">Curl_multi_max_total_connections</a>(<a class="code" href="structdata.html">data</a>-&gt;multi);</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  *<a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;<span class="comment">   * Check input data</span></div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="structdata.html">data</a>-&gt;change.url) {</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a>;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;  }</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  <span class="comment">/* First, split up the current URL in parts so that we can use the</span></div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;<span class="comment">     parts for checking against the already present connections. In order</span></div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;<span class="comment">     to not have to modify everything at once, we allocate a temporary</span></div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;<span class="comment">     connection data struct and fill in for comparison purposes. */</span></div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  conn = allocate_conn(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  <span class="keywordflow">if</span>(!conn) {</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  }</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  <span class="comment">/* We must set the return variable as soon as possible, so that our</span></div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;<span class="comment">     parent can cleanup any possible allocs we may have done before</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;<span class="comment">     any failure */</span></div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  *in_connect = conn;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parseurlandfillconn(<a class="code" href="structdata.html">data</a>, conn);</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa57a9539851436f7df3f106c5e23642b6">STRING_BEARER</a>]) {</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a7cafd86e79828b97b1c186b83d39f565">oauth_bearer</a> = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa57a9539851436f7df3f106c5e23642b6">STRING_BEARER</a>]);</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a7cafd86e79828b97b1c186b83d39f565">oauth_bearer</a>) {</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    }</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  }</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;<span class="preprocessor">#ifdef USE_UNIX_SOCKETS</span></div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_UNIX_SOCKET_PATH]) {</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    conn-&gt;unix_domain_socket = <a class="code" href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a>(<a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_UNIX_SOCKET_PATH]);</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;unix_domain_socket == NULL) {</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    }</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    conn-&gt;abstract_unix_socket = <a class="code" href="structdata.html">data</a>-&gt;set.abstract_unix_socket;</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  }</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="comment">/* After the unix socket init but before the proxy vars are used, parse and</span></div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;<span class="comment">     initialize the proxy vars */</span></div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_PROXY</span></div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = create_conn_helper_init_proxy(conn);</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;<span class="comment">   * If the protocol is using SSL and HTTP proxy is used, we set</span></div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;<span class="comment">   * the tunnel_proxy bit.</span></div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <span class="keywordflow">if</span>((conn-&gt;<a class="code" href="structconnectdata.html#a878ad8b625208d9aa421852225c33b30">given</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a>&amp;<a class="code" href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a>) &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>)</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;<span class="comment">   * Figure out the remote port number and fix it in the URL</span></div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_remote_port(<a class="code" href="structdata.html">data</a>, conn);</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  <span class="comment">/* Check for overridden login details and set them accordingly so they</span></div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;<span class="comment">     they are known when protocol-&gt;setup_connection is called! */</span></div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = override_login(<a class="code" href="structdata.html">data</a>, conn, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>,</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;                          &amp;conn-&gt;<a class="code" href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">options</a>);</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = set_login(conn); <span class="comment">/* default credentials */</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;<span class="comment">   * Process the &quot;connect to&quot; linked list of hostname/port mappings.</span></div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;<span class="comment">   * Do this after the remote port number has been fixed in the URL.</span></div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = parse_connect_to_slist(<a class="code" href="structdata.html">data</a>, conn, <a class="code" href="structdata.html">data</a>-&gt;set.connect_to);</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="comment">   * IDN-convert the hostnames</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = idnconvert_hostname(conn, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>);</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a>) {</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = idnconvert_hostname(conn, &amp;conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>);</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  }</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>) {</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = idnconvert_hostname(conn, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  }</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a>) {</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = idnconvert_hostname(conn, &amp;conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  }</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;<span class="comment">   * Check whether the host and the &quot;connect to host&quot; are equal.</span></div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;<span class="comment">   * Do this after the hostnames have been IDN-converted.</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> &amp;&amp;</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;     <a class="code" href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a>(conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>, conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a>)) {</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  }</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;<span class="comment">   * Check whether the port and the &quot;connect to port&quot; are equal.</span></div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;<span class="comment">   * Do this after the remote port number has been fixed in the URL.</span></div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> &amp;&amp; conn-&gt;<a class="code" href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">conn_to_port</a> == conn-&gt;<a class="code" href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">remote_port</a>) {</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  }</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;<span class="comment">   * If the &quot;connect to&quot; feature is used with an HTTP proxy,</span></div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;<span class="comment">   * we set the tunnel_proxy bit.</span></div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="keywordflow">if</span>((conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a> || conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">conn_to_port</a>) &amp;&amp;</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>)</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">tunnel_proxy</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;<span class="comment">   * Setup internals depending on protocol. Needs to be done after</span></div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;<span class="comment">   * we figured out what/if proxy to use.</span></div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = setup_connection_internals(conn);</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#aec2de2220c36ec447f6101e85bf0a52b">recv</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="sendf_8c.html#a93f532184de8849628a6048c992daf2b">Curl_recv_plain</a>;</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ada83cbd7d295b87033b7ea635c0a5dd5">send</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="sendf_8c.html#aabefb972f6bc78eb11f4b038a6508ecd">Curl_send_plain</a>;</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#aec2de2220c36ec447f6101e85bf0a52b">recv</a>[<a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>] = <a class="code" href="sendf_8c.html#a93f532184de8849628a6048c992daf2b">Curl_recv_plain</a>;</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ada83cbd7d295b87033b7ea635c0a5dd5">send</a>[<a class="code" href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a>] = <a class="code" href="sendf_8c.html#aabefb972f6bc78eb11f4b038a6508ecd">Curl_send_plain</a>;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a1848a204eb26d03a62be57cd1304834a">tcp_fastopen</a> = <a class="code" href="structdata.html">data</a>-&gt;set.tcp_fastopen;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <span class="comment">/***********************************************************************</span></div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;<span class="comment">   * file: is a special case in that it doesn&#39;t need a network connection</span></div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;<span class="comment">   ***********************************************************************/</span></div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;<span class="preprocessor">#ifndef CURL_DISABLE_FILE</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a3bfbbdae2857443d0580fc5b5b4a0a5b">PROTOPT_NONETWORK</a>) {</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="keywordtype">bool</span> done;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="comment">/* this is supposed to be the connect function so we better at least check</span></div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;<span class="comment">       that the file is present here! */</span></div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a23eb9a47b3d5c0793a69301a1f3dbebb">connect_it</a>);</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    <a class="code" href="connect_8c.html#acdf676920980d6aa810eea58620aafa5">Curl_persistconninfo</a>(conn);</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a23eb9a47b3d5c0793a69301a1f3dbebb">connect_it</a>(conn, &amp;done);</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="comment">/* Setup a &quot;faked&quot; transfer that&#39;ll do nothing */</span></div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a> = <a class="code" href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a>;</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;      conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a0091f833e532479d6510f72639f726ef">tcpconnect</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* we are &quot;connected */</span></div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="conncache_8c.html#a66aa5886350f9fb8c866979282485de4">Curl_conncache_add_conn</a>(<a class="code" href="structdata.html">data</a>-&gt;state.conn_cache, conn);</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;<span class="comment">       * Setup whatever necessary for a resumed transfer</span></div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = setup_range(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ac77e1b77c701181a1ba5e58922504524">done</a>);</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        <span class="comment">/* we ignore the return code for the protocol-specific DONE */</span></div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        (void)conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#ac77e1b77c701181a1ba5e58922504524">done</a>(conn, <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>, <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;      }</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;      <a class="code" href="transfer_8c.html#a8ccd1948f2a90c90b6fd1ac993e44a32">Curl_setup_transfer</a>(conn, -1, -1, <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, NULL, <span class="comment">/* no download */</span></div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;                          -1, NULL); <span class="comment">/* no upload */</span></div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    }</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    <span class="comment">/* since we skip do_init() */</span></div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <a class="code" href="url_8c.html#a84d25069eedf327bfd18e9960e8976c5">Curl_init_do</a>(<a class="code" href="structdata.html">data</a>, conn);</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  }</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="comment">/* Get a cloned copy of the SSL config situation stored in the</span></div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;<span class="comment">     connection struct. But to get this going nicely, we must first make</span></div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;<span class="comment">     sure that the strings in the master copy are pointing to the correct</span></div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;<span class="comment">     strings in the session handle strings array!</span></div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;<span class="comment">     Keep in mind that the pointers in the master copy are pointing to strings</span></div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;<span class="comment">     that will be freed as part of the Curl_easy struct, but all cloned</span></div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;<span class="comment">     copies will be separately allocated.</span></div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.CApath = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa50c48e8f3cca5ed1ae46778ebd9c5619">STRING_SSL_CAPATH_ORIG</a>];</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.CApath = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa98ba9a3bb085f2e37276d1ccf39d1412">STRING_SSL_CAPATH_PROXY</a>];</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.CAfile = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0772a3d3f064ab162af2d5392077d434">STRING_SSL_CAFILE_ORIG</a>];</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.CAfile = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadc1a0a246e25b592ea4f467152a5ad26">STRING_SSL_CAFILE_PROXY</a>];</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.random_file = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fabf50bfe61fa3dc11954f35f0b84217d4">STRING_SSL_RANDOM_FILE</a>];</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.random_file =</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fabf50bfe61fa3dc11954f35f0b84217d4">STRING_SSL_RANDOM_FILE</a>];</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.egdsocket = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa88d3e306ecb6c0404e204831e8df7128">STRING_SSL_EGDSOCKET</a>];</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.egdsocket = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa88d3e306ecb6c0404e204831e8df7128">STRING_SSL_EGDSOCKET</a>];</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.cipher_list =</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0e5d1b313fa6f1d46eb800728c71a15e">STRING_SSL_CIPHER_LIST_ORIG</a>];</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.cipher_list =</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa4908c4f159e9d8522dc3e847e89d2057">STRING_SSL_CIPHER_LIST_PROXY</a>];</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.cipher_list13 =</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3298cb978a9f6ba3e0c9c968344d97aa">STRING_SSL_CIPHER13_LIST_ORIG</a>];</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.cipher_list13 =</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa74a093c60d09ef3eae6ea5fc7be3b9b6">STRING_SSL_CIPHER13_LIST_PROXY</a>];</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.CRLfile = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3c70195c651f9ba9fae65d4619218b29">STRING_SSL_CRLFILE_ORIG</a>];</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.CRLfile = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fab536dc8f6b783dc6aa20656b47fa47b6">STRING_SSL_CRLFILE_PROXY</a>];</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.issuercert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3297087261cd5b55177327cf109223ff">STRING_SSL_ISSUERCERT_ORIG</a>];</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.issuercert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0ed097ad80260302c8100c1440ca18c3">STRING_SSL_ISSUERCERT_PROXY</a>];</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.cert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa72db206f38d80f105f87591461b294ba">STRING_CERT_ORIG</a>];</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.cert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2532d7b0834be7c73de1ad0218f51066">STRING_CERT_PROXY</a>];</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.cert_type = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3a8b827562710d81906e904811f0b509">STRING_CERT_TYPE_ORIG</a>];</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.cert_type = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadc2043e9c79ff8c52c008aeff7deb22d">STRING_CERT_TYPE_PROXY</a>];</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.key = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fab45988ea6bfd16d2526d8d2c60f2e688">STRING_KEY_ORIG</a>];</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.key = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa6476c4f5049fba21d2f70691ad1a2513">STRING_KEY_PROXY</a>];</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.key_type = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa8fc3d85d3a83058a04dea5f29deeecb1">STRING_KEY_TYPE_ORIG</a>];</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.key_type = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa4de3c1016e8f64004fd8782e5c238261">STRING_KEY_TYPE_PROXY</a>];</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.key_passwd = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa29e1ceb3d6dbaa6b04a3438dc3cc5f2f">STRING_KEY_PASSWD_ORIG</a>];</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.key_passwd = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa1611f82294e0cf5db945e4111916617e">STRING_KEY_PASSWD_PROXY</a>];</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary.clientcert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa72db206f38d80f105f87591461b294ba">STRING_CERT_ORIG</a>];</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary.clientcert = <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2532d7b0834be7c73de1ad0218f51066">STRING_CERT_PROXY</a>];</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;<span class="preprocessor">#ifdef USE_TLS_SRP</span></div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.username = <a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_TLSAUTH_USERNAME_ORIG];</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.username = <a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_TLSAUTH_USERNAME_PROXY];</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.ssl.password = <a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_TLSAUTH_PASSWORD_ORIG];</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.password = <a class="code" href="structdata.html">data</a>-&gt;set.str[STRING_TLSAUTH_PASSWORD_PROXY];</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="vtls_8c.html#a9468007b0049e63d8dac0a8096beb0c4">Curl_clone_primary_ssl_config</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;set.ssl.primary,</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;     &amp;conn-&gt;<a class="code" href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">ssl_config</a>)) {</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  }</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="vtls_8c.html#a9468007b0049e63d8dac0a8096beb0c4">Curl_clone_primary_ssl_config</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;set.proxy_ssl.primary,</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                                    &amp;conn-&gt;<a class="code" href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">proxy_ssl_config</a>)) {</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  }</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  prune_dead_connections(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="comment">   * Check the current list of connections to see if we can</span></div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;<span class="comment">   * re-use an already existing one or if we have to create a</span></div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="comment">   * new one.</span></div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">user</a>);</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <a class="code" href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a>(conn-&gt;<a class="code" href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">passwd</a>);</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;  <span class="comment">/* reuse_fresh is TRUE if we are told to use a new connection by force, but</span></div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;<span class="comment">     we only acknowledge this option if this is not a re-used connection</span></div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<span class="comment">     already (which happens due to follow-location or during a HTTP</span></div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;<span class="comment">     authentication phase). */</span></div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.reuse_fresh &amp;&amp; !<a class="code" href="structdata.html">data</a>-&gt;state.this_is_a_follow)</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    reuse = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;    reuse = ConnectionExists(<a class="code" href="structdata.html">data</a>, conn, &amp;conn_temp, &amp;force_reuse, &amp;waitpipe);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="comment">/* If we found a reusable connection that is now marked as in use, we may</span></div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;<span class="comment">     still want to open a new connection if we are pipelining. */</span></div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <span class="keywordflow">if</span>(reuse &amp;&amp; !force_reuse &amp;&amp; IsPipeliningPossible(<a class="code" href="structdata.html">data</a>, conn_temp)) {</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <span class="keywordtype">size_t</span> pipelen = conn_temp-&gt;<a class="code" href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">send_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a> + conn_temp-&gt;<a class="code" href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">recv_pipe</a>.<a class="code" href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">size</a>;</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordflow">if</span>(pipelen &gt; 0) {</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Found connection %ld, with requests in the pipe (%zu)\n&quot;</span>,</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;            conn_temp-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>, pipelen);</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="conncache_8c.html#ac16f7f25e0ae5d93e3fe6355a5805403">Curl_conncache_bundle_size</a>(conn_temp) &lt; max_host_connections &amp;&amp;</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;         <a class="code" href="conncache_8c.html#a558b7525a147680dfe1216e2c157799a">Curl_conncache_size</a>(<a class="code" href="structdata.html">data</a>) &lt; max_total_connections) {</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="comment">/* We want a new connection anyway */</span></div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        reuse = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;We can reuse, but we want a new connection anyway\n&quot;</span>);</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        <a class="code" href="conncache_8c.html#adb8f4815ab8920bda869c304c90857d9">Curl_conncache_return_conn</a>(conn_temp);</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      }</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    }</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  }</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  <span class="keywordflow">if</span>(reuse) {</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;<span class="comment">     * We already have a connection for this, we got the former connection</span></div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;<span class="comment">     * in the conn_temp variable and thus we need to cleanup the one we</span></div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="comment">     * just allocated before we can move along and use the previously</span></div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;<span class="comment">     * existing one.</span></div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    reuse_conn(conn, conn_temp);</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn-&gt;ssl_extra);</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(conn);          <span class="comment">/* we don&#39;t need this anymore */</span></div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    conn = conn_temp;</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    *in_connect = conn;</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;Re-using existing connection! (#%ld) with %s %s\n&quot;</span>,</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connection_id</a>,</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">proxy</a>?<span class="stringliteral">&quot;proxy&quot;</span>:<span class="stringliteral">&quot;host&quot;</span>,</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> ? conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a> :</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;          conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">name</a> ? conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a> :</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;                                       conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>.<a class="code" href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">dispname</a>);</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  }</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    <span class="comment">/* We have decided that we want a new connection. However, we may not</span></div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="comment">       be able to do that if we have reached the limit of how many</span></div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="comment">       connections we are allowed to open. */</span></div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#aed268b90593d1d852e7468aca80e7656">PROTOPT_ALPN_NPN</a>) {</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <span class="comment">/* The protocol wants it, so set the bits if enabled in the easy handle</span></div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;<span class="comment">         (default) */</span></div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.ssl_enable_alpn)</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a15d98c2eae880b790963d2b0d15a85dc">tls_enable_alpn</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.ssl_enable_npn)</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;        conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a0a00cd02ce442392e3836545ce356b6a">tls_enable_npn</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    }</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    <span class="keywordflow">if</span>(waitpipe)</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <span class="comment">/* There is a connection that *might* become usable for pipelining</span></div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;<span class="comment">         &quot;soon&quot;, and we wait for that */</span></div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      connections_available = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <span class="comment">/* this gets a lock on the conncache */</span></div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keyword">struct </span><a class="code" href="structconnectbundle.html">connectbundle</a> *bundle =</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;        <a class="code" href="conncache_8c.html#a4a64fd2e23edc668a13456b4e11ac539">Curl_conncache_find_bundle</a>(conn, <a class="code" href="structdata.html">data</a>-&gt;state.conn_cache);</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;      <span class="keywordflow">if</span>(max_host_connections &gt; 0 &amp;&amp; bundle &amp;&amp;</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;         (bundle-&gt;<a class="code" href="structconnectbundle.html#a7b746b344ea41126772218e55780fefd">num_connections</a> &gt;= max_host_connections)) {</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;        <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn_candidate;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;        <span class="comment">/* The bundle is full. Extract the oldest connection. */</span></div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;        conn_candidate = <a class="code" href="conncache_8c.html#a8320d4e93c3a6d3188570745ccffc397">Curl_conncache_extract_bundle</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="structconnectdata.html#a2bb9cb7096c4799e15ed1b449c5c7f1b">bundle</a>);</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        <a class="code" href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a>(conn);</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;        <span class="keywordflow">if</span>(conn_candidate)</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;          (void)<a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<a class="code" href="structdata.html">data</a>, conn_candidate,</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;                                <span class="comment">/* dead_connection */</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;          <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;No more connections allowed to host: %zu\n&quot;</span>,</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;                max_host_connections);</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;          connections_available = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        }</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;      }</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        <a class="code" href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a>(conn);</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    }</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <span class="keywordflow">if</span>(connections_available &amp;&amp;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;       (max_total_connections &gt; 0) &amp;&amp;</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;       (<a class="code" href="conncache_8c.html#a558b7525a147680dfe1216e2c157799a">Curl_conncache_size</a>(<a class="code" href="structdata.html">data</a>) &gt;= max_total_connections)) {</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      <span class="keyword">struct </span><a class="code" href="structconnectdata.html">connectdata</a> *conn_candidate;</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;      <span class="comment">/* The cache is full. Let&#39;s see if we can kill a connection. */</span></div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;      conn_candidate = <a class="code" href="conncache_8c.html#a834c39c1ab2afd26acebef4483a6941d">Curl_conncache_extract_oldest</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;      <span class="keywordflow">if</span>(conn_candidate)</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;        (void)<a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<a class="code" href="structdata.html">data</a>, conn_candidate,</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                              <span class="comment">/* dead_connection */</span> <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;No connections available in cache\n&quot;</span>);</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        connections_available = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;      }</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    }</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    <span class="keywordflow">if</span>(!connections_available) {</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;No connections available.\n&quot;</span>);</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;      conn_free(conn);</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;      *in_connect = NULL;</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aeaaa9c51dc850e9dd9b052c4aa32b782">CURLE_NO_CONNECTION_AVAILABLE</a>;</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    }</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;<span class="comment">       * This is a brand new connection, so let&#39;s store it in the connection</span></div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;<span class="comment">       * cache of ours!</span></div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="conncache_8c.html#a66aa5886350f9fb8c866979282485de4">Curl_conncache_add_conn</a>(<a class="code" href="structdata.html">data</a>-&gt;state.conn_cache, conn);</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    }</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;<span class="preprocessor">#if defined(USE_NTLM)</span></div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="comment">/* If NTLM is requested in a part of this connection, make sure we don&#39;t</span></div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;<span class="comment">       assume the state is fine as this is a fresh connection and NTLM is</span></div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="comment">       connection based. */</span></div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="structdata.html">data</a>-&gt;state.authhost.picked &amp; (<a class="code" href="curl_8h.html#ab0e8299ededa678028a9e5796b0f77ce">CURLAUTH_NTLM</a> | <a class="code" href="curl_8h.html#abc73006227ef9c2827f26b33d7cbadce">CURLAUTH_NTLM_WB</a>)) &amp;&amp;</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;       <a class="code" href="structdata.html">data</a>-&gt;state.authhost.done) {</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;NTLM picked AND auth done set, clear picked!\n&quot;</span>);</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.authhost.picked = <a class="code" href="curl_8h.html#a2623448e48f97bb09eb1a83b28da7735">CURLAUTH_NONE</a>;</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.authhost.done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    }</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="structdata.html">data</a>-&gt;state.authproxy.picked &amp; (<a class="code" href="curl_8h.html#ab0e8299ededa678028a9e5796b0f77ce">CURLAUTH_NTLM</a> | <a class="code" href="curl_8h.html#abc73006227ef9c2827f26b33d7cbadce">CURLAUTH_NTLM_WB</a>)) &amp;&amp;</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;       <a class="code" href="structdata.html">data</a>-&gt;state.authproxy.done) {</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      <a class="code" href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a>(<a class="code" href="structdata.html">data</a>, <span class="stringliteral">&quot;NTLM-proxy picked AND auth done set, clear picked!\n&quot;</span>);</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.authproxy.picked = <a class="code" href="curl_8h.html#a2623448e48f97bb09eb1a83b28da7735">CURLAUTH_NONE</a>;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.authproxy.done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    }</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  }</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="comment">/* Setup and init stuff before DO starts, in preparing for the transfer. */</span></div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <a class="code" href="url_8c.html#a84d25069eedf327bfd18e9960e8976c5">Curl_init_do</a>(<a class="code" href="structdata.html">data</a>, conn);</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;<span class="comment">   * Setup whatever necessary for a resumed transfer</span></div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = setup_range(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  <span class="comment">/* Continue connectdata initialization here. */</span></div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;<span class="comment">   * Inherit the proper values from the urldata struct AFTER we have arranged</span></div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;<span class="comment">   * the persistent connection stuff</span></div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a01e38af502b3798152533aa52884b423">seek_func</a> = <a class="code" href="structdata.html">data</a>-&gt;set.seek_func;</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#ad7ad0216049eeb5099888585025e2202">seek_client</a> = <a class="code" href="structdata.html">data</a>-&gt;set.seek_client;</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  <span class="comment">/*************************************************************</span></div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;<span class="comment">   * Resolve the address of the server or proxy</span></div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;<span class="comment">   *************************************************************/</span></div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = resolve_server(<a class="code" href="structdata.html">data</a>, conn, <a class="code" href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a>);</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <span class="comment">/* Strip trailing dots. resolve_server copied the name. */</span></div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  strip_trailing_dot(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">host</a>);</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">httpproxy</a>)</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    strip_trailing_dot(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">http_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">socksproxy</a>)</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    strip_trailing_dot(&amp;conn-&gt;<a class="code" href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">socks_proxy</a>.<a class="code" href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">host</a>);</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">conn_to_host</a>)</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    strip_trailing_dot(&amp;conn-&gt;<a class="code" href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">conn_to_host</a>);</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;out:</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;}</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;<span class="comment">/* Curl_setup_conn() is called after the name resolve initiated in</span></div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;<span class="comment"> * create_conn() is all done.</span></div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;<span class="comment"> * Curl_setup_conn() also handles reused connections</span></div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;<span class="comment"> * conn-&gt;data MUST already have been setup fine (in create_conn)</span></div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;</div><div class="line"><a name="l04073"></a><span class="lineno"><a class="line" href="url_8h.html#a82de17e216c4ffbafc29719bcf3b1d9a"> 4073</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a82de17e216c4ffbafc29719bcf3b1d9a">Curl_setup_conn</a>(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;                         <span class="keywordtype">bool</span> *protocol_done)</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;{</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a> = conn-&gt;<a class="code" href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">data</a>;</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <a class="code" href="progress_8c.html#a1344967836d86ae13b5739ed0a6e6916">Curl_pgrsTime</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aab1af6a1076026a121c9f3bcefbe31079">TIMER_NAMELOOKUP</a>);</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a3bfbbdae2857443d0580fc5b5b4a0a5b">PROTOPT_NONETWORK</a>) {</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="comment">/* nothing to setup when not using a network */</span></div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;    *protocol_done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  }</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;  *protocol_done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* default to not done */</span></div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  <span class="comment">/* set proxy_connect_closed to false unconditionally already here since it</span></div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<span class="comment">     is used strictly to provide extra information to a parent function in the</span></div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;<span class="comment">     case of proxy CONNECT failures and we must make sure we don&#39;t have it</span></div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;<span class="comment">     lingering set from a previous invoke */</span></div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a36bae112580758d107fbe6bb465f6d0c">proxy_connect_closed</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;<span class="comment">   * Set user-agent. Used for HTTP, but since we can attempt to tunnel</span></div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;<span class="comment">   * basically anything through a http proxy we can&#39;t limit this based on</span></div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;<span class="comment">   * protocol.</span></div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2523615707384ca20d7db90cf57e504c">STRING_USERAGENT</a>]) {</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;    <a class="code" href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a>(conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ad0d3b107dbf2e7d40f2680e40498f1f3">uagent</a>);</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ad0d3b107dbf2e7d40f2680e40498f1f3">uagent</a> =</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <a class="code" href="curl__printf_8h.html#a3e3dfee99c81f563d18ef4626d8886e1">aprintf</a>(<span class="stringliteral">&quot;User-Agent: %s\r\n&quot;</span>, <a class="code" href="structdata.html">data</a>-&gt;set.str[<a class="code" href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2523615707384ca20d7db90cf57e504c">STRING_USERAGENT</a>]);</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <span class="keywordflow">if</span>(!conn-&gt;<a class="code" href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">allocptr</a>.<a class="code" href="structconnectdata_1_1dynamically__allocated__data.html#ad0d3b107dbf2e7d40f2680e40498f1f3">uagent</a>)</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  }</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;req.headerbytecount = 0;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;<span class="preprocessor">#ifdef CURL_DO_LINEEND_CONV</span></div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;state.crlf_conversions = 0; <span class="comment">/* reset CRLF conversion counter */</span></div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CURL_DO_LINEEND_CONV */</span><span class="preprocessor"></span></div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <span class="comment">/* set start time here for timeout purposes in the connect procedure, it</span></div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;<span class="comment">     is later set again for the progress meter purpose */</span></div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a1308a7b29dedaa74ab511798fcd9430a">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>();</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a> == conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>]) {</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a0091f833e532479d6510f72639f726ef">tcpconnect</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="connect_8c.html#a1b49073aa2d83991c63d3903e3a3d275">Curl_connecthost</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">dns_entry</a>);</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>)</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;  }</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <a class="code" href="progress_8c.html#a1344967836d86ae13b5739ed0a6e6916">Curl_pgrsTime</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aa46c5101b66124520ea017265318e48bf">TIMER_CONNECT</a>);    <span class="comment">/* we&#39;re connected already */</span></div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <a class="code" href="progress_8c.html#a1344967836d86ae13b5739ed0a6e6916">Curl_pgrsTime</a>(<a class="code" href="structdata.html">data</a>, <a class="code" href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aa2234f553d2849429bca27d7d4c898107">TIMER_APPCONNECT</a>); <span class="comment">/* we&#39;re connected already */</span></div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a0091f833e532479d6510f72639f726ef">tcpconnect</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>] = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    *protocol_done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    <a class="code" href="connect_8c.html#a4ff7d604e0d25e425486e35837faad74">Curl_updateconninfo</a>(conn, conn-&gt;<a class="code" href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">sock</a>[<a class="code" href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a>]);</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    <a class="code" href="url_8c.html#a01d74504de6da32ea1e37b2f5d371fc7">Curl_verboseconnect</a>(conn);</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  }</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  conn-&gt;<a class="code" href="structconnectdata.html#a1308a7b29dedaa74ab511798fcd9430a">now</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>(); <span class="comment">/* time this *after* the connect is done, we set</span></div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;<span class="comment">                             this here perhaps a second time */</span></div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;}</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;</div><div class="line"><a name="l04137"></a><span class="lineno"><a class="line" href="url_8h.html#a0e4c779739946094b520f729906d6e18"> 4137</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#aed7fbd02067820a27a7c58162e3b7812">Curl_connect</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> **in_connect,</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;                      <span class="keywordtype">bool</span> *asyncp,</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;                      <span class="keywordtype">bool</span> *protocol_done)</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;{</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;  *asyncp = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* assume synchronous resolves by default */</span></div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  <span class="comment">/* init the single-transfer specific data */</span></div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  <a class="code" href="url_8c.html#a6ba815ed78d02e76c51dc646ffded7dc">Curl_free_request_state</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <a class="code" href="unit1652_8c.html#a1d19b0eef3b3acd31be88886a0277c2e">memset</a>(&amp;<a class="code" href="structdata.html">data</a>-&gt;req, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_single_request.html">SingleRequest</a>));</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;req.maxdownload = -1;</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <span class="comment">/* call the stuff that needs to be called */</span></div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = create_conn(<a class="code" href="structdata.html">data</a>, in_connect, asyncp);</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>) {</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a>(*in_connect))</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      <span class="comment">/* pipelining */</span></div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;      *protocol_done = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!*asyncp) {</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      <span class="comment">/* DNS resolution is done: that&#39;s either because this is a reused</span></div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;<span class="comment">         connection, in which case DNS was unnecessary, or because DNS</span></div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;<span class="comment">         really did finish already (synch resolver/fast async resolve) */</span></div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;      <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="url_8c.html#a82de17e216c4ffbafc29719bcf3b1d9a">Curl_setup_conn</a>(*in_connect, protocol_done);</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    }</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  }</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> == <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951aeaaa9c51dc850e9dd9b052c4aa32b782">CURLE_NO_CONNECTION_AVAILABLE</a>) {</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    *in_connect = NULL;</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  }</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> &amp;&amp; *in_connect) {</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <span class="comment">/* We&#39;re not allowed to return failure with memory left allocated in the</span></div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;<span class="comment">       connectdata struct, free those here */</span></div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <a class="code" href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a>(<a class="code" href="structdata.html">data</a>, *in_connect, <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    *in_connect = NULL; <span class="comment">/* return a NULL */</span></div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  }</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a>;</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;}</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;<span class="comment"> * Curl_init_do() inits the readwrite session. This is inited each time (in</span></div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;<span class="comment"> * the DO function before the protocol-specific DO functions are invoked) for</span></div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;<span class="comment"> * a transfer, sometimes multiple times on the same Curl_easy. Make sure</span></div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;<span class="comment"> * nothing in here depends on stuff that are setup dynamically for the</span></div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;<span class="comment"> * transfer.</span></div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;<span class="comment"> * Allow this function to get called with &#39;conn&#39; set to NULL.</span></div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;</div><div class="line"><a name="l04190"></a><span class="lineno"><a class="line" href="url_8h.html#a84d25069eedf327bfd18e9960e8976c5"> 4190</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a84d25069eedf327bfd18e9960e8976c5">Curl_init_do</a>(<span class="keyword">struct</span> <a class="code" href="struct_curl__easy.html">Curl_easy</a> *<a class="code" href="structdata.html">data</a>, <span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn)</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;{</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_single_request.html">SingleRequest</a> *k = &amp;<a class="code" href="structdata.html">data</a>-&gt;req;</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="keywordflow">if</span>(conn) {</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">bits</a>.<a class="code" href="struct_connect_bits.html#a7563463d9ad94df9ed822c17786dd6a2">do_more</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* by default there&#39;s no curl_do_more() to</span></div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="comment">                                   use */</span></div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="comment">/* if the protocol used doesn&#39;t support wildcards, switch it off */</span></div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;state.wildcardmatch &amp;&amp;</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;       !(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">flags</a> &amp; <a class="code" href="urldata_8h.html#a766105b6448011146b33df92f55d2261">PROTOPT_WILDCARD</a>))</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;      <a class="code" href="structdata.html">data</a>-&gt;state.wildcardmatch = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  }</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;state.done = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* *_done() is not called yet */</span></div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;  <a class="code" href="structdata.html">data</a>-&gt;state.expect100header = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structdata.html">data</a>-&gt;set.opt_no_body)</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <span class="comment">/* in HTTP lingo, no body means using the HEAD request... */</span></div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.httpreq = <a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8aca19517adc74c705bb46cd5f505f3456">HTTPREQ_HEAD</a>;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8aca19517adc74c705bb46cd5f505f3456">HTTPREQ_HEAD</a> == <a class="code" href="structdata.html">data</a>-&gt;set.httpreq)</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    <span class="comment">/* ... but if unset there really is no perfect method that is the</span></div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;<span class="comment">       &quot;opposite&quot; of HEAD but in reality most people probably think GET</span></div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;<span class="comment">       then. The important thing is that we can&#39;t let it remain HEAD if the</span></div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;<span class="comment">       opt_no_body is set FALSE since then we&#39;ll behave wrong when getting</span></div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;<span class="comment">       HTTP. */</span></div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <a class="code" href="structdata.html">data</a>-&gt;set.httpreq = <a class="code" href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8ae4322de705c516b61756f9874183ef05">HTTPREQ_GET</a>;</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a683ae9cf88cfb47bbeeaa562dd27331b">start</a> = <a class="code" href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a>(); <span class="comment">/* start time */</span></div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a42d81b6759b5810f79c4b743288a36f5">now</a> = k-&gt;<a class="code" href="struct_single_request.html#a683ae9cf88cfb47bbeeaa562dd27331b">start</a>;   <span class="comment">/* current time is now */</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a97c471abe695b617c7695de635b49440">header</a> = <a class="code" href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* assume header */</span></div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a7bd7f9afc35050a31e496a08c5baaeb8">bytecount</a> = 0;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a9342cccc08a1a935d26085f854a4a9ef">buf</a> = <a class="code" href="structdata.html">data</a>-&gt;state.buffer;</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#afabf76ed046873a4f5a5b83735c0b9da">hbufp</a> = <a class="code" href="structdata.html">data</a>-&gt;state.headerbuff;</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  k-&gt;<a class="code" href="struct_single_request.html#a6ded6fbb86cb5457049ff225c7ee8827">ignorebody</a> = <a class="code" href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;  <a class="code" href="speedcheck_8c.html#af759bd02e473d17afdddf053e8123f0d">Curl_speedinit</a>(<a class="code" href="structdata.html">data</a>);</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;  <a class="code" href="progress_8c.html#a9458c724bbe21e16b9abf8f696a3916a">Curl_pgrsSetUploadCounter</a>(<a class="code" href="structdata.html">data</a>, 0);</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  <a class="code" href="progress_8c.html#afd65889574fb7bde6ffcec48b0d8debb">Curl_pgrsSetDownloadCounter</a>(<a class="code" href="structdata.html">data</a>, 0);</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;}</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;<span class="comment">* get_protocol_family()</span></div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;<span class="comment">* This is used to return the protocol family for a given protocol.</span></div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;<span class="comment">* Parameters:</span></div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;<span class="comment">* protocol  [in]  - A single bit protocol identifier such as HTTP or HTTPS.</span></div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;<span class="comment">* Returns the family as a single bit protocol identifier.</span></div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> get_protocol_family(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>)</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;{</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> family;</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  <span class="keywordflow">switch</span>(<a class="code" href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a>) {</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a4c4a3046bce0da437f299072f489bc02">CURLPROTO_HTTP</a>:</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a83d34123b66749720352af4bcb17a8e4">CURLPROTO_HTTPS</a>:</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    family = <a class="code" href="curl_8h.html#a4c4a3046bce0da437f299072f489bc02">CURLPROTO_HTTP</a>;</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a9ba581e59a874626d594c0f7c241d6d2">CURLPROTO_FTP</a>:</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#adef34e1e2989d3726cc20e3b5875f2f4">CURLPROTO_FTPS</a>:</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    family = <a class="code" href="curl_8h.html#a9ba581e59a874626d594c0f7c241d6d2">CURLPROTO_FTP</a>;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a9815b02ec8c789f7afcda6e4e1144d23">CURLPROTO_SCP</a>:</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    family = <a class="code" href="curl_8h.html#a9815b02ec8c789f7afcda6e4e1144d23">CURLPROTO_SCP</a>;</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a7f016ee652c822683d1f48fdbe21dbb6">CURLPROTO_SFTP</a>:</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    family = <a class="code" href="curl_8h.html#a7f016ee652c822683d1f48fdbe21dbb6">CURLPROTO_SFTP</a>;</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ab3bdc6e04b3b3af7d40f0719e2f66bf2">CURLPROTO_TELNET</a>:</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    family = <a class="code" href="curl_8h.html#ab3bdc6e04b3b3af7d40f0719e2f66bf2">CURLPROTO_TELNET</a>;</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a5588596e963ddd108786b3e331eb09e4">CURLPROTO_LDAP</a>:</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#aed470ee20e1ed4de6ca0c00708679512">CURLPROTO_LDAPS</a>:</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    family = <a class="code" href="curl_8h.html#a5588596e963ddd108786b3e331eb09e4">CURLPROTO_LDAP</a>;</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a6674b8f85b7731eb61fca98a390db4d3">CURLPROTO_DICT</a>:</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    family = <a class="code" href="curl_8h.html#a6674b8f85b7731eb61fca98a390db4d3">CURLPROTO_DICT</a>;</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ab9dc18362468a060094b6fea044e2a40">CURLPROTO_FILE</a>:</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    family = <a class="code" href="curl_8h.html#ab9dc18362468a060094b6fea044e2a40">CURLPROTO_FILE</a>;</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ae2930aaf7cffdd6b90d6e2ed9ed2f041">CURLPROTO_TFTP</a>:</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    family = <a class="code" href="curl_8h.html#ae2930aaf7cffdd6b90d6e2ed9ed2f041">CURLPROTO_TFTP</a>;</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a30d3c27b363600b6748798f8b3a1ec75">CURLPROTO_IMAP</a>:</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a2431e24f2138b8074ffe85acace52384">CURLPROTO_IMAPS</a>:</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    family = <a class="code" href="curl_8h.html#a30d3c27b363600b6748798f8b3a1ec75">CURLPROTO_IMAP</a>;</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a10d827e5e0e4d1c324f0dbc4ebe2f2b1">CURLPROTO_POP3</a>:</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a9ce81639f6e31bbaccd16bc86c7b6edb">CURLPROTO_POP3S</a>:</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    family = <a class="code" href="curl_8h.html#a10d827e5e0e4d1c324f0dbc4ebe2f2b1">CURLPROTO_POP3</a>;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ab0ce92d385bff5793aee465a73023072">CURLPROTO_SMTP</a>:</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ab6449e5f8491c9bf6330f54b03a5690b">CURLPROTO_SMTPS</a>:</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;      family = <a class="code" href="curl_8h.html#ab0ce92d385bff5793aee465a73023072">CURLPROTO_SMTP</a>;</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a57c429ed3dc3a2dc9ff5c6eba392b6b2">CURLPROTO_RTSP</a>:</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    family = <a class="code" href="curl_8h.html#a57c429ed3dc3a2dc9ff5c6eba392b6b2">CURLPROTO_RTSP</a>;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a697c179efe391ebeac338945bb3388ca">CURLPROTO_RTMP</a>:</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a386aada409c078d3506577dcca240beb">CURLPROTO_RTMPS</a>:</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    family = <a class="code" href="curl_8h.html#a697c179efe391ebeac338945bb3388ca">CURLPROTO_RTMP</a>;</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#ae4ca8bc935e80a76fa4a2426a5826ae5">CURLPROTO_RTMPT</a>:</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a85221b44d4bac67c49e8c53618aac8cd">CURLPROTO_RTMPTS</a>:</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    family = <a class="code" href="curl_8h.html#ae4ca8bc935e80a76fa4a2426a5826ae5">CURLPROTO_RTMPT</a>;</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a244121d9a638b2a30b892c2f350f1c7f">CURLPROTO_RTMPE</a>:</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;    family = <a class="code" href="curl_8h.html#a244121d9a638b2a30b892c2f350f1c7f">CURLPROTO_RTMPE</a>;</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a18ed920bff785f395a16861d51292d8c">CURLPROTO_RTMPTE</a>:</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    family = <a class="code" href="curl_8h.html#a18ed920bff785f395a16861d51292d8c">CURLPROTO_RTMPTE</a>;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a6b98cffae36087ef3b2ce037790261d5">CURLPROTO_GOPHER</a>:</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    family = <a class="code" href="curl_8h.html#a6b98cffae36087ef3b2ce037790261d5">CURLPROTO_GOPHER</a>;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a49028b11b0ed527a8e0be3434588ad04">CURLPROTO_SMB</a>:</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="curl_8h.html#a069e80ac9e73bf4d189c2166da0f5e34">CURLPROTO_SMBS</a>:</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    family = <a class="code" href="curl_8h.html#a49028b11b0ed527a8e0be3434588ad04">CURLPROTO_SMB</a>;</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;      family = 0;</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  }</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;  <span class="keywordflow">return</span> family;</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;}</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;<span class="comment"> * Wrapper to call functions in Curl_conncache_foreach()</span></div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;<span class="comment"> * Returns always 0.</span></div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> conn_upkeep(<span class="keyword">struct</span> <a class="code" href="structconnectdata.html">connectdata</a> *conn,</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;                       <span class="keywordtype">void</span> *param)</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;{</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;  <span class="comment">/* Param is unused. */</span></div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;  (void)param;</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;  <span class="keywordflow">if</span>(conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a01bbf75a1e8f567107214c1509439b72">connection_check</a>) {</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <span class="comment">/* Do a protocol-specific keepalive check on the connection. */</span></div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    conn-&gt;<a class="code" href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">handler</a>-&gt;<a class="code" href="struct_curl__handler.html#a01bbf75a1e8f567107214c1509439b72">connection_check</a>(conn, <a class="code" href="urldata_8h.html#ad7ac61834c3bfb1a509fdb5d4d7edc17">CONNCHECK_KEEPALIVE</a>);</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;  }</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  <span class="keywordflow">return</span> 0; <span class="comment">/* continue iteration */</span></div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;}</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;</div><div class="line"><a name="l04366"></a><span class="lineno"><a class="line" href="url_8h.html#a036cbcdd88b8a8caa727b6b292e6d6aa"> 4366</a></span>&#160;<a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> <a class="code" href="url_8c.html#a036cbcdd88b8a8caa727b6b292e6d6aa">Curl_upkeep</a>(<span class="keyword">struct</span> <a class="code" href="structconncache.html">conncache</a> *conn_cache,</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;                          <span class="keywordtype">void</span> *<a class="code" href="structdata.html">data</a>)</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;{</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  <span class="comment">/* Loop over every connection and make connection alive. */</span></div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  <a class="code" href="conncache_8c.html#a4cf7fa1d5e3a258637b7a42b253a4602">Curl_conncache_foreach</a>(<a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;                         conn_cache,</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;                         <a class="code" href="structdata.html">data</a>,</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;                         conn_upkeep);</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;}</div><div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_ab315df4d7a2183c40c2bf882c09e3832"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#ab315df4d7a2183c40c2bf882c09e3832">connectdata::dynamically_allocated_data::rangeline</a></div><div class="ttdeci">char * rangeline</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00931">urldata.h:931</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00130">curl_memory.h:130</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aaa7a948caaac0addf8754794663f48b1">CURLE_OPERATION_TIMEDOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00498">curl.h:498</a></div></div>
<div class="ttc" id="netrc_8c_html_af8e8930eff90efae86fbaf43e5e32e3c"><div class="ttname"><a href="netrc_8c.html#af8e8930eff90efae86fbaf43e5e32e3c">Curl_parsenetrc</a></div><div class="ttdeci">int Curl_parsenetrc(const char *host, char **loginp, char **passwordp, bool *login_changed, bool *password_changed, char *netrcfile)</div><div class="ttdef"><b>Definition:</b> <a href="netrc_8c_source.html#l00053">netrc.c:53</a></div></div>
<div class="ttc" id="struct_connect_bits_html_ad6024fcc7a2aefd8d8d1359f9ae7955d"><div class="ttname"><a href="struct_connect_bits.html#ad6024fcc7a2aefd8d8d1359f9ae7955d">ConnectBits::proxy</a></div><div class="ttdeci">bool proxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00387">urldata.h:387</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ad09d0102a75633a97e1f58be1abaf630">CURLE_COULDNT_RESOLVE_HOST</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00465">curl.h:465</a></div></div>
<div class="ttc" id="url_8c_html_aed7fbd02067820a27a7c58162e3b7812"><div class="ttname"><a href="url_8c.html#aed7fbd02067820a27a7c58162e3b7812">Curl_connect</a></div><div class="ttdeci">CURLcode Curl_connect(struct Curl_easy *data, struct connectdata **in_connect, bool *asyncp, bool *protocol_done)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l04137">url.c:4137</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_ad820faf61489113ffbe96f23040c02a2"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#ad820faf61489113ffbe96f23040c02a2">connectdata::dynamically_allocated_data::te</a></div><div class="ttdeci">char * te</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00936">urldata.h:936</a></div></div>
<div class="ttc" id="structconnectdata_html_ab6f11cf5c5bc549e9f9af12fc65e2e23"><div class="ttname"><a href="structconnectdata.html#ab6f11cf5c5bc549e9f9af12fc65e2e23">connectdata::ssl</a></div><div class="ttdeci">struct ssl_connect_data ssl[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00885">urldata.h:885</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa6476c4f5049fba21d2f70691ad1a2513"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa6476c4f5049fba21d2f70691ad1a2513">STRING_KEY_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01412">urldata.h:1412</a></div></div>
<div class="ttc" id="curl_8h_html_adef34e1e2989d3726cc20e3b5875f2f4"><div class="ttname"><a href="curl_8h.html#adef34e1e2989d3726cc20e3b5875f2f4">CURLPROTO_FTPS</a></div><div class="ttdeci">#define CURLPROTO_FTPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00868">curl.h:868</a></div></div>
<div class="ttc" id="urldata_8h_html_aed268b90593d1d852e7468aca80e7656"><div class="ttname"><a href="urldata_8h.html#aed268b90593d1d852e7468aca80e7656">PROTOPT_ALPN_NPN</a></div><div class="ttdeci">#define PROTOPT_ALPN_NPN</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00721">urldata.h:721</a></div></div>
<div class="ttc" id="urlapi-int_8h_html_ac1c52efdd487ad52d2eaebc4963c5616"><div class="ttname"><a href="urlapi-int_8h.html#ac1c52efdd487ad52d2eaebc4963c5616">MAX_SCHEME_LEN</a></div><div class="ttdeci">#define MAX_SCHEME_LEN</div><div class="ttdef"><b>Definition:</b> <a href="urlapi-int_8h_source.html#l00027">urlapi-int.h:27</a></div></div>
<div class="ttc" id="structconnectdata_html_a1308a7b29dedaa74ab511798fcd9430a"><div class="ttname"><a href="structconnectdata.html#a1308a7b29dedaa74ab511798fcd9430a">connectdata::now</a></div><div class="ttdeci">struct curltime now</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00872">urldata.h:872</a></div></div>
<div class="ttc" id="structconnectdata_html_a6f14f579b08c62c8114a72b487e9cedf"><div class="ttname"><a href="structconnectdata.html#a6f14f579b08c62c8114a72b487e9cedf">connectdata::recv_pipe</a></div><div class="ttdeci">struct curl_llist recv_pipe</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00965">urldata.h:965</a></div></div>
<div class="ttc" id="url_8h_html_a5eef24a1090105370832043771d44f1e"><div class="ttname"><a href="url_8h.html#a5eef24a1090105370832043771d44f1e">CONNECT_FIRSTSOCKET_PROXY_SSL</a></div><div class="ttdeci">#define CONNECT_FIRSTSOCKET_PROXY_SSL()</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00103">url.h:103</a></div></div>
<div class="ttc" id="ftp_8c_html_a77812d4945cd21094debbd06962f0f01"><div class="ttname"><a href="ftp_8c.html#a77812d4945cd21094debbd06962f0f01">state</a></div><div class="ttdeci">#define state(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="ftp_8c_source.html#l00101">ftp.c:101</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa1611f82294e0cf5db945e4111916617e"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa1611f82294e0cf5db945e4111916617e">STRING_KEY_PASSWD_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01414">urldata.h:1414</a></div></div>
<div class="ttc" id="vtls_8c_html_a20030f6c13c9de65950bb8cac1bfb0f9"><div class="ttname"><a href="vtls_8c.html#a20030f6c13c9de65950bb8cac1bfb0f9">Curl_ssl_config_matches</a></div><div class="ttdeci">bool Curl_ssl_config_matches(struct ssl_primary_config *data, struct ssl_primary_config *needle)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8c_source.html#l00086">vtls.c:86</a></div></div>
<div class="ttc" id="conncache_8c_html_a66aa5886350f9fb8c866979282485de4"><div class="ttname"><a href="conncache_8c.html#a66aa5886350f9fb8c866979282485de4">Curl_conncache_add_conn</a></div><div class="ttdeci">CURLcode Curl_conncache_add_conn(struct conncache *connc, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00261">conncache.c:261</a></div></div>
<div class="ttc" id="curl_8h_html_a4c4a3046bce0da437f299072f489bc02"><div class="ttname"><a href="curl_8h.html#a4c4a3046bce0da437f299072f489bc02">CURLPROTO_HTTP</a></div><div class="ttdeci">#define CURLPROTO_HTTP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00865">curl.h:865</a></div></div>
<div class="ttc" id="curl_8h_html_ab9dc18362468a060094b6fea044e2a40"><div class="ttname"><a href="curl_8h.html#ab9dc18362468a060094b6fea044e2a40">CURLPROTO_FILE</a></div><div class="ttdeci">#define CURLPROTO_FILE</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00875">curl.h:875</a></div></div>
<div class="ttc" id="formdata_8h_html"><div class="ttname"><a href="formdata_8h.html">formdata.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa13ce3d8a8fd7fde8f6a500c5c0d6643a"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa13ce3d8a8fd7fde8f6a500c5c0d6643a">STRING_NETRC_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01418">urldata.h:1418</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a7a7b20d08be448324d83ed41df90adfb"><div class="ttname"><a href="struct_connect_bits.html#a7a7b20d08be448324d83ed41df90adfb">ConnectBits::httpproxy</a></div><div class="ttdeci">bool httpproxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00388">urldata.h:388</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fadc1a0a246e25b592ea4f467152a5ad26"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadc1a0a246e25b592ea4f467152a5ad26">STRING_SSL_CAFILE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01428">urldata.h:1428</a></div></div>
<div class="ttc" id="curl_8h_html_a9815b02ec8c789f7afcda6e4e1144d23"><div class="ttname"><a href="curl_8h.html#a9815b02ec8c789f7afcda6e4e1144d23">CURLPROTO_SCP</a></div><div class="ttdeci">#define CURLPROTO_SCP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00869">curl.h:869</a></div></div>
<div class="ttc" id="share_8h_html"><div class="ttname"><a href="share_8h.html">share.h</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a23eb9a47b3d5c0793a69301a1f3dbebb"><div class="ttname"><a href="struct_curl__handler.html#a23eb9a47b3d5c0793a69301a1f3dbebb">Curl_handler::connect_it</a></div><div class="ttdeci">CURLcode(* connect_it)(struct connectdata *, bool *done)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00650">urldata.h:650</a></div></div>
<div class="ttc" id="url_8c_html_aa4332af3100a3a9ce3a2ba11e4bfddab"><div class="ttname"><a href="url_8c.html#aa4332af3100a3a9ce3a2ba11e4bfddab">Curl_open</a></div><div class="ttdeci">CURLcode Curl_open(struct Curl_easy **curl)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00558">url.c:558</a></div></div>
<div class="ttc" id="structconnectdata_html_a9312f162d29fe7f59bc2b5dbeda85d9d"><div class="ttname"><a href="structconnectdata.html#a9312f162d29fe7f59bc2b5dbeda85d9d">connectdata::bits</a></div><div class="ttdeci">struct ConnectBits bits</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00894">urldata.h:894</a></div></div>
<div class="ttc" id="urlapi-int_8h_html_ae78d47dea8b3c5ad97e65a720c65cd65"><div class="ttname"><a href="urlapi-int_8h.html#ae78d47dea8b3c5ad97e65a720c65cd65">Curl_is_absolute_url</a></div><div class="ttdeci">bool Curl_is_absolute_url(const char *url, char *scheme, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l00232">urlapi.c:232</a></div></div>
<div class="ttc" id="struct_connect_bits_html_ae55bdf35c39d2f5556e9ea5576b9b92e"><div class="ttname"><a href="struct_connect_bits.html#ae55bdf35c39d2f5556e9ea5576b9b92e">ConnectBits::conn_to_host</a></div><div class="ttdeci">bool conn_to_host</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00383">urldata.h:383</a></div></div>
<div class="ttc" id="escape_8c_html_a11aa4921a19102059a1d94e2be15477a"><div class="ttname"><a href="escape_8c.html#a11aa4921a19102059a1d94e2be15477a">Curl_urldecode</a></div><div class="ttdeci">CURLcode Curl_urldecode(struct Curl_easy *data, const char *string, size_t length, char **ostring, size_t *olen, bool reject_ctrl)</div><div class="ttdef"><b>Definition:</b> <a href="escape_8c_source.html#l00147">escape.c:147</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fae9cc7aa1c8238fbf1bb7d1d105079d05"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae9cc7aa1c8238fbf1bb7d1d105079d05">STRING_PROXYUSERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01446">urldata.h:1446</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1deaac4dd71b6c5300cd470ad231634337b3"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deaac4dd71b6c5300cd470ad231634337b3">CURLUE_NO_USER</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00042">urlapi.h:42</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0aa65f048eb8c632e6334527e64e9424">STRING_PRE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01421">urldata.h:1421</a></div></div>
<div class="ttc" id="structprunedead_html_a86c03d3e9e41d964096a512053202d40"><div class="ttname"><a href="structprunedead.html#a86c03d3e9e41d964096a512053202d40">prunedead::data</a></div><div class="ttdeci">struct Curl_easy * data</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00988">url.c:988</a></div></div>
<div class="ttc" id="url_8c_html_ab7f9231aaae49536ceb7c7ea5431f6de"><div class="ttname"><a href="url_8c.html#ab7f9231aaae49536ceb7c7ea5431f6de">Curl_removeHandleFromPipeline</a></div><div class="ttdeci">int Curl_removeHandleFromPipeline(struct Curl_easy *handle, struct curl_llist *pipeline)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00855">url.c:855</a></div></div>
<div class="ttc" id="proto_8d_html_a454d355bda85162423424da4a79fd517"><div class="ttname"><a href="proto_8d.html#a454d355bda85162423424da4a79fd517">protocols</a></div><div class="ttdeci">Long are comma and are each a protocol name or optionally prefixed by zero or more modifiers.Available modifiers removing it from the list of protocols already permitted..TP.though subject to later modification by subsequent entries in the comma separated list..RE.IP For but disables ftps.TP.B proto http only enables http and https.TP.B https also only enables http and https.RE Unknown protocols produce a warning.This allows scripts to safely rely on being able to disable potentially dangerous protocols</div><div class="ttdef"><b>Definition:</b> <a href="proto_8d_source.html#l00034">proto.d:34</a></div></div>
<div class="ttc" id="curl_8h_html_a85eed180d156ca929d85f3173667f23c"><div class="ttname"><a href="curl_8h.html#a85eed180d156ca929d85f3173667f23c">CURLPROTO_ALL</a></div><div class="ttdeci">#define CURLPROTO_ALL</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00893">curl.h:893</a></div></div>
<div class="ttc" id="curl_8h_html_a49028b11b0ed527a8e0be3434588ad04"><div class="ttname"><a href="curl_8h.html#a49028b11b0ed527a8e0be3434588ad04">CURLPROTO_SMB</a></div><div class="ttdeci">#define CURLPROTO_SMB</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00891">curl.h:891</a></div></div>
<div class="ttc" id="http__ntlm_8h_html"><div class="ttname"><a href="http__ntlm_8h.html">http_ntlm.h</a></div></div>
<div class="ttc" id="struct_curl__easy_html"><div class="ttname"><a href="struct_curl__easy.html">Curl_easy</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01755">urldata.h:1755</a></div></div>
<div class="ttc" id="ftp_8h_html_ad68713f9a78b1d9e9eeec5ad478a3955a99eba1414ed72de04dca8f1914a90b9a"><div class="ttname"><a href="ftp_8h.html#ad68713f9a78b1d9e9eeec5ad478a3955a99eba1414ed72de04dca8f1914a90b9a">FTPFILE_MULTICWD</a></div><div class="ttdef"><b>Definition:</b> <a href="ftp_8h_source.html#l00094">ftp.h:94</a></div></div>
<div class="ttc" id="urlapi_8h_html_a41c5e8b4caf610a0984ef4473ca4163e"><div class="ttname"><a href="urlapi_8h.html#a41c5e8b4caf610a0984ef4473ca4163e">curl_url_cleanup</a></div><div class="ttdeci">CURL_EXTERN void curl_url_cleanup(CURLU *handle)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l00884">urlapi.c:884</a></div></div>
<div class="ttc" id="structconnectbundle_html"><div class="ttname"><a href="structconnectbundle.html">connectbundle</a></div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00046">conncache.h:46</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fab536dc8f6b783dc6aa20656b47fa47b6"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fab536dc8f6b783dc6aa20656b47fa47b6">STRING_SSL_CRLFILE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01439">urldata.h:1439</a></div></div>
<div class="ttc" id="url_8c_html_a82de17e216c4ffbafc29719bcf3b1d9a"><div class="ttname"><a href="url_8c.html#a82de17e216c4ffbafc29719bcf3b1d9a">Curl_setup_conn</a></div><div class="ttdeci">CURLcode Curl_setup_conn(struct connectdata *conn, bool *protocol_done)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l04073">url.c:4073</a></div></div>
<div class="ttc" id="conncache_8h_html"><div class="ttname"><a href="conncache_8h.html">conncache.h</a></div></div>
<div class="ttc" id="curl_8h_html_a71a1fde704d583a1f5dc57f77f1e957b"><div class="ttname"><a href="curl_8h.html#a71a1fde704d583a1f5dc57f77f1e957b">CURLAUTH_BASIC</a></div><div class="ttdeci">#define CURLAUTH_BASIC</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00706">curl.h:706</a></div></div>
<div class="ttc" id="structprunedead_html_a646a49d50b4dcb69cf38ec8f9dcf20a4"><div class="ttname"><a href="structprunedead.html#a646a49d50b4dcb69cf38ec8f9dcf20a4">prunedead::extracted</a></div><div class="ttdeci">struct connectdata * extracted</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00989">url.c:989</a></div></div>
<div class="ttc" id="strcase_8h_html"><div class="ttname"><a href="strcase_8h.html">strcase.h</a></div></div>
<div class="ttc" id="structconnectdata_html_aec2de2220c36ec447f6101e85bf0a52b"><div class="ttname"><a href="structconnectdata.html#aec2de2220c36ec447f6101e85bf0a52b">connectdata::recv</a></div><div class="ttdeci">Curl_recv * recv[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00879">urldata.h:879</a></div></div>
<div class="ttc" id="http2_8h_html_ab44413d5f5cf5d245165f53c86b8bcb1"><div class="ttname"><a href="http2_8h.html#ab44413d5f5cf5d245165f53c86b8bcb1">Curl_http2_init_userset</a></div><div class="ttdeci">#define Curl_http2_init_userset(x)</div><div class="ttdef"><b>Definition:</b> <a href="http2_8h_source.html#l00074">http2.h:74</a></div></div>
<div class="ttc" id="progress_8c_html_a9458c724bbe21e16b9abf8f696a3916a"><div class="ttname"><a href="progress_8c.html#a9458c724bbe21e16b9abf8f696a3916a">Curl_pgrsSetUploadCounter</a></div><div class="ttdeci">void Curl_pgrsSetUploadCounter(struct Curl_easy *data, curl_off_t size)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00336">progress.c:336</a></div></div>
<div class="ttc" id="connect_8h_html_a0f98be540dd5a5f56c9ec98dc2489661"><div class="ttname"><a href="connect_8h.html#a0f98be540dd5a5f56c9ec98dc2489661">connclose</a></div><div class="ttdeci">#define connclose(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8h_source.html#l00145">connect.h:145</a></div></div>
<div class="ttc" id="curl_8h_html_a6674b8f85b7731eb61fca98a390db4d3"><div class="ttname"><a href="curl_8h.html#a6674b8f85b7731eb61fca98a390db4d3">CURLPROTO_DICT</a></div><div class="ttdeci">#define CURLPROTO_DICT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00874">curl.h:874</a></div></div>
<div class="ttc" id="hostip_8c_html_a77525441d6420606360f8430fa9c15ea"><div class="ttname"><a href="hostip_8c.html#a77525441d6420606360f8430fa9c15ea">Curl_hostcache_prune</a></div><div class="ttdeci">void Curl_hostcache_prune(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8c_source.html#l00263">hostip.c:263</a></div></div>
<div class="ttc" id="noproxy_8d_html_a62c6b6923733b98c3d4f01e07d04d958"><div class="ttname"><a href="noproxy_8d.html#a62c6b6923733b98c3d4f01e07d04d958">proxy</a></div><div class="ttdeci">Long if one is specified.The only wildcard is a single which matches all and effectively disables the proxy.Each name in this list is matched as either a domain which contains the or the hostname itself.For local.com would match local.local.and www.local.but not www.notlocal.com.This option overrides the environment variables that disable the proxy.If there s an environment variable disabling a proxy</div><div class="ttdef"><b>Definition:</b> <a href="noproxy_8d_source.html#l00006">noproxy.d:6</a></div></div>
<div class="ttc" id="url_8c_html_a5ea73e21fa360f1bc61d59806bdc801f"><div class="ttname"><a href="url_8c.html#a5ea73e21fa360f1bc61d59806bdc801f">Curl_builtin_scheme</a></div><div class="ttdeci">const struct Curl_handler * Curl_builtin_scheme(const char *scheme)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01960">url.c:1960</a></div></div>
<div class="ttc" id="pipeline_8c_html_ad10d0db7abba34ad41cd6a26eb8e23e9"><div class="ttname"><a href="pipeline_8c.html#ad10d0db7abba34ad41cd6a26eb8e23e9">Curl_pipeline_site_blacklisted</a></div><div class="ttdeci">bool Curl_pipeline_site_blacklisted(struct Curl_easy *handle, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00165">pipeline.c:165</a></div></div>
<div class="ttc" id="wildcard_8c_html_a32768c48565988ec546842a3c4c9c433"><div class="ttname"><a href="wildcard_8c.html#a32768c48565988ec546842a3c4c9c433">Curl_wildcard_dtor</a></div><div class="ttdeci">void Curl_wildcard_dtor(struct WildcardData *wc)</div><div class="ttdef"><b>Definition:</b> <a href="wildcard_8c_source.html#l00047">wildcard.c:47</a></div></div>
<div class="ttc" id="structcurl__slist_html"><div class="ttname"><a href="structcurl__slist.html">curl_slist</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02394">curl.h:2394</a></div></div>
<div class="ttc" id="llist_8h_html_aa554fb8bf2df8d7e12ffe5beea361548"><div class="ttname"><a href="llist_8h.html#aa554fb8bf2df8d7e12ffe5beea361548">curl_llist_dtor</a></div><div class="ttdeci">void(* curl_llist_dtor)(void *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00028">llist.h:28</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a6fbb8f80996d3921279d0314179a4958"><div class="ttname"><a href="struct_connect_bits.html#a6fbb8f80996d3921279d0314179a4958">ConnectBits::protoconnstart</a></div><div class="ttdeci">bool protoconnstart</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00400">urldata.h:400</a></div></div>
<div class="ttc" id="curl_8h_html_a30d3c27b363600b6748798f8b3a1ec75"><div class="ttname"><a href="curl_8h.html#a30d3c27b363600b6748798f8b3a1ec75">CURLPROTO_IMAP</a></div><div class="ttdeci">#define CURLPROTO_IMAP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00877">curl.h:877</a></div></div>
<div class="ttc" id="struct_connect_bits_html_ae84bd59ece78f702a2fcac5438edf7e5"><div class="ttname"><a href="struct_connect_bits.html#ae84bd59ece78f702a2fcac5438edf7e5">ConnectBits::conn_to_port</a></div><div class="ttdeci">bool conn_to_port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00385">urldata.h:385</a></div></div>
<div class="ttc" id="structurlpieces_html_a0b14afc0ca57363a1a0e2b8026809e28"><div class="ttname"><a href="structurlpieces.html#a0b14afc0ca57363a1a0e2b8026809e28">urlpieces::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01233">urldata.h:1233</a></div></div>
<div class="ttc" id="struct_curl__ssl_html"><div class="ttname"><a href="struct_curl__ssl.html">Curl_ssl</a></div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00036">vtls.h:36</a></div></div>
<div class="ttc" id="ssh_8h_html"><div class="ttname"><a href="ssh_8h.html">ssh.h</a></div></div>
<div class="ttc" id="curl_8h_html_a0ea2c7f23828ae93fb4eb9ab701bf6feac29aeaf619308f144ae4c72526fbdb95"><div class="ttname"><a href="curl_8h.html#a0ea2c7f23828ae93fb4eb9ab701bf6feac29aeaf619308f144ae4c72526fbdb95">CURL_LOCK_ACCESS_SINGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02619">curl.h:2619</a></div></div>
<div class="ttc" id="structproxy__info_html_ae2cc9c2eb5c4ea0c4b92bf067e391bdc"><div class="ttname"><a href="structproxy__info.html#ae2cc9c2eb5c4ea0c4b92bf067e391bdc">proxy_info::host</a></div><div class="ttdeci">struct hostname host</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00752">urldata.h:752</a></div></div>
<div class="ttc" id="strtok_8h_html"><div class="ttname"><a href="strtok_8h.html">strtok.h</a></div></div>
<div class="ttc" id="progress_8c_html_a1344967836d86ae13b5739ed0a6e6916"><div class="ttname"><a href="progress_8c.html#a1344967836d86ae13b5739ed0a6e6916">Curl_pgrsTime</a></div><div class="ttdeci">void Curl_pgrsTime(struct Curl_easy *data, timerid timer)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00166">progress.c:166</a></div></div>
<div class="ttc" id="urldata_8h_html_a56b23efdd8d04b0179b52224a251bcb7"><div class="ttname"><a href="urldata_8h.html#a56b23efdd8d04b0179b52224a251bcb7">FIRSTSOCKET</a></div><div class="ttdeci">#define FIRSTSOCKET</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00480">urldata.h:480</a></div></div>
<div class="ttc" id="structconnectdata_html_a7ab37820430680c72aa59e5ce65167e2"><div class="ttname"><a href="structconnectdata.html#a7ab37820430680c72aa59e5ce65167e2">connectdata::send_pipe</a></div><div class="ttdeci">struct curl_llist send_pipe</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00963">urldata.h:963</a></div></div>
<div class="ttc" id="socks_8c_html_af99ed172552352b248657b6fe870f513"><div class="ttname"><a href="socks_8c.html#af99ed172552352b248657b6fe870f513">Curl_SOCKS5</a></div><div class="ttdeci">CURLcode Curl_SOCKS5(const char *proxy_user, const char *proxy_password, const char *hostname, int remote_port, int sockindex, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="socks_8c_source.html#l00352">socks.c:352</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba46b928429eaa2b25f385a437ba6f8146"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba46b928429eaa2b25f385a437ba6f8146">CURLUPART_OPTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00056">urlapi.h:56</a></div></div>
<div class="ttc" id="structproxy__info_html"><div class="ttname"><a href="structproxy__info.html">proxy_info</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00751">urldata.h:751</a></div></div>
<div class="ttc" id="structurlpieces_html_ae4d8065c09a9c92e17a42d0c32435846"><div class="ttname"><a href="structurlpieces.html#ae4d8065c09a9c92e17a42d0c32435846">urlpieces::scheme</a></div><div class="ttdeci">char * scheme</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01230">urldata.h:1230</a></div></div>
<div class="ttc" id="conncache_8c_html_a834c39c1ab2afd26acebef4483a6941d"><div class="ttname"><a href="conncache_8c.html#a834c39c1ab2afd26acebef4483a6941d">Curl_conncache_extract_oldest</a></div><div class="ttdeci">struct connectdata * Curl_conncache_extract_oldest(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00503">conncache.c:503</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fabf50bfe61fa3dc11954f35f0b84217d4"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fabf50bfe61fa3dc11954f35f0b84217d4">STRING_SSL_RANDOM_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01436">urldata.h:1436</a></div></div>
<div class="ttc" id="conncache_8h_html_a48bae3f5af3b4a54911dafb93934877c"><div class="ttname"><a href="conncache_8h.html#a48bae3f5af3b4a54911dafb93934877c">BUNDLE_UNKNOWN</a></div><div class="ttdeci">#define BUNDLE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00042">conncache.h:42</a></div></div>
<div class="ttc" id="smtp_8h_html_a49cb158d5b0a8b16f9e483ac8a3b5425"><div class="ttname"><a href="smtp_8h.html#a49cb158d5b0a8b16f9e483ac8a3b5425">Curl_handler_smtps</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_smtps</div></div>
<div class="ttc" id="curl_8h_html_abc5c98fcc1211af2b80116dd6e0a035dabf20980d1f881523f95f620ddcce5667"><div class="ttname"><a href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035dabf20980d1f881523f95f620ddcce5667">CURL_HTTP_VERSION_1_0</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01925">curl.h:1925</a></div></div>
<div class="ttc" id="curl_8h_html_ada0bbe252b7b370ef4e135b93b2fe71e"><div class="ttname"><a href="curl_8h.html#ada0bbe252b7b370ef4e135b93b2fe71e">CURL_SOCKET_BAD</a></div><div class="ttdeci">#define CURL_SOCKET_BAD</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00131">curl.h:131</a></div></div>
<div class="ttc" id="struct_curl__handler_html_abb2d7a8d383e24158ffc1c2cd73350d1"><div class="ttname"><a href="struct_curl__handler.html#abb2d7a8d383e24158ffc1c2cd73350d1">Curl_handler::disconnect</a></div><div class="ttdeci">CURLcode(* disconnect)(struct connectdata *, bool dead_connection)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00686">urldata.h:686</a></div></div>
<div class="ttc" id="struct_single_request_html_a42d81b6759b5810f79c4b743288a36f5"><div class="ttname"><a href="struct_single_request.html#a42d81b6759b5810f79c4b743288a36f5">SingleRequest::now</a></div><div class="ttdeci">struct curltime now</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00552">urldata.h:552</a></div></div>
<div class="ttc" id="struct_curl__handler_html"><div class="ttname"><a href="struct_curl__handler.html">Curl_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00628">urldata.h:628</a></div></div>
<div class="ttc" id="http__proxy_8h_html"><div class="ttname"><a href="http__proxy_8h.html">http_proxy.h</a></div></div>
<div class="ttc" id="structssl__primary__config_html_a7b1be18084f5fa42645c28a34b75d166"><div class="ttname"><a href="structssl__primary__config.html#a7b1be18084f5fa42645c28a34b75d166">ssl_primary_config::verifypeer</a></div><div class="ttdeci">bool verifypeer</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00212">urldata.h:212</a></div></div>
<div class="ttc" id="url_8c_html_a3cd816b52d9e4d2393ce905dd98e57a9"><div class="ttname"><a href="url_8c.html#a3cd816b52d9e4d2393ce905dd98e57a9">Curl_disconnect</a></div><div class="ttdeci">CURLcode Curl_disconnect(struct Curl_easy *data, struct connectdata *conn, bool dead_connection)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00751">url.c:751</a></div></div>
<div class="ttc" id="urlapi_8h_html_ad93f0f34e1e550dc6c45ecddccfc0efb"><div class="ttname"><a href="urlapi_8h.html#ad93f0f34e1e550dc6c45ecddccfc0efb">CURLU_DISALLOW_USER</a></div><div class="ttdeci">#define CURLU_DISALLOW_USER</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00072">urlapi.h:72</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8">curl_proxytype</a></div><div class="ttdeci">curl_proxytype</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00672">curl.h:672</a></div></div>
<div class="ttc" id="structurlpieces_html_aa276777b3ca3e36339040dc5ba738f56"><div class="ttname"><a href="structurlpieces.html#aa276777b3ca3e36339040dc5ba738f56">urlpieces::hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01231">urldata.h:1231</a></div></div>
<div class="ttc" id="mime_8c_html_a3295a1b4557da56cd25b0a5217183118"><div class="ttname"><a href="mime_8c.html#a3295a1b4557da56cd25b0a5217183118">Curl_mime_cleanpart</a></div><div class="ttdeci">void Curl_mime_cleanpart(curl_mimepart *part)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01100">mime.c:1100</a></div></div>
<div class="ttc" id="structconnectdata_html_a81aa77a0068d3b0b1bd095044e56cd21"><div class="ttname"><a href="structconnectdata.html#a81aa77a0068d3b0b1bd095044e56cd21">connectdata::hostname_resolve</a></div><div class="ttdeci">char * hostname_resolve</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00831">urldata.h:831</a></div></div>
<div class="ttc" id="connect_8h_html"><div class="ttname"><a href="connect_8h.html">connect.h</a></div></div>
<div class="ttc" id="sendf_8h_html_ae8e06000059e436c9c404603126718d6"><div class="ttname"><a href="sendf_8h.html#ae8e06000059e436c9c404603126718d6">failf</a></div><div class="ttdeci">#define failf</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00048">sendf.h:48</a></div></div>
<div class="ttc" id="http__digest_8h_html"><div class="ttname"><a href="http__digest_8h.html">http_digest.h</a></div></div>
<div class="ttc" id="structcurl__slist_html_a5fe4d926491a1c9b8b9a73c40505f601"><div class="ttname"><a href="structcurl__slist.html#a5fe4d926491a1c9b8b9a73c40505f601">curl_slist::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02395">curl.h:2395</a></div></div>
<div class="ttc" id="conncache_8c_html_ad64ce39dcdbea0766de00a06d3fad97d"><div class="ttname"><a href="conncache_8c.html#ad64ce39dcdbea0766de00a06d3fad97d">Curl_conncache_unlock</a></div><div class="ttdeci">void Curl_conncache_unlock(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00181">conncache.c:181</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a36bae112580758d107fbe6bb465f6d0c"><div class="ttname"><a href="struct_connect_bits.html#a36bae112580758d107fbe6bb465f6d0c">ConnectBits::proxy_connect_closed</a></div><div class="ttdeci">bool proxy_connect_closed</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00430">urldata.h:430</a></div></div>
<div class="ttc" id="sendf_8h_html"><div class="ttname"><a href="sendf_8h.html">sendf.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa8fc3d85d3a83058a04dea5f29deeecb1"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa8fc3d85d3a83058a04dea5f29deeecb1">STRING_KEY_TYPE_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01415">urldata.h:1415</a></div></div>
<div class="ttc" id="curl_8h_html_a069e80ac9e73bf4d189c2166da0f5e34"><div class="ttname"><a href="curl_8h.html#a069e80ac9e73bf4d189c2166da0f5e34">CURLPROTO_SMBS</a></div><div class="ttdeci">#define CURLPROTO_SMBS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00892">curl.h:892</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1dea3cd335f8655b5ae976a00795cdde5474"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dea3cd335f8655b5ae976a00795cdde5474">CURLUE_UNSUPPORTED_SCHEME</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00036">urlapi.h:36</a></div></div>
<div class="ttc" id="progress_8h_html_abc090d144fb55d31dff488d24c46fb2aa2234f553d2849429bca27d7d4c898107"><div class="ttname"><a href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aa2234f553d2849429bca27d7d4c898107">TIMER_APPCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="progress_8h_source.html#l00034">progress.h:34</a></div></div>
<div class="ttc" id="easyif_8h_html"><div class="ttname"><a href="easyif_8h.html">easyif.h</a></div></div>
<div class="ttc" id="curl__memory_8h_html_aa3f578f8f1eaebf25b2e2313db31cb40"><div class="ttname"><a href="curl__memory_8h.html#aa3f578f8f1eaebf25b2e2313db31cb40">strdup</a></div><div class="ttdeci">#define strdup(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00122">curl_memory.h:122</a></div></div>
<div class="ttc" id="urlapi_8h_html_abfb2378e801e13033e70c3819d8afca1"><div class="ttname"><a href="urlapi_8h.html#abfb2378e801e13033e70c3819d8afca1">curl_url_get</a></div><div class="ttdeci">CURL_EXTERN CURLUcode curl_url_get(CURLU *handle, CURLUPart what, char **part, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l00920">urlapi.c:920</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa0772a3d3f064ab162af2d5392077d434"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0772a3d3f064ab162af2d5392077d434">STRING_SSL_CAFILE_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01427">urldata.h:1427</a></div></div>
<div class="ttc" id="struct_single_request_html_a6ded6fbb86cb5457049ff225c7ee8827"><div class="ttname"><a href="struct_single_request.html#a6ded6fbb86cb5457049ff225c7ee8827">SingleRequest::ignorebody</a></div><div class="ttdeci">bool ignorebody</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00591">urldata.h:591</a></div></div>
<div class="ttc" id="pipeline_8h_html"><div class="ttname"><a href="pipeline_8h.html">pipeline.h</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a95d1430b03a5f959134870f3a578eb1d"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a95d1430b03a5f959134870f3a578eb1d">CURLE_UNSUPPORTED_PROTOCOL</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00459">curl.h:459</a></div></div>
<div class="ttc" id="structconnectdata_html_ae7924587f916593e1fb682086f298ce8"><div class="ttname"><a href="structconnectdata.html#ae7924587f916593e1fb682086f298ce8">connectdata::handler</a></div><div class="ttdeci">const struct Curl_handler * handler</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00905">urldata.h:905</a></div></div>
<div class="ttc" id="structconnectdata_html_ad1a5d617e25de38754bdafb919593c32"><div class="ttname"><a href="structconnectdata.html#ad1a5d617e25de38754bdafb919593c32">connectdata::conn_to_port</a></div><div class="ttdeci">int conn_to_port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00841">urldata.h:841</a></div></div>
<div class="ttc" id="cookie_8h_html"><div class="ttname"><a href="cookie_8h.html">cookie.h</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_a23d7b88872d6ead46c978b567908d587"><div class="ttname"><a href="curl__setup__once_8h.html#a23d7b88872d6ead46c978b567908d587">DEBUGASSERT</a></div><div class="ttdeci">#define DEBUGASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00401">curl_setup_once.h:401</a></div></div>
<div class="ttc" id="gopher_8c_html_ac431e40f3cd5933591436b22f6144f5b"><div class="ttname"><a href="gopher_8c.html#ac431e40f3cd5933591436b22f6144f5b">Curl_handler_gopher</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_gopher</div><div class="ttdef"><b>Definition:</b> <a href="gopher_8c_source.html#l00053">gopher.c:53</a></div></div>
<div class="ttc" id="hostip_8h_html_ac32022a9b31aaa164578cb4d487cfc7d"><div class="ttname"><a href="hostip_8h.html#ac32022a9b31aaa164578cb4d487cfc7d">CURLRESOLV_PENDING</a></div><div class="ttdeci">#define CURLRESOLV_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00085">hostip.h:85</a></div></div>
<div class="ttc" id="unit1330_8c_html_a367d241c5c363105ee629417d1dfba75"><div class="ttname"><a href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a></div><div class="ttdeci">UNITTEST_START char * ptr</div><div class="ttdef"><b>Definition:</b> <a href="unit1330_8c_source.html#l00038">unit1330.c:38</a></div></div>
<div class="ttc" id="curl_8h_html_ab6449e5f8491c9bf6330f54b03a5690b"><div class="ttname"><a href="curl_8h.html#ab6449e5f8491c9bf6330f54b03a5690b">CURLPROTO_SMTPS</a></div><div class="ttdeci">#define CURLPROTO_SMTPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00882">curl.h:882</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="ttdeci">CURLcode</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00457">curl.h:457</a></div></div>
<div class="ttc" id="dict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="multiif_8h_html_a4ae1fb64a27264765b6a2fe5aca78830"><div class="ttname"><a href="multiif_8h.html#a4ae1fb64a27264765b6a2fe5aca78830">GETSOCK_READSOCK</a></div><div class="ttdeci">#define GETSOCK_READSOCK(x)</div><div class="ttdef"><b>Definition:</b> <a href="multiif_8h_source.html#l00051">multiif.h:51</a></div></div>
<div class="ttc" id="vtls_8h_html_a4b8227a2fd2fbf2d20147513033a8ade"><div class="ttname"><a href="vtls_8h.html#a4b8227a2fd2fbf2d20147513033a8ade">Curl_ssl_close</a></div><div class="ttdeci">#define Curl_ssl_close(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00258">vtls.h:258</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa88d3e306ecb6c0404e204831e8df7128"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa88d3e306ecb6c0404e204831e8df7128">STRING_SSL_EGDSOCKET</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01435">urldata.h:1435</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_a5baeb2599d955f02334cf910943a42b2"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#a5baeb2599d955f02334cf910943a42b2">connectdata::dynamically_allocated_data::ref</a></div><div class="ttdeci">char * ref</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00932">urldata.h:932</a></div></div>
<div class="ttc" id="curl_8h_html_a683a27d60834128dd73f863276fcb832"><div class="ttname"><a href="curl_8h.html#a683a27d60834128dd73f863276fcb832">CURL_HET_DEFAULT</a></div><div class="ttdeci">#define CURL_HET_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00805">curl.h:805</a></div></div>
<div class="ttc" id="lib_2getinfo_8c_html_aac05d1e18067264a6b4b66e515cfdaaa"><div class="ttname"><a href="lib_2getinfo_8c.html#aac05d1e18067264a6b4b66e515cfdaaa">Curl_initinfo</a></div><div class="ttdeci">CURLcode Curl_initinfo(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2getinfo_8c_source.html#l00045">getinfo.c:45</a></div></div>
<div class="ttc" id="urldata_8h_html_a5b6efddf9b0e0cb4ba0ab2da6b618c25"><div class="ttname"><a href="urldata_8h.html#a5b6efddf9b0e0cb4ba0ab2da6b618c25">MAX_CURL_PASSWORD_LENGTH</a></div><div class="ttdeci">#define MAX_CURL_PASSWORD_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01170">urldata.h:1170</a></div></div>
<div class="ttc" id="curl__ctype_8h_html_a2aaaf8c047d6343c0702bbb5de82a81b"><div class="ttname"><a href="curl__ctype_8h.html#a2aaaf8c047d6343c0702bbb5de82a81b">ISALPHA</a></div><div class="ttdeci">#define ISALPHA(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__ctype_8h_source.html#l00069">curl_ctype.h:69</a></div></div>
<div class="ttc" id="structconnectdata_html_a5bc9b1d04e8c04b6d32f31e3415d0810"><div class="ttname"><a href="structconnectdata.html#a5bc9b1d04e8c04b6d32f31e3415d0810">connectdata::dns_entry</a></div><div class="ttdeci">struct Curl_dns_entry * dns_entry</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00813">urldata.h:813</a></div></div>
<div class="ttc" id="config-dos_8h_html_ae5eea99d1a0e2512a7854acb71038197"><div class="ttname"><a href="config-dos_8h.html#ae5eea99d1a0e2512a7854acb71038197">CURL_CA_BUNDLE</a></div><div class="ttdeci">#define CURL_CA_BUNDLE</div><div class="ttdef"><b>Definition:</b> <a href="config-dos_8h_source.html#l00155">config-dos.h:155</a></div></div>
<div class="ttc" id="smtp_8c_html_a9063ebddfe08299e6248dfe21d94dbea"><div class="ttname"><a href="smtp_8c.html#a9063ebddfe08299e6248dfe21d94dbea">Curl_handler_smtp</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_smtp</div><div class="ttdef"><b>Definition:</b> <a href="smtp_8c_source.html#l00113">smtp.c:113</a></div></div>
<div class="ttc" id="url_8c_html_aa24dd517192957e12b59c39fc45f0851"><div class="ttname"><a href="url_8c.html#aa24dd517192957e12b59c39fc45f0851">Curl_protocol_getsock</a></div><div class="ttdeci">int Curl_protocol_getsock(struct connectdata *conn, curl_socket_t *socks, int numsocks)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01547">url.c:1547</a></div></div>
<div class="ttc" id="llist_8c_html_adf86d38f256b25809632d659a545c75d"><div class="ttname"><a href="llist_8c.html#adf86d38f256b25809632d659a545c75d">Curl_llist_init</a></div><div class="ttdeci">void Curl_llist_init(struct curl_llist *l, curl_llist_dtor dtor)</div><div class="ttdef"><b>Definition:</b> <a href="llist_8c_source.html#l00037">llist.c:37</a></div></div>
<div class="ttc" id="namespacedictserver_html_aeb700c49a1a229869c3b36509a6c6c32"><div class="ttname"><a href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">dictserver.rc</a></div><div class="ttdeci">def rc</div><div class="ttdef"><b>Definition:</b> <a href="dictserver_8py_source.html#l00153">dictserver.py:153</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa7b5f688f07bc6365060e0c78cb976ea8"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa7b5f688f07bc6365060e0c78cb976ea8">STRING_DEVICE</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01406">urldata.h:1406</a></div></div>
<div class="ttc" id="unit1399_8c_html_acf1e931ffa73126ce876102dc2186895"><div class="ttname"><a href="unit1399_8c.html#acf1e931ffa73126ce876102dc2186895">now</a></div><div class="ttdeci">struct curltime now</div><div class="ttdef"><b>Definition:</b> <a href="unit1399_8c_source.html#l00083">unit1399.c:83</a></div></div>
<div class="ttc" id="urldata_8h_html_a3974aaba0c9077dda7aa9ed8e2325d55"><div class="ttname"><a href="urldata_8h.html#a3974aaba0c9077dda7aa9ed8e2325d55">CURLEASY_MAGIC_NUMBER</a></div><div class="ttdeci">#define CURLEASY_MAGIC_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00153">urldata.h:153</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a01bbf75a1e8f567107214c1509439b72"><div class="ttname"><a href="struct_curl__handler.html#a01bbf75a1e8f567107214c1509439b72">Curl_handler::connection_check</a></div><div class="ttdeci">unsigned int(* connection_check)(struct connectdata *conn, unsigned int checks_to_perform)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00696">urldata.h:696</a></div></div>
<div class="ttc" id="connect_8c_html_a084a7d0729207e1c8c5a63f10e7ac815"><div class="ttname"><a href="connect_8c.html#a084a7d0729207e1c8c5a63f10e7ac815">Curl_closesocket</a></div><div class="ttdeci">int Curl_closesocket(struct connectdata *conn, curl_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l01305">connect.c:1305</a></div></div>
<div class="ttc" id="curl_8h_html_a6b98cffae36087ef3b2ce037790261d5"><div class="ttname"><a href="curl_8h.html#a6b98cffae36087ef3b2ce037790261d5">CURLPROTO_GOPHER</a></div><div class="ttdeci">#define CURLPROTO_GOPHER</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00890">curl.h:890</a></div></div>
<div class="ttc" id="components_2curl_2lib_2_file_8h_html"><div class="ttname"><a href="components_2curl_2lib_2_file_8h.html">file.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fab45988ea6bfd16d2526d8d2c60f2e688"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fab45988ea6bfd16d2526d8d2c60f2e688">STRING_KEY_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01411">urldata.h:1411</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1dea094bcca2e67eb06c2a1386a43b4b8c7f"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dea094bcca2e67eb06c2a1386a43b4b8c7f">CURLUE_NO_PASSWORD</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00043">urlapi.h:43</a></div></div>
<div class="ttc" id="urldata_8h_html_ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67"><div class="ttname"><a href="urldata_8h.html#ad606881f90e46a7ccaa95859a6fdef54ad3a119ab713f7bb6f724b72353157c67">NTLMSTATE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00297">urldata.h:297</a></div></div>
<div class="ttc" id="urldata_8h_html_ac67e77846b7b67d5808da8f1dfa2eab8aca19517adc74c705bb46cd5f505f3456"><div class="ttname"><a href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8aca19517adc74c705bb46cd5f505f3456">HTTPREQ_HEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01139">urldata.h:1139</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8ac7b9486a2097e4217185729549839549"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ac7b9486a2097e4217185729549839549">CURLPROXY_SOCKS5_HOSTNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00682">curl.h:682</a></div></div>
<div class="ttc" id="multi_8c_html_aa21e52a95b57b1ce52a02736bb0ca68c"><div class="ttname"><a href="multi_8c.html#aa21e52a95b57b1ce52a02736bb0ca68c">Curl_pipeline_wanted</a></div><div class="ttdeci">bool Curl_pipeline_wanted(const struct Curl_multi *multi, int bits)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l00811">multi.c:811</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8h_html"><div class="ttname"><a href="components_2curl_2lib_2telnet_8h.html">telnet.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a2e6cc8a072c4712d1a113c56ef37dd13"><div class="ttname"><a href="structconnectdata.html#a2e6cc8a072c4712d1a113c56ef37dd13">connectdata::tempsock</a></div><div class="ttdeci">curl_socket_t tempsock[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00876">urldata.h:876</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fac35d8d85712a31c5a27f73e91916f587"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fac35d8d85712a31c5a27f73e91916f587">STRING_USERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01443">urldata.h:1443</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ac92786e19b828c0c4a8fa5f7d6b1e01e">CURLE_NOT_BUILT_IN</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00462">curl.h:462</a></div></div>
<div class="ttc" id="multi_8h_html_a19006903930bc7552c4e74ed6b32990f"><div class="ttname"><a href="multi_8h.html#a19006903930bc7552c4e74ed6b32990f">CURLPIPE_HTTP1</a></div><div class="ttdeci">#define CURLPIPE_HTTP1</div><div class="ttdef"><b>Definition:</b> <a href="multi_8h_source.html#l00085">multi.h:85</a></div></div>
<div class="ttc" id="structconnectdata_html_a67243eae05daae35cf8e0d3a49b9b8b9"><div class="ttname"><a href="structconnectdata.html#a67243eae05daae35cf8e0d3a49b9b8b9">connectdata::tls_upgraded</a></div><div class="ttdeci">bool tls_upgraded</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00892">urldata.h:892</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951ab9b2b0dca8aa242d128640dbfde66fc6">CURLE_URL_MALFORMAT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00461">curl.h:461</a></div></div>
<div class="ttc" id="urldata_8h_html_ac1138557ffc9ee3a520805205b76daee"><div class="ttname"><a href="urldata_8h.html#ac1138557ffc9ee3a520805205b76daee">SECONDARYSOCKET</a></div><div class="ttdeci">#define SECONDARYSOCKET</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00481">urldata.h:481</a></div></div>
<div class="ttc" id="test1_8c_html_a373722f946bf9680abb4de0dfb11fa22"><div class="ttname"><a href="test1_8c.html#a373722f946bf9680abb4de0dfb11fa22">elapsed</a></div><div class="ttdeci">long elapsed(START_TIME_TYPE start_time)</div><div class="ttdef"><b>Definition:</b> <a href="test1_8c_source.html#l00191">test1.c:191</a></div></div>
<div class="ttc" id="structconnectdata_html_a91d94af5dfef86510940d658476b61cf"><div class="ttname"><a href="structconnectdata.html#a91d94af5dfef86510940d658476b61cf">connectdata::host</a></div><div class="ttdeci">struct hostname host</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00830">urldata.h:830</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a15d98c2eae880b790963d2b0d15a85dc"><div class="ttname"><a href="struct_connect_bits.html#a15d98c2eae880b790963d2b0d15a85dc">ConnectBits::tls_enable_alpn</a></div><div class="ttdeci">bool tls_enable_alpn</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00440">urldata.h:440</a></div></div>
<div class="ttc" id="urldata_8h_html_a2ea01ebd139c38e2285c7d2e17a2683fa88a671c415a487b02dbfd68cea24f98c"><div class="ttname"><a href="urldata_8h.html#a2ea01ebd139c38e2285c7d2e17a2683fa88a671c415a487b02dbfd68cea24f98c">ssl_connection_complete</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00190">urldata.h:190</a></div></div>
<div class="ttc" id="vtls_8h_html_aa47defd1c2f78f3225dfc06c638c8689"><div class="ttname"><a href="vtls_8h.html#aa47defd1c2f78f3225dfc06c638c8689">SSLSUPP_HTTPS_PROXY</a></div><div class="ttdeci">#define SSLSUPP_HTTPS_PROXY</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00033">vtls.h:33</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa2f9d38e7adfb8c879aeb94e104775336"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2f9d38e7adfb8c879aeb94e104775336">STRING_DEFAULT_PROTOCOL</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01405">urldata.h:1405</a></div></div>
<div class="ttc" id="urldata_8h_html_a02df9f52575c9e40d4f4ec7520bebe82"><div class="ttname"><a href="urldata_8h.html#a02df9f52575c9e40d4f4ec7520bebe82">LIBCURL_NAME</a></div><div class="ttdeci">#define LIBCURL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01809">urldata.h:1809</a></div></div>
<div class="ttc" id="strcase_8h_html_a4b6a8324b9a93ddfa5413308a22bfa44"><div class="ttname"><a href="strcase_8h.html#a4b6a8324b9a93ddfa5413308a22bfa44">strcasecompare</a></div><div class="ttdeci">#define strcasecompare(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8h_source.html#l00035">strcase.h:35</a></div></div>
<div class="ttc" id="curl_8h_html_a613d9e6457f36b84548cbf2006a34e14"><div class="ttname"><a href="curl_8h.html#a613d9e6457f36b84548cbf2006a34e14">curl_getenv</a></div><div class="ttdeci">CURL_EXTERN char * curl_getenv(const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="getenv_8c_source.html#l00051">getenv.c:51</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a2eb0b03d1a9de9615a291b1205969069"><div class="ttname"><a href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a></div><div class="ttdeci">#define malloc(size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00124">curl_memory.h:124</a></div></div>
<div class="ttc" id="structconnectdata_html_a7cafd86e79828b97b1c186b83d39f565"><div class="ttname"><a href="structconnectdata.html#a7cafd86e79828b97b1c186b83d39f565">connectdata::oauth_bearer</a></div><div class="ttdeci">char * oauth_bearer</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00867">urldata.h:867</a></div></div>
<div class="ttc" id="gopher_8h_html"><div class="ttname"><a href="gopher_8h.html">gopher.h</a></div></div>
<div class="ttc" id="curl_8h_html_a6e1c7ccb4abbac621636c8583e5041cb"><div class="ttname"><a href="curl_8h.html#a6e1c7ccb4abbac621636c8583e5041cb">CURLAUTH_GSSAPI</a></div><div class="ttdeci">#define CURLAUTH_GSSAPI</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00712">curl.h:712</a></div></div>
<div class="ttc" id="dict_8c_html_a1bf125e901dab15ea8ade1f426678ac4"><div class="ttname"><a href="dict_8c.html#a1bf125e901dab15ea8ade1f426678ac4">Curl_handler_dict</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_dict</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00073">dict.c:73</a></div></div>
<div class="ttc" id="tftp_8c_html_a3085f69c81389e92a386f1fbfb74940b"><div class="ttname"><a href="tftp_8c.html#a3085f69c81389e92a386f1fbfb74940b">Curl_handler_tftp</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_tftp</div><div class="ttdef"><b>Definition:</b> <a href="tftp_8c_source.html#l00169">tftp.c:169</a></div></div>
<div class="ttc" id="structhostname_html"><div class="ttname"><a href="structhostname.html">hostname</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00446">urldata.h:446</a></div></div>
<div class="ttc" id="components_2curl_2include_2curl_2_system_8h_html_a3dca40ce1e998420175eabe37246e05b"><div class="ttname"><a href="components_2curl_2include_2curl_2_system_8h.html#a3dca40ce1e998420175eabe37246e05b">CURL_FORMAT_CURL_OFF_T</a></div><div class="ttdeci">#define CURL_FORMAT_CURL_OFF_T</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2include_2curl_2_system_8h_source.html#l00395">system.h:395</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_a7fb027f5ed81ce6a618e7fb0e3a2e5e2"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#a7fb027f5ed81ce6a618e7fb0e3a2e5e2">connectdata::dynamically_allocated_data::userpwd</a></div><div class="ttdeci">char * userpwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00930">urldata.h:930</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3faa33512be63a1baf978add97f96b3c3dc"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3faa33512be63a1baf978add97f96b3c3dc">STRING_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01484">urldata.h:1484</a></div></div>
<div class="ttc" id="structconnectdata_html_ad0d28904779f8613d113aa4c0c38337a"><div class="ttname"><a href="structconnectdata.html#ad0d28904779f8613d113aa4c0c38337a">connectdata::upkeep_interval_ms</a></div><div class="ttdeci">long upkeep_interval_ms</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00915">urldata.h:915</a></div></div>
<div class="ttc" id="urldata_8h_html_a1e0718a5caea5f4aa693d2527d106a5b"><div class="ttname"><a href="urldata_8h.html#a1e0718a5caea5f4aa693d2527d106a5b">CURL_DEFAULT_PASSWORD</a></div><div class="ttdeci">#define CURL_DEFAULT_PASSWORD</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00061">urldata.h:61</a></div></div>
<div class="ttc" id="conncache_8c_html_adb8f4815ab8920bda869c304c90857d9"><div class="ttname"><a href="conncache_8c.html#adb8f4815ab8920bda869c304c90857d9">Curl_conncache_return_conn</a></div><div class="ttdeci">bool Curl_conncache_return_conn(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00420">conncache.c:420</a></div></div>
<div class="ttc" id="curl_8h_html_a85221b44d4bac67c49e8c53618aac8cd"><div class="ttname"><a href="curl_8h.html#a85221b44d4bac67c49e8c53618aac8cd">CURLPROTO_RTMPTS</a></div><div class="ttdeci">#define CURLPROTO_RTMPTS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00889">curl.h:889</a></div></div>
<div class="ttc" id="structhostname_html_a9c9ce90bfcab1734f9376c6539d92cdd"><div class="ttname"><a href="structhostname.html#a9c9ce90bfcab1734f9376c6539d92cdd">hostname::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00449">urldata.h:449</a></div></div>
<div class="ttc" id="multi_8c_html_a71cd4fe5fdefeb0903cd832df16db9db"><div class="ttname"><a href="multi_8c.html#a71cd4fe5fdefeb0903cd832df16db9db">Curl_multi_max_total_connections</a></div><div class="ttdeci">size_t Curl_multi_max_total_connections(struct Curl_multi *multi)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l03131">multi.c:3131</a></div></div>
<div class="ttc" id="struct_url_state_html"><div class="ttname"><a href="struct_url_state.html">UrlState</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01240">urldata.h:1240</a></div></div>
<div class="ttc" id="unit1304_8c_html_a937d4dd628a8858b443a399410d2600b"><div class="ttname"><a href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a></div><div class="ttdeci">UNITTEST_START int result</div><div class="ttdef"><b>Definition:</b> <a href="unit1304_8c_source.html#l00049">unit1304.c:49</a></div></div>
<div class="ttc" id="curl_8h_html_a9ba581e59a874626d594c0f7c241d6d2"><div class="ttname"><a href="curl_8h.html#a9ba581e59a874626d594c0f7c241d6d2">CURLPROTO_FTP</a></div><div class="ttdeci">#define CURLPROTO_FTP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00867">curl.h:867</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1deae947d8e39c047c7d45c735b736225e0b"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deae947d8e39c047c7d45c735b736225e0b">CURLUE_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00038">urlapi.h:38</a></div></div>
<div class="ttc" id="unit1394_8c_html_a0fb9c3165f64b5b79f3928b404818be9"><div class="ttname"><a href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a></div><div class="ttdeci">const char ** p</div><div class="ttdef"><b>Definition:</b> <a href="unit1394_8c_source.html#l00079">unit1394.c:79</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a58a76486bc087b55e1e7a3bf8e90254c"><div class="ttname"><a href="struct_curl__handler.html#a58a76486bc087b55e1e7a3bf8e90254c">Curl_handler::protocol</a></div><div class="ttdeci">unsigned int protocol</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00700">urldata.h:700</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a40c9341dbcd23241fd1b75054cf050a2"><div class="ttname"><a href="struct_connect_bits.html#a40c9341dbcd23241fd1b75054cf050a2">ConnectBits::reuse</a></div><div class="ttdeci">bool reuse</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00382">urldata.h:382</a></div></div>
<div class="ttc" id="http__digest_8c_html_a2d7558f6d337226c5e1b610c42817f85"><div class="ttname"><a href="http__digest_8c.html#a2d7558f6d337226c5e1b610c42817f85">Curl_digest_cleanup</a></div><div class="ttdeci">void Curl_digest_cleanup(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="http__digest_8c_source.html#l00174">http_digest.c:174</a></div></div>
<div class="ttc" id="speedcheck_8h_html"><div class="ttname"><a href="speedcheck_8h.html">speedcheck.h</a></div></div>
<div class="ttc" id="namespaceimpacket_1_1nmb_html_ae08ba7342be906ac4e49aa4746c2242d"><div class="ttname"><a href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">impacket.nmb.strerror</a></div><div class="ttdeci">def strerror(errclass, errcode)</div><div class="ttdef"><b>Definition:</b> <a href="nmb_8py_source.html#l00140">nmb.py:140</a></div></div>
<div class="ttc" id="content__encoding_8h_html"><div class="ttname"><a href="content__encoding_8h.html">content_encoding.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a08faf7d2e790fe1b1c424466292b3ca2"><div class="ttname"><a href="structconnectdata.html#a08faf7d2e790fe1b1c424466292b3ca2">connectdata::created</a></div><div class="ttdeci">struct curltime created</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00873">urldata.h:873</a></div></div>
<div class="ttc" id="struct_curl__easy_html_ae50ee3c1668aaed84ae0338046f4f737"><div class="ttname"><a href="struct_curl__easy.html#ae50ee3c1668aaed84ae0338046f4f737">Curl_easy::multi</a></div><div class="ttdeci">struct Curl_multi * multi</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01777">urldata.h:1777</a></div></div>
<div class="ttc" id="structconnectdata_html_a9dc784dcbf29ca027c3aa6eda1cc8755"><div class="ttname"><a href="structconnectdata.html#a9dc784dcbf29ca027c3aa6eda1cc8755">connectdata::ip_addr_str</a></div><div class="ttdeci">char ip_addr_str[MAX_IPADR_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00824">urldata.h:824</a></div></div>
<div class="ttc" id="url_8h_html_aa1ea656b875d5de4d9e0d99a295e3745"><div class="ttname"><a href="url_8h.html#aa1ea656b875d5de4d9e0d99a295e3745">UPLOADBUFFER_DEFAULT</a></div><div class="ttdeci">#define UPLOADBUFFER_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00038">url.h:38</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="strcase_8c_html_af365bf4de48b867b59fce8d1e777af92"><div class="ttname"><a href="strcase_8c.html#af365bf4de48b867b59fce8d1e777af92">Curl_strntoupper</a></div><div class="ttdeci">void Curl_strntoupper(char *dest, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8c_source.html#l00158">strcase.c:158</a></div></div>
<div class="ttc" id="connect_8c_html_a1b49073aa2d83991c63d3903e3a3d275"><div class="ttname"><a href="connect_8c.html#a1b49073aa2d83991c63d3903e3a3d275">Curl_connecthost</a></div><div class="ttdeci">CURLcode Curl_connecthost(struct connectdata *conn, const struct Curl_dns_entry *remotehost)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l01170">connect.c:1170</a></div></div>
<div class="ttc" id="asyn_8h_html_a0184861709315e8de5f48ce59f672bdb"><div class="ttname"><a href="asyn_8h.html#a0184861709315e8de5f48ce59f672bdb">Curl_resolver_cancel</a></div><div class="ttdeci">void Curl_resolver_cancel(struct connectdata *conn)</div></div>
<div class="ttc" id="curl_8h_html_abc5c98fcc1211af2b80116dd6e0a035da2bdca7ce6479378784212fee3a068c74"><div class="ttname"><a href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035da2bdca7ce6479378784212fee3a068c74">CURL_HTTP_VERSION_1_1</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01926">curl.h:1926</a></div></div>
<div class="ttc" id="structconnectdata_html_ab967c5853e0ed2e2f5ea9ead35d450eb"><div class="ttname"><a href="structconnectdata.html#ab967c5853e0ed2e2f5ea9ead35d450eb">connectdata::keepalive</a></div><div class="ttdeci">struct curltime keepalive</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00913">urldata.h:913</a></div></div>
<div class="ttc" id="socks_8c_html_a3be50ccf1e4b3f649dd36ba7ed7cf572"><div class="ttname"><a href="socks_8c.html#a3be50ccf1e4b3f649dd36ba7ed7cf572">Curl_SOCKS4</a></div><div class="ttdeci">CURLcode Curl_SOCKS4(const char *proxy_user, const char *hostname, int remote_port, int sockindex, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="socks_8c_source.html#l00107">socks.c:107</a></div></div>
<div class="ttc" id="pipeline_8c_html_ac0e1ff41ac23ab04563a7817f7e838fc"><div class="ttname"><a href="pipeline_8c.html#ac0e1ff41ac23ab04563a7817f7e838fc">Curl_recvpipe_head</a></div><div class="ttdeci">bool Curl_recvpipe_head(struct Curl_easy *data, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00305">pipeline.c:305</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8a0221f060e5533f00d79538b80dc7b386"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0221f060e5533f00d79538b80dc7b386">CURLPROXY_SOCKS5</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00680">curl.h:680</a></div></div>
<div class="ttc" id="struct_user_defined_html"><div class="ttname"><a href="struct_user_defined.html">UserDefined</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01492">urldata.h:1492</a></div></div>
<div class="ttc" id="url_8c_html_a01d74504de6da32ea1e37b2f5d371fc7"><div class="ttname"><a href="url_8c.html#a01d74504de6da32ea1e37b2f5d371fc7">Curl_verboseconnect</a></div><div class="ttdeci">void Curl_verboseconnect(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01535">url.c:1535</a></div></div>
<div class="ttc" id="curl_8h_html_a7f016ee652c822683d1f48fdbe21dbb6"><div class="ttname"><a href="curl_8h.html#a7f016ee652c822683d1f48fdbe21dbb6">CURLPROTO_SFTP</a></div><div class="ttdeci">#define CURLPROTO_SFTP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00870">curl.h:870</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa3a8b827562710d81906e904811f0b509"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3a8b827562710d81906e904811f0b509">STRING_CERT_TYPE_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01400">urldata.h:1400</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a5f02b45b10f126093e1e2a1b65233121"><div class="ttname"><a href="struct_curl__handler.html#a5f02b45b10f126093e1e2a1b65233121">Curl_handler::connecting</a></div><div class="ttdeci">CURLcode(* connecting)(struct connectdata *, bool *done)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00653">urldata.h:653</a></div></div>
<div class="ttc" id="curl__sasl_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="curl__sasl_8c_source.html#l00055">curl_sasl.c:55</a></div></div>
<div class="ttc" id="structconnectdata_html_a4df63a4042ad767671bb3bfd74aa68fc"><div class="ttname"><a href="structconnectdata.html#a4df63a4042ad767671bb3bfd74aa68fc">connectdata::http_proxy</a></div><div class="ttdeci">struct proxy_info http_proxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00837">urldata.h:837</a></div></div>
<div class="ttc" id="curl_8h_html_ad2f83089deb2d8a6cac955e9d6f06deaa2effcb78ce3bbf09ca9a818ce3456c46"><div class="ttname"><a href="curl_8h.html#ad2f83089deb2d8a6cac955e9d6f06deaa2effcb78ce3bbf09ca9a818ce3456c46">CURL_NETRC_REQUIRED</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01965">curl.h:1965</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a9492950b668aee96f09e54a328d762fd">CURLE_COULDNT_RESOLVE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00464">curl.h:464</a></div></div>
<div class="ttc" id="struct_url_state_html_a2c954ddc99eccb03ab0b50d2d4ba6a58"><div class="ttname"><a href="struct_url_state.html#a2c954ddc99eccb03ab0b50d2d4ba6a58">UrlState::use_range</a></div><div class="ttdeci">bool use_range</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01332">urldata.h:1332</a></div></div>
<div class="ttc" id="http_8h_html"><div class="ttname"><a href="http_8h.html">http.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a01e38af502b3798152533aa52884b423"><div class="ttname"><a href="structconnectdata.html#a01e38af502b3798152533aa52884b423">connectdata::seek_func</a></div><div class="ttdeci">curl_seek_callback seek_func</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00973">urldata.h:973</a></div></div>
<div class="ttc" id="timeval_8c_html_ae736e803680e1b7fa2b2868317b4b91f"><div class="ttname"><a href="timeval_8c.html#ae736e803680e1b7fa2b2868317b4b91f">Curl_now</a></div><div class="ttdeci">struct curltime Curl_now(void)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00154">timeval.c:154</a></div></div>
<div class="ttc" id="struct_connect_bits_html_af764c68e6af921d2073c498f80741ea4"><div class="ttname"><a href="struct_connect_bits.html#af764c68e6af921d2073c498f80741ea4">ConnectBits::tunnel_proxy</a></div><div class="ttdeci">bool tunnel_proxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00405">urldata.h:405</a></div></div>
<div class="ttc" id="urlapi_8h_html_a38354ba89f94ee9d65db974f5040f6db"><div class="ttname"><a href="urlapi_8h.html#a38354ba89f94ee9d65db974f5040f6db">CURLU_NON_SUPPORT_SCHEME</a></div><div class="ttdeci">#define CURLU_NON_SUPPORT_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00070">urlapi.h:70</a></div></div>
<div class="ttc" id="structconnectdata_html_a4bb3a85b09c8a63a0b526a24f9b1897a"><div class="ttname"><a href="structconnectdata.html#a4bb3a85b09c8a63a0b526a24f9b1897a">connectdata::passwd</a></div><div class="ttdeci">char * passwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00864">urldata.h:864</a></div></div>
<div class="ttc" id="urldata_8h_html_ad851f566879d5b859ec9181a21318b64"><div class="ttname"><a href="urldata_8h.html#ad851f566879d5b859ec9181a21318b64">PROTOPT_SSL</a></div><div class="ttdeci">#define PROTOPT_SSL</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00706">urldata.h:706</a></div></div>
<div class="ttc" id="warnless_8c_html_a5cda9889c201b12398833787bff13e6e"><div class="ttname"><a href="warnless_8c.html#a5cda9889c201b12398833787bff13e6e">curlx_ultous</a></div><div class="ttdeci">unsigned short curlx_ultous(unsigned long ulnum)</div><div class="ttdef"><b>Definition:</b> <a href="warnless_8c_source.html#l00124">warnless.c:124</a></div></div>
<div class="ttc" id="urldata_8h_html_aed732fc470f974350bb2b3e6acc81885"><div class="ttname"><a href="urldata_8h.html#aed732fc470f974350bb2b3e6acc81885">HEADERSIZE</a></div><div class="ttdeci">#define HEADERSIZE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00151">urldata.h:151</a></div></div>
<div class="ttc" id="curl__printf_8h_html"><div class="ttname"><a href="curl__printf_8h.html">curl_printf.h</a></div></div>
<div class="ttc" id="structssl__connect__data_html_a46d3839ea70923be1efa7f85aba7f6a8"><div class="ttname"><a href="structssl__connect__data.html#a46d3839ea70923be1efa7f85aba7f6a8">ssl_connect_data::state</a></div><div class="ttdeci">ssl_connection_state state</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00202">urldata.h:202</a></div></div>
<div class="ttc" id="imap_8h_html"><div class="ttname"><a href="imap_8h.html">imap.h</a></div></div>
<div class="ttc" id="http2_8h_html_a0f9179032800ff43d64d1be68c1e67cd"><div class="ttname"><a href="http2_8h.html#a0f9179032800ff43d64d1be68c1e67cd">Curl_http2_cleanup_dependencies</a></div><div class="ttdeci">#define Curl_http2_cleanup_dependencies(x)</div><div class="ttdef"><b>Definition:</b> <a href="http2_8h_source.html#l00079">http2.h:79</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa2523615707384ca20d7db90cf57e504c"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2523615707384ca20d7db90cf57e504c">STRING_USERAGENT</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01437">urldata.h:1437</a></div></div>
<div class="ttc" id="urlapi_8h_html_a263ef15af3683aaf88338dcb6f0cda83"><div class="ttname"><a href="urlapi_8h.html#a263ef15af3683aaf88338dcb6f0cda83">CURLU_DEFAULT_PORT</a></div><div class="ttdeci">#define CURLU_DEFAULT_PORT</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00064">urlapi.h:64</a></div></div>
<div class="ttc" id="url_8c_html_a1e380c49a2d40ac41909687588a5738b"><div class="ttname"><a href="url_8c.html#a1e380c49a2d40ac41909687588a5738b">Curl_protocol_doing</a></div><div class="ttdeci">CURLcode Curl_protocol_doing(struct connectdata *conn, bool *done)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01595">url.c:1595</a></div></div>
<div class="ttc" id="url_8c_html_a7b6ce3a9f85e357966f8897b3352bca6"><div class="ttname"><a href="url_8c.html#a7b6ce3a9f85e357966f8897b3352bca6">Curl_doing_getsock</a></div><div class="ttdeci">int Curl_doing_getsock(struct connectdata *conn, curl_socket_t *socks, int numsocks)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01560">url.c:1560</a></div></div>
<div class="ttc" id="inet__pton_8h_html"><div class="ttname"><a href="inet__pton_8h.html">inet_pton.h</a></div></div>
<div class="ttc" id="struct_connect_bits_html_afbb3ed3c6e41a5e79efc77b3bf00376d"><div class="ttname"><a href="struct_connect_bits.html#afbb3ed3c6e41a5e79efc77b3bf00376d">ConnectBits::ipv6_ip</a></div><div class="ttdeci">bool ipv6_ip</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00392">urldata.h:392</a></div></div>
<div class="ttc" id="pipeline_8c_html_a0ebfe30eee0b789fed3635439e8f0b4b"><div class="ttname"><a href="pipeline_8c.html#a0ebfe30eee0b789fed3635439e8f0b4b">Curl_sendpipe_head</a></div><div class="ttdeci">bool Curl_sendpipe_head(struct Curl_easy *data, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00312">pipeline.c:312</a></div></div>
<div class="ttc" id="vtls_8h_html"><div class="ttname"><a href="vtls_8h.html">vtls.h</a></div></div>
<div class="ttc" id="progress_8h_html_abc090d144fb55d31dff488d24c46fb2aa46c5101b66124520ea017265318e48bf"><div class="ttname"><a href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aa46c5101b66124520ea017265318e48bf">TIMER_CONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="progress_8h_source.html#l00033">progress.h:33</a></div></div>
<div class="ttc" id="conncache_8h_html_ac54a8f8827585a80d5bd688c05e2c6ad"><div class="ttname"><a href="conncache_8h.html#ac54a8f8827585a80d5bd688c05e2c6ad">BUNDLE_MULTIPLEX</a></div><div class="ttdeci">#define BUNDLE_MULTIPLEX</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00044">conncache.h:44</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a600c484dc2160f73477f9e1b2d3db513"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a600c484dc2160f73477f9e1b2d3db513">CURLE_LOGIN_DENIED</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00540">curl.h:540</a></div></div>
<div class="ttc" id="unit1304_8c_html_a82a69fcfe92d9db6dd585ccc532a2ab7"><div class="ttname"><a href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a></div><div class="ttdeci">memcpy(filename, filename1, strlen(filename1))</div></div>
<div class="ttc" id="url_8c_html_ad0a89abc69f33ec38a9cfc579043e003"><div class="ttname"><a href="url_8c.html#ad0a89abc69f33ec38a9cfc579043e003">Curl_connected_proxy</a></div><div class="ttdeci">CURLcode Curl_connected_proxy(struct connectdata *conn, int sockindex)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01485">url.c:1485</a></div></div>
<div class="ttc" id="struct_curl__handler_html_ac77e1b77c701181a1ba5e58922504524"><div class="ttname"><a href="struct_curl__handler.html#ac77e1b77c701181a1ba5e58922504524">Curl_handler::done</a></div><div class="ttdeci">Curl_done_func done</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00636">urldata.h:636</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2ebad44a6470deff9d6fc0b423aab47462e8"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2ebad44a6470deff9d6fc0b423aab47462e8">CURLUPART_QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00060">urlapi.h:60</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa4de3c1016e8f64004fd8782e5c238261"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa4de3c1016e8f64004fd8782e5c238261">STRING_KEY_TYPE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01416">urldata.h:1416</a></div></div>
<div class="ttc" id="lib_2rtsp_8c_html_a6b16211eaf668c212454c3e7d629cdd4"><div class="ttname"><a href="lib_2rtsp_8c.html#a6b16211eaf668c212454c3e7d629cdd4">Curl_handler_rtsp</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_rtsp</div><div class="ttdef"><b>Definition:</b> <a href="lib_2rtsp_8c_source.html#l00108">rtsp.c:108</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aba5a22c9f705ed27933344be221fe937">CURLE_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00493">curl.h:493</a></div></div>
<div class="ttc" id="curl__rtmp_8h_html"><div class="ttname"><a href="curl__rtmp_8h.html">curl_rtmp.h</a></div></div>
<div class="ttc" id="curlx_8c_html_af6458f5d187f1d7c82fb9ea7ef634b44"><div class="ttname"><a href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a></div><div class="ttdeci">#define ZERO_NULL</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00131">curlx.c:131</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadb88e0b315044ebff9cee6ba7c2d348e">STRING_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01420">urldata.h:1420</a></div></div>
<div class="ttc" id="struct_curl__dns__entry_html_a606b5303ecd260663dbf9b1f9f7f98dd"><div class="ttname"><a href="struct_curl__dns__entry.html#a606b5303ecd260663dbf9b1f9f7f98dd">Curl_dns_entry::addr</a></div><div class="ttdeci">Curl_addrinfo * addr</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00067">hostip.h:67</a></div></div>
<div class="ttc" id="url_8h_html_a6305ab21e86e78103373edf3e632d4bf"><div class="ttname"><a href="url_8h.html#a6305ab21e86e78103373edf3e632d4bf">CURL_DEFAULT_HTTPS_PROXY_PORT</a></div><div class="ttdeci">#define CURL_DEFAULT_HTTPS_PROXY_PORT</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00088">url.h:88</a></div></div>
<div class="ttc" id="struct_curl__handler_html_ae3453fdc1de36e8e62fe12d7e18504b4"><div class="ttname"><a href="struct_curl__handler.html#ae3453fdc1de36e8e62fe12d7e18504b4">Curl_handler::doing_getsock</a></div><div class="ttdeci">int(* doing_getsock)(struct connectdata *conn, curl_socket_t *socks, int numsocks)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00664">urldata.h:664</a></div></div>
<div class="ttc" id="curl_8h_html_a2623448e48f97bb09eb1a83b28da7735"><div class="ttname"><a href="curl_8h.html#a2623448e48f97bb09eb1a83b28da7735">CURLAUTH_NONE</a></div><div class="ttdeci">#define CURLAUTH_NONE</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00705">curl.h:705</a></div></div>
<div class="ttc" id="share_8c_html_a85cdae024464c8d7e96a232797028d72"><div class="ttname"><a href="share_8c.html#a85cdae024464c8d7e96a232797028d72">Curl_share_unlock</a></div><div class="ttdeci">CURLSHcode Curl_share_unlock(struct Curl_easy *data, curl_lock_data type)</div><div class="ttdef"><b>Definition:</b> <a href="share_8c_source.html#l00244">share.c:244</a></div></div>
<div class="ttc" id="ftp_8h_html"><div class="ttname"><a href="ftp_8h.html">ftp.h</a></div></div>
<div class="ttc" id="progress_8h_html"><div class="ttname"><a href="progress_8h.html">progress.h</a></div></div>
<div class="ttc" id="curl_8h_html_a83d34123b66749720352af4bcb17a8e4"><div class="ttname"><a href="curl_8h.html#a83d34123b66749720352af4bcb17a8e4">CURLPROTO_HTTPS</a></div><div class="ttdeci">#define CURLPROTO_HTTPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00866">curl.h:866</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_a7964410b7292e5259fd0767d59e2b0be"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#a7964410b7292e5259fd0767d59e2b0be">connectdata::dynamically_allocated_data::rtsp_transport</a></div><div class="ttdeci">char * rtsp_transport</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00935">urldata.h:935</a></div></div>
<div class="ttc" id="structconnectdata_html_aefe020b8f593d5642e628a42f5b26f7a"><div class="ttname"><a href="structconnectdata.html#aefe020b8f593d5642e628a42f5b26f7a">connectdata::localportrange</a></div><div class="ttdeci">int localportrange</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01029">urldata.h:1029</a></div></div>
<div class="ttc" id="curl_8h_html_a57c429ed3dc3a2dc9ff5c6eba392b6b2"><div class="ttname"><a href="curl_8h.html#a57c429ed3dc3a2dc9ff5c6eba392b6b2">CURLPROTO_RTSP</a></div><div class="ttdeci">#define CURLPROTO_RTSP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00883">curl.h:883</a></div></div>
<div class="ttc" id="transfer_8c_html_a8ccd1948f2a90c90b6fd1ac993e44a32"><div class="ttname"><a href="transfer_8c.html#a8ccd1948f2a90c90b6fd1ac993e44a32">Curl_setup_transfer</a></div><div class="ttdeci">void Curl_setup_transfer(struct connectdata *conn, int sockindex, curl_off_t size, bool getheader, curl_off_t *bytecountp, int writesockindex, curl_off_t *writecountp)</div><div class="ttdef"><b>Definition:</b> <a href="transfer_8c_source.html#l01743">transfer.c:1743</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="curl__setup__once_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00327">curl_setup_once.h:327</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a0091f833e532479d6510f72639f726ef"><div class="ttname"><a href="struct_connect_bits.html#a0091f833e532479d6510f72639f726ef">ConnectBits::tcpconnect</a></div><div class="ttdeci">bool tcpconnect[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00398">urldata.h:398</a></div></div>
<div class="ttc" id="conncache_8c_html_a4a64fd2e23edc668a13456b4e11ac539"><div class="ttname"><a href="conncache_8c.html#a4a64fd2e23edc668a13456b4e11ac539">Curl_conncache_find_bundle</a></div><div class="ttdeci">struct connectbundle * Curl_conncache_find_bundle(struct connectdata *conn, struct conncache *connc)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00214">conncache.c:214</a></div></div>
<div class="ttc" id="urlapi_8h_html_a1cb93c92958648f06fab038f397cfeae"><div class="ttname"><a href="urlapi_8h.html#a1cb93c92958648f06fab038f397cfeae">curl_url_set</a></div><div class="ttdeci">CURL_EXTERN CURLUcode curl_url_set(CURLU *handle, CURLUPart what, const char *part, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l01097">urlapi.c:1097</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a09e5963aa515ad390819066a62f2f2bb"><div class="ttname"><a href="struct_curl__handler.html#a09e5963aa515ad390819066a62f2f2bb">Curl_handler::proto_getsock</a></div><div class="ttdeci">int(* proto_getsock)(struct connectdata *conn, curl_socket_t *socks, int numsocks)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00658">urldata.h:658</a></div></div>
<div class="ttc" id="curl_8h_html_a88e64b73acc60922b65a117f226afe61"><div class="ttname"><a href="curl_8h.html#a88e64b73acc60922b65a117f226afe61">CURLSSH_AUTH_DEFAULT</a></div><div class="ttdeci">#define CURLSSH_AUTH_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00729">curl.h:729</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fadc2043e9c79ff8c52c008aeff7deb22d"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fadc2043e9c79ff8c52c008aeff7deb22d">STRING_CERT_TYPE_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01401">urldata.h:1401</a></div></div>
<div class="ttc" id="structconnectdata_html_a057603d5194781bc5b614227e6f14f69"><div class="ttname"><a href="structconnectdata.html#a057603d5194781bc5b614227e6f14f69">connectdata::readchannel_inuse</a></div><div class="ttdeci">bool readchannel_inuse</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00959">urldata.h:959</a></div></div>
<div class="ttc" id="structcurl__llist_html_abca9151666b85a2a95d44bbbe1dcf8b2"><div class="ttname"><a href="structcurl__llist.html#abca9151666b85a2a95d44bbbe1dcf8b2">curl_llist::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00040">llist.h:40</a></div></div>
<div class="ttc" id="structconnectdata_html_a889f5cda04963a8be4f9a4cda8c4554a"><div class="ttname"><a href="structconnectdata.html#a889f5cda04963a8be4f9a4cda8c4554a">connectdata::localdev</a></div><div class="ttdeci">char * localdev</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01027">urldata.h:1027</a></div></div>
<div class="ttc" id="curl_8h_html_a5588596e963ddd108786b3e331eb09e4"><div class="ttname"><a href="curl_8h.html#a5588596e963ddd108786b3e331eb09e4">CURLPROTO_LDAP</a></div><div class="ttdeci">#define CURLPROTO_LDAP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00872">curl.h:872</a></div></div>
<div class="ttc" id="mime_8h_html"><div class="ttname"><a href="mime_8h.html">mime.h</a></div></div>
<div class="ttc" id="structconnectbundle_html_a7b746b344ea41126772218e55780fefd"><div class="ttname"><a href="structconnectbundle.html#a7b746b344ea41126772218e55780fefd">connectbundle::num_connections</a></div><div class="ttdeci">size_t num_connections</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00048">conncache.h:48</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa6476d96d2af3684e3354e9650f057501"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa6476d96d2af3684e3354e9650f057501">STRING_PROXYPASSWORD</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01447">urldata.h:1447</a></div></div>
<div class="ttc" id="struct_curl__handler_html_ad61158e86c51d79b70c758d94a4ec324"><div class="ttname"><a href="struct_curl__handler.html#ad61158e86c51d79b70c758d94a4ec324">Curl_handler::doing</a></div><div class="ttdeci">CURLcode(* doing)(struct connectdata *, bool *done)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00654">urldata.h:654</a></div></div>
<div class="ttc" id="curl__ntlm__wb_8h_html"><div class="ttname"><a href="curl__ntlm__wb_8h.html">curl_ntlm_wb.h</a></div></div>
<div class="ttc" id="struct_curl__dns__entry_html"><div class="ttname"><a href="struct_curl__dns__entry.html">Curl_dns_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00066">hostip.h:66</a></div></div>
<div class="ttc" id="curl_8h_html_aed470ee20e1ed4de6ca0c00708679512"><div class="ttname"><a href="curl_8h.html#aed470ee20e1ed4de6ca0c00708679512">CURLPROTO_LDAPS</a></div><div class="ttdeci">#define CURLPROTO_LDAPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00873">curl.h:873</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa98ba9a3bb085f2e37276d1ccf39d1412"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa98ba9a3bb085f2e37276d1ccf39d1412">STRING_SSL_CAPATH_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01426">urldata.h:1426</a></div></div>
<div class="ttc" id="structconnectdata_html_ac991894d741faea039fa066219c2c423"><div class="ttname"><a href="structconnectdata.html#ac991894d741faea039fa066219c2c423">connectdata::localport</a></div><div class="ttdeci">unsigned short localport</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01028">urldata.h:1028</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_a810a2b88f3ab6e69daac56a95997d288"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#a810a2b88f3ab6e69daac56a95997d288">connectdata::dynamically_allocated_data::proxyuserpwd</a></div><div class="ttdeci">char * proxyuserpwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00927">urldata.h:927</a></div></div>
<div class="ttc" id="connect_8c_html_aed32c0fb99c80a40c097c98a3eb03c74"><div class="ttname"><a href="connect_8c.html#aed32c0fb99c80a40c097c98a3eb03c74">Curl_timeleft</a></div><div class="ttdeci">timediff_t Curl_timeleft(struct Curl_easy *data, struct curltime *nowp, bool duringconnect)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l00184">connect.c:184</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba652d7cac677d1aca71efd0386e57f927"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba652d7cac677d1aca71efd0386e57f927">CURLUPART_URL</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00052">urlapi.h:52</a></div></div>
<div class="ttc" id="structcurl__slist_html_a56fcfc41d89a47865933c310d316a108"><div class="ttname"><a href="structcurl__slist.html#a56fcfc41d89a47865933c310d316a108">curl_slist::next</a></div><div class="ttdeci">struct curl_slist * next</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02396">curl.h:2396</a></div></div>
<div class="ttc" id="url_8c_html_a858a8c13c16ee2cc80f807bb73578508"><div class="ttname"><a href="url_8c.html#a858a8c13c16ee2cc80f807bb73578508">Curl_up_free</a></div><div class="ttdeci">void Curl_up_free(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00295">url.c:295</a></div></div>
<div class="ttc" id="http__negotiate_8h_html"><div class="ttname"><a href="http__negotiate_8h.html">http_negotiate.h</a></div></div>
<div class="ttc" id="structcurl__llist__element_html_aa3c3cb90fae86e24d88eea4437bc61ab"><div class="ttname"><a href="structcurl__llist__element.html#aa3c3cb90fae86e24d88eea4437bc61ab">curl_llist_element::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00031">llist.h:31</a></div></div>
<div class="ttc" id="urldata_8h_html_ad2a0f1a29b96ea2623d2015598f21328"><div class="ttname"><a href="urldata_8h.html#ad2a0f1a29b96ea2623d2015598f21328">CONNCHECK_ISDEAD</a></div><div class="ttdeci">#define CONNCHECK_ISDEAD</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00731">urldata.h:731</a></div></div>
<div class="ttc" id="select_8h_html_a7e89e8a851eb27402914a0d5beb58d99"><div class="ttname"><a href="select_8h.html#a7e89e8a851eb27402914a0d5beb58d99">SOCKET_READABLE</a></div><div class="ttdeci">#define SOCKET_READABLE(x, z)</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00079">select.h:79</a></div></div>
<div class="ttc" id="connect_8c_html_a4ff7d604e0d25e425486e35837faad74"><div class="ttname"><a href="connect_8c.html#a4ff7d604e0d25e425486e35837faad74">Curl_updateconninfo</a></div><div class="ttdeci">void Curl_updateconninfo(struct connectdata *conn, curl_socket_t sockfd)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l00674">connect.c:674</a></div></div>
<div class="ttc" id="url_8c_html_af403c3591d12b4ac9d7637de1cba3e62"><div class="ttname"><a href="url_8c.html#af403c3591d12b4ac9d7637de1cba3e62">Curl_uc_to_curlcode</a></div><div class="ttdeci">CURLcode Curl_uc_to_curlcode(CURLUcode uc)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l02008">url.c:2008</a></div></div>
<div class="ttc" id="cookie_8c_html_a04f46d0897660b9b3daf67c163f8927b"><div class="ttname"><a href="cookie_8c.html#a04f46d0897660b9b3daf67c163f8927b">Curl_flush_cookies</a></div><div class="ttdeci">void Curl_flush_cookies(struct Curl_easy *data, int cleanup)</div><div class="ttdef"><b>Definition:</b> <a href="cookie_8c_source.html#l01565">cookie.c:1565</a></div></div>
<div class="ttc" id="curl_8h_html_a908c5b707ac681212b8f8688cf76689dac89b6f3511b0840ecdf318e5e4f312ce"><div class="ttname"><a href="curl_8h.html#a908c5b707ac681212b8f8688cf76689dac89b6f3511b0840ecdf318e5e4f312ce">CURLSSLBACKEND_SCHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00146">curl.h:146</a></div></div>
<div class="ttc" id="components_2curl_2lib_2_t_f_t_p_8h_html"><div class="ttname"><a href="components_2curl_2lib_2_t_f_t_p_8h.html">tftp.h</a></div></div>
<div class="ttc" id="struct_user_defined_html_a297b95c9d8a6b73ab0d15f752e23ba8b"><div class="ttname"><a href="struct_user_defined.html#a297b95c9d8a6b73ab0d15f752e23ba8b">UserDefined::httpversion</a></div><div class="ttdeci">long httpversion</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01591">urldata.h:1591</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2ebabc452edee4006b5ff6a86d2a4d916dee"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2ebabc452edee4006b5ff6a86d2a4d916dee">CURLUPART_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00058">urlapi.h:58</a></div></div>
<div class="ttc" id="conncache_8c_html_a558b7525a147680dfe1216e2c157799a"><div class="ttname"><a href="conncache_8c.html#a558b7525a147680dfe1216e2c157799a">Curl_conncache_size</a></div><div class="ttdeci">size_t Curl_conncache_size(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00189">conncache.c:189</a></div></div>
<div class="ttc" id="curl_8h_html_a9ce81639f6e31bbaccd16bc86c7b6edb"><div class="ttname"><a href="curl_8h.html#a9ce81639f6e31bbaccd16bc86c7b6edb">CURLPROTO_POP3S</a></div><div class="ttdeci">#define CURLPROTO_POP3S</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00880">curl.h:880</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a1848a204eb26d03a62be57cd1304834a"><div class="ttname"><a href="struct_connect_bits.html#a1848a204eb26d03a62be57cd1304834a">ConnectBits::tcp_fastopen</a></div><div class="ttdeci">bool tcp_fastopen</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00438">urldata.h:438</a></div></div>
<div class="ttc" id="strcase_8h_html_a48c605aaef9b3681c41d91096b6baad0"><div class="ttname"><a href="strcase_8h.html#a48c605aaef9b3681c41d91096b6baad0">strncasecompare</a></div><div class="ttdeci">#define strncasecompare(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8h_source.html#l00036">strcase.h:36</a></div></div>
<div class="ttc" id="select_8h_html"><div class="ttname"><a href="select_8h.html">select.h</a></div></div>
<div class="ttc" id="strcase_8c_html_a241521c84255d0726fa6fa2614ec710c"><div class="ttname"><a href="strcase_8c.html#a241521c84255d0726fa6fa2614ec710c">Curl_safe_strcasecompare</a></div><div class="ttdeci">int Curl_safe_strcasecompare(const char *first, const char *second)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8c_source.html#l00124">strcase.c:124</a></div></div>
<div class="ttc" id="remote-name_8d_html_aa335f8bb20424b03700f57b150bf0aa6"><div class="ttname"><a href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a></div><div class="ttdeci">Long the path is cut off.The file will be saved in the current working directory.If you want the file saved in a different make sure you change the current working directory before invoking curl with this option.The remote file name to use for saving is extracted from the given nothing and if it already exists it will be overwritten.If you want the server to be able to choose the file name refer to remote header name which can be used in addition to this option.If the server chooses a file name and that name already exists it will not be overwritten.There is no URL decoding done on the file name.If it has or other URL encoded parts of the name</div><div class="ttdef"><b>Definition:</b> <a href="remote-name_8d_source.html#l00006">remote-name.d:6</a></div></div>
<div class="ttc" id="vtls_8c_html_a9468007b0049e63d8dac0a8096beb0c4"><div class="ttname"><a href="vtls_8c.html#a9468007b0049e63d8dac0a8096beb0c4">Curl_clone_primary_ssl_config</a></div><div class="ttdeci">bool Curl_clone_primary_ssl_config(struct ssl_primary_config *source, struct ssl_primary_config *dest)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8c_source.html#l00107">vtls.c:107</a></div></div>
<div class="ttc" id="urlapi_8h_html_a36838c77a48b01b7b6bfd546c5aa55b5"><div class="ttname"><a href="urlapi_8h.html#a36838c77a48b01b7b6bfd546c5aa55b5">CURLU_PATH_AS_IS</a></div><div class="ttdeci">#define CURLU_PATH_AS_IS</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00071">urlapi.h:71</a></div></div>
<div class="ttc" id="structconnectdata_html_a6e21b86bf87046e6e41a7a9d2597a31d"><div class="ttname"><a href="structconnectdata.html#a6e21b86bf87046e6e41a7a9d2597a31d">connectdata::writechannel_inuse</a></div><div class="ttdeci">bool writechannel_inuse</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00961">urldata.h:961</a></div></div>
<div class="ttc" id="structconnectdata_html_afe920189a64c99b8dc93679569406138"><div class="ttname"><a href="structconnectdata.html#afe920189a64c99b8dc93679569406138">connectdata::connect_state</a></div><div class="ttdeci">struct http_connect_state * connect_state</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01030">urldata.h:1030</a></div></div>
<div class="ttc" id="pipeline_8c_html_aae772b189eab516240a6727d5b75db7b"><div class="ttname"><a href="pipeline_8c.html#aae772b189eab516240a6727d5b75db7b">Curl_pipeline_leave_read</a></div><div class="ttdeci">void Curl_pipeline_leave_read(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00375">pipeline.c:375</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba236a55190e38fc4c46bfcff176207e72"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba236a55190e38fc4c46bfcff176207e72">CURLUPART_PASSWORD</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00055">urlapi.h:55</a></div></div>
<div class="ttc" id="curl_8h_html_a2431e24f2138b8074ffe85acace52384"><div class="ttname"><a href="curl_8h.html#a2431e24f2138b8074ffe85acace52384">CURLPROTO_IMAPS</a></div><div class="ttdeci">#define CURLPROTO_IMAPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00878">curl.h:878</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa8aa62e91f5012a118f4022d432144939"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa8aa62e91f5012a118f4022d432144939">STRING_PASSWORD</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01444">urldata.h:1444</a></div></div>
<div class="ttc" id="structurlpieces_html_a65bb66c3009a6a025d6ae056928063e8"><div class="ttname"><a href="structurlpieces.html#a65bb66c3009a6a025d6ae056928063e8">urlpieces::options</a></div><div class="ttdeci">char * options</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01235">urldata.h:1235</a></div></div>
<div class="ttc" id="structconnectdata_html_a23709f8003b50c28fb59cd977ee23632"><div class="ttname"><a href="structconnectdata.html#a23709f8003b50c28fb59cd977ee23632">connectdata::connection_id</a></div><div class="ttdeci">long connection_id</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00806">urldata.h:806</a></div></div>
<div class="ttc" id="struct_single_request_html_afabf76ed046873a4f5a5b83735c0b9da"><div class="ttname"><a href="struct_single_request.html#afabf76ed046873a4f5a5b83735c0b9da">SingleRequest::hbufp</a></div><div class="ttdeci">char * hbufp</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00563">urldata.h:563</a></div></div>
<div class="ttc" id="strerror_8h_html"><div class="ttname"><a href="strerror_8h.html">strerror.h</a></div></div>
<div class="ttc" id="curl_8h_html_ac8203065f3262281dae322563cc2a7d8"><div class="ttname"><a href="curl_8h.html#ac8203065f3262281dae322563cc2a7d8">CURL_UPKEEP_INTERVAL_DEFAULT</a></div><div class="ttdeci">#define CURL_UPKEEP_INTERVAL_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00808">curl.h:808</a></div></div>
<div class="ttc" id="imap_8c_html_ae276e4e81c4afa813d9324d62421bff8"><div class="ttname"><a href="imap_8c.html#ae276e4e81c4afa813d9324d62421bff8">Curl_handler_imap</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_imap</div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l00117">imap.c:117</a></div></div>
<div class="ttc" id="url_8d_html_a1e5cd9496724b33dd938aa59064c8c99"><div class="ttname"><a href="url_8d.html#a1e5cd9496724b33dd938aa59064c8c99">protocol</a></div><div class="ttdeci">Long POP3 or SMTP then that protocol will be otherwise HTTP will be used.Since..guessing can be disabled by setting a default protocol</div><div class="ttdef"><b>Definition:</b> <a href="url_8d_source.html#l00010">url.d:10</a></div></div>
<div class="ttc" id="structssl__primary__config_html_a9d3a4c7283e422bfa31cf1d32aeb75a0"><div class="ttname"><a href="structssl__primary__config.html#a9d3a4c7283e422bfa31cf1d32aeb75a0">ssl_primary_config::verifystatus</a></div><div class="ttdeci">bool verifystatus</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00214">urldata.h:214</a></div></div>
<div class="ttc" id="conncache_8h_html_a3fead10caa803fd2f106fe9916140c73"><div class="ttname"><a href="conncache_8h.html#a3fead10caa803fd2f106fe9916140c73">BUNDLE_PIPELINING</a></div><div class="ttdeci">#define BUNDLE_PIPELINING</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00043">conncache.h:43</a></div></div>
<div class="ttc" id="vtls_8c_html_a5f50ad085ea4993229348232d4719407"><div class="ttname"><a href="vtls_8c.html#a5f50ad085ea4993229348232d4719407">Curl_free_primary_ssl_config</a></div><div class="ttdeci">void Curl_free_primary_ssl_config(struct ssl_primary_config *sslc)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8c_source.html#l00128">vtls.c:128</a></div></div>
<div class="ttc" id="curl_8h_html_a697c179efe391ebeac338945bb3388ca"><div class="ttname"><a href="curl_8h.html#a697c179efe391ebeac338945bb3388ca">CURLPROTO_RTMP</a></div><div class="ttdeci">#define CURLPROTO_RTMP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00884">curl.h:884</a></div></div>
<div class="ttc" id="urldata_8h_html_a033a9d4c349c6179bbf570bab3c10444"><div class="ttname"><a href="urldata_8h.html#a033a9d4c349c6179bbf570bab3c10444">PROTOPT_PROXY_AS_HTTP</a></div><div class="ttdeci">#define PROTOPT_PROXY_AS_HTTP</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00725">urldata.h:725</a></div></div>
<div class="ttc" id="struct_curl__multi_html"><div class="ttname"><a href="struct_curl__multi.html">Curl_multi</a></div><div class="ttdef"><b>Definition:</b> <a href="multihandle_8h_source.html#l00072">multihandle.h:72</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa5a35aa666e3e1b4ff0fad546f4e426e2"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa5a35aa666e3e1b4ff0fad546f4e426e2">STRING_SET_RANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01422">urldata.h:1422</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa3297087261cd5b55177327cf109223ff"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3297087261cd5b55177327cf109223ff">STRING_SSL_ISSUERCERT_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01440">urldata.h:1440</a></div></div>
<div class="ttc" id="multiif_8h_html_ad755633cd6d4e90c3df49fefd1052bad"><div class="ttname"><a href="multiif_8h.html#ad755633cd6d4e90c3df49fefd1052bad">GETSOCK_BLANK</a></div><div class="ttdeci">#define GETSOCK_BLANK</div><div class="ttdef"><b>Definition:</b> <a href="multiif_8h_source.html#l00045">multiif.h:45</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa50c48e8f3cca5ed1ae46778ebd9c5619"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa50c48e8f3cca5ed1ae46778ebd9c5619">STRING_SSL_CAPATH_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01425">urldata.h:1425</a></div></div>
<div class="ttc" id="progress_8h_html_abc090d144fb55d31dff488d24c46fb2aab1af6a1076026a121c9f3bcefbe31079"><div class="ttname"><a href="progress_8h.html#abc090d144fb55d31dff488d24c46fb2aab1af6a1076026a121c9f3bcefbe31079">TIMER_NAMELOOKUP</a></div><div class="ttdef"><b>Definition:</b> <a href="progress_8h_source.html#l00032">progress.h:32</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba55cc24daefc3debfca5396c267a5d04b"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba55cc24daefc3debfca5396c267a5d04b">CURLUPART_PATH</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00059">urlapi.h:59</a></div></div>
<div class="ttc" id="structssl__primary__config_html_af116cf82e957a2ca2f0b39eb0c709d43"><div class="ttname"><a href="structssl__primary__config.html#af116cf82e957a2ca2f0b39eb0c709d43">ssl_primary_config::verifyhost</a></div><div class="ttdeci">bool verifyhost</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00213">urldata.h:213</a></div></div>
<div class="ttc" id="hostip_8c_html_a47fa53659ab4a0c796ea2fd58629674c"><div class="ttname"><a href="hostip_8c.html#a47fa53659ab4a0c796ea2fd58629674c">Curl_resolv_unlock</a></div><div class="ttdeci">void Curl_resolv_unlock(struct Curl_easy *data, struct Curl_dns_entry *dns)</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8c_source.html#l00814">hostip.c:814</a></div></div>
<div class="ttc" id="inet__ntop_8h_html"><div class="ttname"><a href="inet__ntop_8h.html">inet_ntop.h</a></div></div>
<div class="ttc" id="structhttp__conn_html"><div class="ttname"><a href="structhttp__conn.html">http_conn</a></div><div class="ttdef"><b>Definition:</b> <a href="http_8h_source.html#l00201">http.h:201</a></div></div>
<div class="ttc" id="structurlpieces_html"><div class="ttname"><a href="structurlpieces.html">urlpieces</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01229">urldata.h:1229</a></div></div>
<div class="ttc" id="structconnectdata_html_a90cda22840876a61164bbf17a46630e4"><div class="ttname"><a href="structconnectdata.html#a90cda22840876a61164bbf17a46630e4">connectdata::socktype</a></div><div class="ttdeci">int socktype</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00828">urldata.h:828</a></div></div>
<div class="ttc" id="structproxy__info_html_ab2b6b7b0dc1dd09509d79ae5f52dd3b8"><div class="ttname"><a href="structproxy__info.html#ab2b6b7b0dc1dd09509d79ae5f52dd3b8">proxy_info::passwd</a></div><div class="ttdeci">char * passwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00756">urldata.h:756</a></div></div>
<div class="ttc" id="urlapi_8h_html_a1923d8f5dadb5924e5824c73282e6b64"><div class="ttname"><a href="urlapi_8h.html#a1923d8f5dadb5924e5824c73282e6b64">CURLU_GUESS_SCHEME</a></div><div class="ttdeci">#define CURLU_GUESS_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00076">urlapi.h:76</a></div></div>
<div class="ttc" id="conncache_8c_html_a8320d4e93c3a6d3188570745ccffc397"><div class="ttname"><a href="conncache_8c.html#a8320d4e93c3a6d3188570745ccffc397">Curl_conncache_extract_bundle</a></div><div class="ttdeci">struct connectdata * Curl_conncache_extract_bundle(struct Curl_easy *data, struct connectbundle *bundle)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00455">conncache.c:455</a></div></div>
<div class="ttc" id="curl_8h_html_a7516630ec17f247697dd3272be7ada74"><div class="ttname"><a href="curl_8h.html#a7516630ec17f247697dd3272be7ada74">curl_read_callback</a></div><div class="ttdeci">size_t(* curl_read_callback)(char *buffer, size_t size, size_t nitems, void *instream)</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00358">curl.h:358</a></div></div>
<div class="ttc" id="speedcheck_8c_html_af759bd02e473d17afdddf053e8123f0d"><div class="ttname"><a href="speedcheck_8c.html#af759bd02e473d17afdddf053e8123f0d">Curl_speedinit</a></div><div class="ttdeci">void Curl_speedinit(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="speedcheck_8c_source.html#l00031">speedcheck.c:31</a></div></div>
<div class="ttc" id="url_8c_html_a49088dfd99853f4981161b43f512c096"><div class="ttname"><a href="url_8c.html#a49088dfd99853f4981161b43f512c096">Curl_getoff_all_pipelines</a></div><div class="ttdeci">void Curl_getoff_all_pipelines(struct Curl_easy *data, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00910">url.c:910</a></div></div>
<div class="ttc" id="curl_8h_html_ab0e8299ededa678028a9e5796b0f77ce"><div class="ttname"><a href="curl_8h.html#ab0e8299ededa678028a9e5796b0f77ce">CURLAUTH_NTLM</a></div><div class="ttdeci">#define CURLAUTH_NTLM</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00713">curl.h:713</a></div></div>
<div class="ttc" id="http2-download_8c_html_af29d172b038fadd90daf541df3b945c6"><div class="ttname"><a href="http2-download_8c.html#af29d172b038fadd90daf541df3b945c6">CURLPIPE_MULTIPLEX</a></div><div class="ttdeci">#define CURLPIPE_MULTIPLEX</div><div class="ttdef"><b>Definition:</b> <a href="http2-download_8c_source.html#l00041">http2-download.c:41</a></div></div>
<div class="ttc" id="structconnectdata_html_ada83cbd7d295b87033b7ea635c0a5dd5"><div class="ttname"><a href="structconnectdata.html#ada83cbd7d295b87033b7ea635c0a5dd5">connectdata::send</a></div><div class="ttdeci">Curl_send * send[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00880">urldata.h:880</a></div></div>
<div class="ttc" id="urlapi-int_8h_html"><div class="ttname"><a href="urlapi-int_8h.html">urlapi-int.h</a></div></div>
<div class="ttc" id="multiif_8h_html_a9aabda59f0ff87c1db3a2d306a410713"><div class="ttname"><a href="multiif_8h.html#a9aabda59f0ff87c1db3a2d306a410713">GETSOCK_WRITESOCK</a></div><div class="ttdeci">#define GETSOCK_WRITESOCK(x)</div><div class="ttdef"><b>Definition:</b> <a href="multiif_8h_source.html#l00048">multiif.h:48</a></div></div>
<div class="ttc" id="structconnectbundle_html_a22977226b49d058b284fe58643165d8b"><div class="ttname"><a href="structconnectbundle.html#a22977226b49d058b284fe58643165d8b">connectbundle::multiuse</a></div><div class="ttdeci">int multiuse</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00047">conncache.h:47</a></div></div>
<div class="ttc" id="structcurltime_html"><div class="ttname"><a href="structcurltime.html">curltime</a></div><div class="ttdef"><b>Definition:</b> <a href="timeval_8h_source.html#l00033">timeval.h:33</a></div></div>
<div class="ttc" id="structconnectdata_html_a23dda8a6723d55183f77ce35788f5579"><div class="ttname"><a href="structconnectdata.html#a23dda8a6723d55183f77ce35788f5579">connectdata::options</a></div><div class="ttdeci">char * options</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00865">urldata.h:865</a></div></div>
<div class="ttc" id="asyn_8h_html_a49da7a0f7f3ec87fee1ad60f2fd7e651"><div class="ttname"><a href="asyn_8h.html#a49da7a0f7f3ec87fee1ad60f2fd7e651">Curl_resolver_init</a></div><div class="ttdeci">CURLcode Curl_resolver_init(struct Curl_easy *easy, void **resolver)</div></div>
<div class="ttc" id="structconnectdata_html_a878ad8b625208d9aa421852225c33b30"><div class="ttname"><a href="structconnectdata.html#a878ad8b625208d9aa421852225c33b30">connectdata::given</a></div><div class="ttdeci">const struct Curl_handler * given</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00906">urldata.h:906</a></div></div>
<div class="ttc" id="asyn_8h_html_a5347031b2083b57609737b61c8ec4486"><div class="ttname"><a href="asyn_8h.html#a5347031b2083b57609737b61c8ec4486">Curl_resolver_cleanup</a></div><div class="ttdeci">void Curl_resolver_cleanup(void *resolver)</div></div>
<div class="ttc" id="curl__memory_8h_html"><div class="ttname"><a href="curl__memory_8h.html">curl_memory.h</a></div></div>
<div class="ttc" id="url_8c_html_a84d25069eedf327bfd18e9960e8976c5"><div class="ttname"><a href="url_8c.html#a84d25069eedf327bfd18e9960e8976c5">Curl_init_do</a></div><div class="ttdeci">CURLcode Curl_init_do(struct Curl_easy *data, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l04190">url.c:4190</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a6f40ec190b29fc01606043313439328a"><div class="ttname"><a href="struct_curl__handler.html#a6f40ec190b29fc01606043313439328a">Curl_handler::scheme</a></div><div class="ttdeci">const char * scheme</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00629">urldata.h:629</a></div></div>
<div class="ttc" id="curl_8h_html_ae2930aaf7cffdd6b90d6e2ed9ed2f041"><div class="ttname"><a href="curl_8h.html#ae2930aaf7cffdd6b90d6e2ed9ed2f041">CURLPROTO_TFTP</a></div><div class="ttdeci">#define CURLPROTO_TFTP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00876">curl.h:876</a></div></div>
<div class="ttc" id="url_8h_html_a81b42340106ec57e0a3ee896ef70f401"><div class="ttname"><a href="url_8h.html#a81b42340106ec57e0a3ee896ef70f401">CURL_DEFAULT_PROXY_PORT</a></div><div class="ttdeci">#define CURL_DEFAULT_PROXY_PORT</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00087">url.h:87</a></div></div>
<div class="ttc" id="multi_8c_html_ab129de4f342cdcec38532d0bb93ccb1f"><div class="ttname"><a href="multi_8c.html#ab129de4f342cdcec38532d0bb93ccb1f">Curl_multi_max_host_connections</a></div><div class="ttdeci">size_t Curl_multi_max_host_connections(struct Curl_multi *multi)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l03126">multi.c:3126</a></div></div>
<div class="ttc" id="structurlpieces_html_a4a672d9ad2c29549af4a12d52b7c5185"><div class="ttname"><a href="structurlpieces.html#a4a672d9ad2c29549af4a12d52b7c5185">urlpieces::query</a></div><div class="ttdeci">char * query</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01237">urldata.h:1237</a></div></div>
<div class="ttc" id="pipeline_8c_html_a2f59dc911931337300b0b3db60936f12"><div class="ttname"><a href="pipeline_8c.html#a2f59dc911931337300b0b3db60936f12">Curl_pipeline_leave_write</a></div><div class="ttdeci">void Curl_pipeline_leave_write(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00367">pipeline.c:367</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00458">curl.h:458</a></div></div>
<div class="ttc" id="structconnectdata_html_a44ea1ec223e43a877daac8a34167096a"><div class="ttname"><a href="structconnectdata.html#a44ea1ec223e43a877daac8a34167096a">connectdata::socks_proxy</a></div><div class="ttdeci">struct proxy_info socks_proxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00836">urldata.h:836</a></div></div>
<div class="ttc" id="structproxy__info_html_af52315bbfa283cc0497b4651c08fda7a"><div class="ttname"><a href="structproxy__info.html#af52315bbfa283cc0497b4651c08fda7a">proxy_info::port</a></div><div class="ttdeci">long port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00753">urldata.h:753</a></div></div>
<div class="ttc" id="urldata_8h_html_a7b8dcb7ab883f6b413a63f15354bb681"><div class="ttname"><a href="urldata_8h.html#a7b8dcb7ab883f6b413a63f15354bb681">CURL_DEFAULT_USER</a></div><div class="ttdeci">#define CURL_DEFAULT_USER</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00060">urldata.h:60</a></div></div>
<div class="ttc" id="url_8c_html_a036cbcdd88b8a8caa727b6b292e6d6aa"><div class="ttname"><a href="url_8c.html#a036cbcdd88b8a8caa727b6b292e6d6aa">Curl_upkeep</a></div><div class="ttdeci">CURLcode Curl_upkeep(struct conncache *conn_cache, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l04366">url.c:4366</a></div></div>
<div class="ttc" id="multihandle_8h_html"><div class="ttname"><a href="multihandle_8h.html">multihandle.h</a></div></div>
<div class="ttc" id="structcurl__llist_html_a3f6e07aacbee78561127b0166cc28fe7"><div class="ttname"><a href="structcurl__llist.html#a3f6e07aacbee78561127b0166cc28fe7">curl_llist::head</a></div><div class="ttdeci">struct curl_llist_element * head</div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00037">llist.h:37</a></div></div>
<div class="ttc" id="strdup_8h_html"><div class="ttname"><a href="strdup_8h.html">strdup.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a3b42f4c610116cfa591c4eda7c1f7346"><div class="ttname"><a href="urldata_8h.html#a3b42f4c610116cfa591c4eda7c1f7346">PROTOPT_NEEDSPWD</a></div><div class="ttdeci">#define PROTOPT_NEEDSPWD</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00715">urldata.h:715</a></div></div>
<div class="ttc" id="structconnectdata_html_aa5f47898ac300afb3ebdb21478f4074d"><div class="ttname"><a href="structconnectdata.html#aa5f47898ac300afb3ebdb21478f4074d">connectdata::httpc</a></div><div class="ttdeci">struct http_conn httpc</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01004">urldata.h:1004</a></div></div>
<div class="ttc" id="curl_8h_html_ab3bdc6e04b3b3af7d40f0719e2f66bf2"><div class="ttname"><a href="curl_8h.html#ab3bdc6e04b3b3af7d40f0719e2f66bf2">CURLPROTO_TELNET</a></div><div class="ttdeci">#define CURLPROTO_TELNET</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00871">curl.h:871</a></div></div>
<div class="ttc" id="struct_curl__easy_html_abcc5aa61af150adc1388b1a3492c2599"><div class="ttname"><a href="struct_curl__easy.html#abcc5aa61af150adc1388b1a3492c2599">Curl_easy::set</a></div><div class="ttdeci">struct UserDefined set</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01788">urldata.h:1788</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1de"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1de">CURLUcode</a></div><div class="ttdeci">CURLUcode</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00030">urlapi.h:30</a></div></div>
<div class="ttc" id="curl__ldap_8h_html"><div class="ttname"><a href="curl__ldap_8h.html">curl_ldap.h</a></div></div>
<div class="ttc" id="multiif_8h_html"><div class="ttname"><a href="multiif_8h.html">multiif.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a06e40f8f1e2219fb5b519c74715c3537"><div class="ttname"><a href="urldata_8h.html#a06e40f8f1e2219fb5b519c74715c3537">PROTOPT_NONE</a></div><div class="ttdeci">#define PROTOPT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00705">urldata.h:705</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3f"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3f">dupstring</a></div><div class="ttdeci">dupstring</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01397">urldata.h:1397</a></div></div>
<div class="ttc" id="http__proxy_8c_html_a64cc706da81f4e2a504fc457b79542e2"><div class="ttname"><a href="http__proxy_8c.html#a64cc706da81f4e2a504fc457b79542e2">Curl_connect_ongoing</a></div><div class="ttdeci">bool Curl_connect_ongoing(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="http__proxy_8c_source.html#l00144">http_proxy.c:144</a></div></div>
<div class="ttc" id="setopt_8c_html_ae1784551e8f34579c3b3ef1416b72e13"><div class="ttname"><a href="setopt_8c.html#ae1784551e8f34579c3b3ef1416b72e13">Curl_setstropt</a></div><div class="ttdeci">CURLcode Curl_setstropt(char **charp, const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="setopt_8c_source.html#l00053">setopt.c:53</a></div></div>
<div class="ttc" id="timeval_8c_html_a93ce3158c8838916ed817489c98e37c4"><div class="ttname"><a href="timeval_8c.html#a93ce3158c8838916ed817489c98e37c4">Curl_timediff</a></div><div class="ttdeci">timediff_t Curl_timediff(struct curltime newer, struct curltime older)</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8c_source.html#l00181">timeval.c:181</a></div></div>
<div class="ttc" id="urlapi_8h_html_af266c2842a02b57de68cf15024893a11"><div class="ttname"><a href="urlapi_8h.html#af266c2842a02b57de68cf15024893a11">curl_url</a></div><div class="ttdeci">CURL_EXTERN CURLU * curl_url(void)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l00879">urlapi.c:879</a></div></div>
<div class="ttc" id="struct_connect_bits_html_aaf15319fba965e2d87ac0ac839ae8351"><div class="ttname"><a href="struct_connect_bits.html#aaf15319fba965e2d87ac0ac839ae8351">ConnectBits::close</a></div><div class="ttdeci">bool close</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00381">urldata.h:381</a></div></div>
<div class="ttc" id="url_8c_html_a3201ad08770f97349774c201c3c624cd"><div class="ttname"><a href="url_8c.html#a3201ad08770f97349774c201c3c624cd">Curl_protocol_connect</a></div><div class="ttdeci">CURLcode Curl_protocol_connect(struct connectdata *conn, bool *protocol_done)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01614">url.c:1614</a></div></div>
<div class="ttc" id="curl_8h_html_af898dd6eb71573ccb1668c3d2380549ca6f2da9e91a2a68f68ab45d547b4fffda"><div class="ttname"><a href="curl_8h.html#af898dd6eb71573ccb1668c3d2380549ca6f2da9e91a2a68f68ab45d547b4fffda">CURL_LOCK_DATA_SHARE</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02606">curl.h:2606</a></div></div>
<div class="ttc" id="_b_l_e_eddystone_u_r_l_8h_html_ad62c324cbfcc92532598792c6d0f6494"><div class="ttname"><a href="_b_l_e_eddystone_u_r_l_8h.html#ad62c324cbfcc92532598792c6d0f6494">url</a></div><div class="ttdeci">uint8_t url[16]</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_eddystone_u_r_l_8h_source.html#l00037">BLEEddystoneURL.h:37</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa57a9539851436f7df3f106c5e23642b6"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa57a9539851436f7df3f106c5e23642b6">STRING_BEARER</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01470">urldata.h:1470</a></div></div>
<div class="ttc" id="memdebug_8h_html_a795660f73c902cc80ac0fe6cda0dbd1c"><div class="ttname"><a href="memdebug_8h.html#a795660f73c902cc80ac0fe6cda0dbd1c">Curl_safefree</a></div><div class="ttdeci">#define Curl_safefree(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="memdebug_8h_source.html#l00176">memdebug.h:176</a></div></div>
<div class="ttc" id="curl_8h_html_a244121d9a638b2a30b892c2f350f1c7f"><div class="ttname"><a href="curl_8h.html#a244121d9a638b2a30b892c2f350f1c7f">CURLPROTO_RTMPE</a></div><div class="ttdeci">#define CURLPROTO_RTMPE</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00886">curl.h:886</a></div></div>
<div class="ttc" id="curl__setup_8h_html"><div class="ttname"><a href="curl__setup_8h.html">curl_setup.h</a></div></div>
<div class="ttc" id="structconnectdata_html_ad62c1d859902f11e5164705a58dc7556"><div class="ttname"><a href="structconnectdata.html#ad62c1d859902f11e5164705a58dc7556">connectdata::closesocket_client</a></div><div class="ttdeci">void * closesocket_client</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00796">urldata.h:796</a></div></div>
<div class="ttc" id="conncache_8c_html_a4cf7fa1d5e3a258637b7a42b253a4602"><div class="ttname"><a href="conncache_8c.html#a4cf7fa1d5e3a258637b7a42b253a4602">Curl_conncache_foreach</a></div><div class="ttdeci">bool Curl_conncache_foreach(struct Curl_easy *data, struct conncache *connc, void *param, int(*func)(struct connectdata *conn, void *param))</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00344">conncache.c:344</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa2532d7b0834be7c73de1ad0218f51066"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa2532d7b0834be7c73de1ad0218f51066">STRING_CERT_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01399">urldata.h:1399</a></div></div>
<div class="ttc" id="urldata_8h_html_a3bfbbdae2857443d0580fc5b5b4a0a5b"><div class="ttname"><a href="urldata_8h.html#a3bfbbdae2857443d0580fc5b5b4a0a5b">PROTOPT_NONETWORK</a></div><div class="ttdeci">#define PROTOPT_NONETWORK</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00714">urldata.h:714</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_ab818628aee06527d680ef20a16a53c6e"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#ab818628aee06527d680ef20a16a53c6e">connectdata::dynamically_allocated_data::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00933">urldata.h:933</a></div></div>
<div class="ttc" id="structconnectdata_html_a3385c7e824e59f8075d69b410fd7a72e"><div class="ttname"><a href="structconnectdata.html#a3385c7e824e59f8075d69b410fd7a72e">connectdata::secondary_port</a></div><div class="ttdeci">unsigned short secondary_port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00843">urldata.h:843</a></div></div>
<div class="ttc" id="setopt_8h_html"><div class="ttname"><a href="setopt_8h.html">setopt.h</a></div></div>
<div class="ttc" id="curl__printf_8h_html_a3e3dfee99c81f563d18ef4626d8886e1"><div class="ttname"><a href="curl__printf_8h.html#a3e3dfee99c81f563d18ef4626d8886e1">aprintf</a></div><div class="ttdeci">#define aprintf</div><div class="ttdef"><b>Definition:</b> <a href="curl__printf_8h_source.html#l00046">curl_printf.h:46</a></div></div>
<div class="ttc" id="urldata_8h_html_ac67e77846b7b67d5808da8f1dfa2eab8ae4322de705c516b61756f9874183ef05"><div class="ttname"><a href="urldata_8h.html#ac67e77846b7b67d5808da8f1dfa2eab8ae4322de705c516b61756f9874183ef05">HTTPREQ_GET</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01134">urldata.h:1134</a></div></div>
<div class="ttc" id="unit1652_8c_html_a1d19b0eef3b3acd31be88886a0277c2e"><div class="ttname"><a href="unit1652_8c.html#a1d19b0eef3b3acd31be88886a0277c2e">memset</a></div><div class="ttdeci">memset(input, '\0', sizeof(input))</div></div>
<div class="ttc" id="struct_connect_bits_html_a91829a03c2fae88d0de9c895e9df8cca"><div class="ttname"><a href="struct_connect_bits.html#a91829a03c2fae88d0de9c895e9df8cca">ConnectBits::socksproxy</a></div><div class="ttdeci">bool socksproxy</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00389">urldata.h:389</a></div></div>
<div class="ttc" id="llist_8c_html_a36b09b21eb5d63095a325575113df4f0"><div class="ttname"><a href="llist_8c.html#a36b09b21eb5d63095a325575113df4f0">Curl_llist_remove</a></div><div class="ttdeci">void Curl_llist_remove(struct curl_llist *list, struct curl_llist_element *e, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="llist_8c_source.html#l00093">llist.c:93</a></div></div>
<div class="ttc" id="header_8d_html_a1fa2fe05139b1bad1ba9f137f51a222f"><div class="ttname"><a href="header_8d.html#a1fa2fe05139b1bad1ba9f137f51a222f">host</a></div><div class="ttdeci">to send X Custom you should thus fBnot fP add that as a part of the header they will only mess things up for you.Starting this option can take an argument in filename which then adds a header for each line in the input file.Using will make curl read the header file from stdin.See also the user agent and referer options.Starting you need proxy header to send custom headers intended for a proxy.like when told with location.This can lead to the header being sent to other hosts than the original host</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00019">header.d:19</a></div></div>
<div class="ttc" id="struct_single_request_html_a97c471abe695b617c7695de635b49440"><div class="ttname"><a href="struct_single_request.html#a97c471abe695b617c7695de635b49440">SingleRequest::header</a></div><div class="ttdeci">bool header</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00553">urldata.h:553</a></div></div>
<div class="ttc" id="struct_connect_bits_html_aafa3f0b216458e430a067bb46beab02b"><div class="ttname"><a href="struct_connect_bits.html#aafa3f0b216458e430a067bb46beab02b">ConnectBits::proxy_user_passwd</a></div><div class="ttdeci">bool proxy_user_passwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00391">urldata.h:391</a></div></div>
<div class="ttc" id="urldata_8h_html_a72f0f7158944999b62d50462b0ff2733"><div class="ttname"><a href="urldata_8h.html#a72f0f7158944999b62d50462b0ff2733">DEFAULT_CONNCACHE_SIZE</a></div><div class="ttdeci">#define DEFAULT_CONNCACHE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00072">urldata.h:72</a></div></div>
<div class="ttc" id="struct_url_state_html_a47f7c9d0e3fb07d01260624ed7e57d9c"><div class="ttname"><a href="struct_url_state.html#a47f7c9d0e3fb07d01260624ed7e57d9c">UrlState::range</a></div><div class="ttdeci">char * range</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01335">urldata.h:1335</a></div></div>
<div class="ttc" id="curl_8h_html_ad2f83089deb2d8a6cac955e9d6f06deaa59820bd334fa9f57f196d62942254472"><div class="ttname"><a href="curl_8h.html#ad2f83089deb2d8a6cac955e9d6f06deaa59820bd334fa9f57f196d62942254472">CURL_NETRC_IGNORED</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01961">curl.h:1961</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa0e5d1b313fa6f1d46eb800728c71a15e"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0e5d1b313fa6f1d46eb800728c71a15e">STRING_SSL_CIPHER_LIST_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01431">urldata.h:1431</a></div></div>
<div class="ttc" id="multi_8h_html_abd5c8bf83688f15099b512846f6efc5a"><div class="ttname"><a href="multi_8h.html#abd5c8bf83688f15099b512846f6efc5a">curl_multi_remove_handle</a></div><div class="ttdeci">CURL_EXTERN CURLMcode curl_multi_remove_handle(CURLM *multi_handle, CURL *curl_handle)</div></div>
<div class="ttc" id="unit1620_8c_html_a3a33462ee2a725f19a5b920fff903e3f"><div class="ttname"><a href="unit1620_8c.html#a3a33462ee2a725f19a5b920fff903e3f">async</a></div><div class="ttdeci">bool async</div><div class="ttdef"><b>Definition:</b> <a href="unit1620_8c_source.html#l00045">unit1620.c:45</a></div></div>
<div class="ttc" id="ftp_8c_html_a79071fb30b2abfa423a252245cbc6190"><div class="ttname"><a href="ftp_8c.html#a79071fb30b2abfa423a252245cbc6190">Curl_handler_ftp</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_ftp</div><div class="ttdef"><b>Definition:</b> <a href="ftp_8c_source.html#l00167">ftp.c:167</a></div></div>
<div class="ttc" id="struct_connect_bits_html_aa6493ae964163380f432dd306f2618f6"><div class="ttname"><a href="struct_connect_bits.html#aa6493ae964163380f432dd306f2618f6">ConnectBits::ftp_use_eprt</a></div><div class="ttdeci">bool ftp_use_eprt</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00421">urldata.h:421</a></div></div>
<div class="ttc" id="http2_8h_html_af65fa81e85022ee9b2ca5b8c46664f10"><div class="ttname"><a href="http2_8h.html#af65fa81e85022ee9b2ca5b8c46664f10">Curl_http2_init_state</a></div><div class="ttdeci">#define Curl_http2_init_state(x)</div><div class="ttdef"><b>Definition:</b> <a href="http2_8h_source.html#l00073">http2.h:73</a></div></div>
<div class="ttc" id="curl__setup_8h_html_a904f1a264860f2acd3542356a65e5fcb"><div class="ttname"><a href="curl__setup_8h.html#a904f1a264860f2acd3542356a65e5fcb">DOT_CHAR</a></div><div class="ttdeci">#define DOT_CHAR</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup_8h_source.html#l00511">curl_setup.h:511</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_ad0d3b107dbf2e7d40f2680e40498f1f3"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#ad0d3b107dbf2e7d40f2680e40498f1f3">connectdata::dynamically_allocated_data::uagent</a></div><div class="ttdeci">char * uagent</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00928">urldata.h:928</a></div></div>
<div class="ttc" id="structcurl__llist__element_html"><div class="ttname"><a href="structcurl__llist__element.html">curl_llist_element</a></div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00030">llist.h:30</a></div></div>
<div class="ttc" id="non-ascii_8h_html"><div class="ttname"><a href="non-ascii_8h.html">non-ascii.h</a></div></div>
<div class="ttc" id="curl_8h_html_a18ed920bff785f395a16861d51292d8c"><div class="ttname"><a href="curl_8h.html#a18ed920bff785f395a16861d51292d8c">CURLPROTO_RTMPTE</a></div><div class="ttdeci">#define CURLPROTO_RTMPTE</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00887">curl.h:887</a></div></div>
<div class="ttc" id="urldata_8h_html_a321db7077eba4dd12d264bcebfd60fe2"><div class="ttname"><a href="urldata_8h.html#a321db7077eba4dd12d264bcebfd60fe2">MAX_CURL_USER_LENGTH</a></div><div class="ttdeci">#define MAX_CURL_USER_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01169">urldata.h:1169</a></div></div>
<div class="ttc" id="conncache_8c_html_ac16f7f25e0ae5d93e3fe6355a5805403"><div class="ttname"><a href="conncache_8c.html#ac16f7f25e0ae5d93e3fe6355a5805403">Curl_conncache_bundle_size</a></div><div class="ttdeci">size_t Curl_conncache_bundle_size(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00201">conncache.c:201</a></div></div>
<div class="ttc" id="sendf_8c_html_aabefb972f6bc78eb11f4b038a6508ecd"><div class="ttname"><a href="sendf_8c.html#aabefb972f6bc78eb11f4b038a6508ecd">Curl_send_plain</a></div><div class="ttdeci">ssize_t Curl_send_plain(struct connectdata *conn, int num, const void *mem, size_t len, CURLcode *code)</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8c_source.html#l00371">sendf.c:371</a></div></div>
<div class="ttc" id="netrc_8h_html"><div class="ttname"><a href="netrc_8h.html">netrc.h</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fae52dae58ff05c95193852b5fe0cb6436"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fae52dae58ff05c95193852b5fe0cb6436">STRING_NOPROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01448">urldata.h:1448</a></div></div>
<div class="ttc" id="curl_8h_html_ad65e62dcde45b356254b0f25f38dd802"><div class="ttname"><a href="curl_8h.html#ad65e62dcde45b356254b0f25f38dd802">curl_write_callback</a></div><div class="ttdeci">size_t(* curl_write_callback)(char *buffer, size_t size, size_t nitems, void *outstream)</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00244">curl.h:244</a></div></div>
<div class="ttc" id="stdcheaders_8h_html_aae22dd41ebe1e64904429c5a31e7e642"><div class="ttname"><a href="stdcheaders_8h.html#aae22dd41ebe1e64904429c5a31e7e642">fread</a></div><div class="ttdeci">size_t fread(void *, size_t, size_t, FILE *)</div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa0ed097ad80260302c8100c1440ca18c3"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa0ed097ad80260302c8100c1440ca18c3">STRING_SSL_ISSUERCERT_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01441">urldata.h:1441</a></div></div>
<div class="ttc" id="http2_8h_html"><div class="ttname"><a href="http2_8h.html">http2.h</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8ae118261fbb43ab332f00f65574d08ec9">CURLPROXY_HTTPS</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00677">curl.h:677</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a90b98fc82c9d84afa3a8a3f82d283388"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a90b98fc82c9d84afa3a8a3f82d283388">CURLE_COULDNT_CONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00466">curl.h:466</a></div></div>
<div class="ttc" id="curl_8h_html_ab0ce92d385bff5793aee465a73023072"><div class="ttname"><a href="curl_8h.html#ab0ce92d385bff5793aee465a73023072">CURLPROTO_SMTP</a></div><div class="ttdeci">#define CURLPROTO_SMTP</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00881">curl.h:881</a></div></div>
<div class="ttc" id="curl_8h_html_ae4ca8bc935e80a76fa4a2426a5826ae5"><div class="ttname"><a href="curl_8h.html#ae4ca8bc935e80a76fa4a2426a5826ae5">CURLPROTO_RTMPT</a></div><div class="ttdeci">#define CURLPROTO_RTMPT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00885">curl.h:885</a></div></div>
<div class="ttc" id="urldata_8h_html_a816857c637b57c60b680d1bf575ef159a0158dded17017157fee6a804f4f2adaa"><div class="ttname"><a href="urldata_8h.html#a816857c637b57c60b680d1bf575ef159a0158dded17017157fee6a804f4f2adaa">RTSPREQ_OPTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01147">urldata.h:1147</a></div></div>
<div class="ttc" id="components_2curl_2lib_2telnet_8c_html_a218d1b371584dc032bc046ed14af2ca3"><div class="ttname"><a href="components_2curl_2lib_2telnet_8c.html#a218d1b371584dc032bc046ed14af2ca3">Curl_handler_telnet</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_telnet</div><div class="ttdef"><b>Definition:</b> <a href="components_2curl_2lib_2telnet_8c_source.html#l00179">telnet.c:179</a></div></div>
<div class="ttc" id="vtls_8c_html_a31c6901e598df0934bf3e1464136910c"><div class="ttname"><a href="vtls_8c.html#a31c6901e598df0934bf3e1464136910c">Curl_ssl_backend</a></div><div class="ttdeci">int Curl_ssl_backend(void)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8c_source.html#l00143">vtls.c:143</a></div></div>
<div class="ttc" id="struct_connect_bits_html_ac81c594d3bde6b99be89b39136967e91"><div class="ttname"><a href="struct_connect_bits.html#ac81c594d3bde6b99be89b39136967e91">ConnectBits::netrc</a></div><div class="ttdeci">bool netrc</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00425">urldata.h:425</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa3298cb978a9f6ba3e0c9c968344d97aa"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3298cb978a9f6ba3e0c9c968344d97aa">STRING_SSL_CIPHER13_LIST_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01433">urldata.h:1433</a></div></div>
<div class="ttc" id="structconnectdata_html_ad0fdd504366b349123252aa698625fd9"><div class="ttname"><a href="structconnectdata.html#ad0fdd504366b349123252aa698625fd9">connectdata::ip_version</a></div><div class="ttdeci">long ip_version</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00908">urldata.h:908</a></div></div>
<div class="ttc" id="file_8c_html_ad4db8d27c2dff81749fd0015a0ad24cd"><div class="ttname"><a href="file_8c.html#ad4db8d27c2dff81749fd0015a0ad24cd">Curl_handler_file</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_file</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00097">file.c:97</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa72db206f38d80f105f87591461b294ba"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa72db206f38d80f105f87591461b294ba">STRING_CERT_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01398">urldata.h:1398</a></div></div>
<div class="ttc" id="url_8c_html_a6ba815ed78d02e76c51dc646ffded7dc"><div class="ttname"><a href="url_8c.html#a6ba815ed78d02e76c51dc646ffded7dc">Curl_free_request_state</a></div><div class="ttdeci">void Curl_free_request_state(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l02284">url.c:2284</a></div></div>
<div class="ttc" id="structconnectdata_html_a13cc2123ad38902e8ad44e67f10ed7aa"><div class="ttname"><a href="structconnectdata.html#a13cc2123ad38902e8ad44e67f10ed7aa">connectdata::sock</a></div><div class="ttdeci">curl_socket_t sock[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00874">urldata.h:874</a></div></div>
<div class="ttc" id="progress_8c_html_afd65889574fb7bde6ffcec48b0d8debb"><div class="ttname"><a href="progress_8c.html#afd65889574fb7bde6ffcec48b0d8debb">Curl_pgrsSetDownloadCounter</a></div><div class="ttdeci">void Curl_pgrsSetDownloadCounter(struct Curl_easy *data, curl_off_t size)</div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00306">progress.c:306</a></div></div>
<div class="ttc" id="structconnectdata_html_a5e16a551e6307336f0049fb60315bdee"><div class="ttname"><a href="structconnectdata.html#a5e16a551e6307336f0049fb60315bdee">connectdata::fclosesocket</a></div><div class="ttdeci">curl_closesocket_callback fclosesocket</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00795">urldata.h:795</a></div></div>
<div class="ttc" id="mime_8c_html_a26e5fb189d0937d27da11d1c10c09565"><div class="ttname"><a href="mime_8c.html#a26e5fb189d0937d27da11d1c10c09565">Curl_mime_initpart</a></div><div class="ttdeci">void Curl_mime_initpart(curl_mimepart *part, struct Curl_easy *easy)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8c_source.html#l01245">mime.c:1245</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba347b25d9d344dbf29c5274bd184ac706"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba347b25d9d344dbf29c5274bd184ac706">CURLUPART_HOST</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00057">urlapi.h:57</a></div></div>
<div class="ttc" id="urlapi_8h_html_a454384246f1932a3493fa5eb9f671ffc"><div class="ttname"><a href="urlapi_8h.html#a454384246f1932a3493fa5eb9f671ffc">CURLU_URLDECODE</a></div><div class="ttdeci">#define CURLU_URLDECODE</div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00073">urlapi.h:73</a></div></div>
<div class="ttc" id="struct_user_defined_html_a5a5553b0cb30c0014b4c53d2ba0825f3"><div class="ttname"><a href="struct_user_defined.html#a5a5553b0cb30c0014b4c53d2ba0825f3">UserDefined::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01643">urldata.h:1643</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa4908c4f159e9d8522dc3e847e89d2057"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa4908c4f159e9d8522dc3e847e89d2057">STRING_SSL_CIPHER_LIST_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01432">urldata.h:1432</a></div></div>
<div class="ttc" id="structconnectdata_html_aaf06c7a3f4e682976ea7c3fc86273aa6"><div class="ttname"><a href="structconnectdata.html#aaf06c7a3f4e682976ea7c3fc86273aa6">connectdata::conn_to_host</a></div><div class="ttdeci">struct hostname conn_to_host</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00833">urldata.h:833</a></div></div>
<div class="ttc" id="hostip_8c_html_a336a5d08a3d7db99e3bf4157a58d90dc"><div class="ttname"><a href="hostip_8c.html#a336a5d08a3d7db99e3bf4157a58d90dc">Curl_resolv_timeout</a></div><div class="ttdeci">int Curl_resolv_timeout(struct connectdata *conn, const char *hostname, int port, struct Curl_dns_entry **entry, time_t timeoutms)</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8c_source.html#l00658">hostip.c:658</a></div></div>
<div class="ttc" id="url_8c_html_a53f36ad7e1bab7006b7e434b5ae67718"><div class="ttname"><a href="url_8c.html#a53f36ad7e1bab7006b7e434b5ae67718">Curl_freeset</a></div><div class="ttdeci">void Curl_freeset(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00272">url.c:272</a></div></div>
<div class="ttc" id="structurlpieces_html_aceda10d12cbc9388f7af407287b2333e"><div class="ttname"><a href="structurlpieces.html#aceda10d12cbc9388f7af407287b2333e">urlpieces::path</a></div><div class="ttdeci">char * path</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01236">urldata.h:1236</a></div></div>
<div class="ttc" id="structconnectdata_html_a4acb6315f331c234b0bdbfd4b1a402e7"><div class="ttname"><a href="structconnectdata.html#a4acb6315f331c234b0bdbfd4b1a402e7">connectdata::ssl_config</a></div><div class="ttdeci">struct ssl_primary_config ssl_config</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00890">urldata.h:890</a></div></div>
<div class="ttc" id="connect_8c_html_acdf676920980d6aa810eea58620aafa5"><div class="ttname"><a href="connect_8c.html#acdf676920980d6aa810eea58620aafa5">Curl_persistconninfo</a></div><div class="ttdeci">void Curl_persistconninfo(struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="connect_8c_source.html#l00610">connect.c:610</a></div></div>
<div class="ttc" id="structconnectdata_html_ac808f51d6deb49f7806300cc1da23824"><div class="ttname"><a href="structconnectdata.html#ac808f51d6deb49f7806300cc1da23824">connectdata::scope_id</a></div><div class="ttdeci">unsigned int scope_id</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00826">urldata.h:826</a></div></div>
<div class="ttc" id="unit1652_8c_html_a348cae967f89c4bad8fb37e45a469d1a"><div class="ttname"><a href="unit1652_8c.html#a348cae967f89c4bad8fb37e45a469d1a">msnprintf</a></div><div class="ttdeci">UNITTEST_START msnprintf(input, sizeof(input), &quot;Simple Test&quot;)</div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa3c70195c651f9ba9fae65d4619218b29"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa3c70195c651f9ba9fae65d4619218b29">STRING_SSL_CRLFILE_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01438">urldata.h:1438</a></div></div>
<div class="ttc" id="url_8c_html_a75dd1250c19969740279d49c6815c1c0"><div class="ttname"><a href="url_8c.html#a75dd1250c19969740279d49c6815c1c0">conn_reset_all_postponed_data</a></div><div class="ttdeci">#define conn_reset_all_postponed_data(c)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00659">url.c:659</a></div></div>
<div class="ttc" id="llist_8c_html_a8ea7dbefac355279ad19f3dfe345a45a"><div class="ttname"><a href="llist_8c.html#a8ea7dbefac355279ad19f3dfe345a45a">Curl_llist_destroy</a></div><div class="ttdeci">void Curl_llist_destroy(struct curl_llist *list, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="llist_8c_source.html#l00134">llist.c:134</a></div></div>
<div class="ttc" id="structconnectdata_html_a2bb9cb7096c4799e15ed1b449c5c7f1b"><div class="ttname"><a href="structconnectdata.html#a2bb9cb7096c4799e15ed1b449c5c7f1b">connectdata::bundle</a></div><div class="ttdeci">struct connectbundle * bundle</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01031">urldata.h:1031</a></div></div>
<div class="ttc" id="struct_single_request_html_a7bd7f9afc35050a31e496a08c5baaeb8"><div class="ttname"><a href="struct_single_request.html#a7bd7f9afc35050a31e496a08c5baaeb8">SingleRequest::bytecount</a></div><div class="ttdeci">curl_off_t bytecount</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00541">urldata.h:541</a></div></div>
<div class="ttc" id="url_8h_html_aba8c7e581ed8f3f18376689f2e74f337"><div class="ttname"><a href="url_8h.html#aba8c7e581ed8f3f18376689f2e74f337">READBUFFER_SIZE</a></div><div class="ttdeci">#define READBUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00026">url.h:26</a></div></div>
<div class="ttc" id="header_8d_html_af039c1a4bf9f7d5ffdd981d66cd3fb2d"><div class="ttname"><a href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a></div><div class="ttdeci">Long your externally set header will be used instead of the one.This allows you to make even trickier stuff than curl would normally do.You should not replace internally set headers without knowing perfectly well what you re doing.Remove an header by giving a replacement without content on the right side of the as in</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00009">header.d:9</a></div></div>
<div class="ttc" id="struct_curl__handler_html_a2fc887b2697c63980406a19108b82a24"><div class="ttname"><a href="struct_curl__handler.html#a2fc887b2697c63980406a19108b82a24">Curl_handler::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00702">urldata.h:702</a></div></div>
<div class="ttc" id="transfer_8h_html"><div class="ttname"><a href="transfer_8h.html">transfer.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a281ce98dd88c8631e0ee7a4caf935b48"><div class="ttname"><a href="structconnectdata.html#a281ce98dd88c8631e0ee7a4caf935b48">connectdata::trailer</a></div><div class="ttdeci">char * trailer</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00998">urldata.h:998</a></div></div>
<div class="ttc" id="url_8c_html_a13ba4d524a116c2400ef2cf5cca77c3b"><div class="ttname"><a href="url_8c.html#a13ba4d524a116c2400ef2cf5cca77c3b">Curl_parse_login_details</a></div><div class="ttdeci">CURLcode Curl_parse_login_details(const char *login, const size_t len, char **userp, char **passwdp, char **optionsp)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l02885">url.c:2885</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8a57108a90bd6ce44c3d94fdfd53c775fd"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a57108a90bd6ce44c3d94fdfd53c775fd">CURLPROXY_SOCKS4A</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00681">curl.h:681</a></div></div>
<div class="ttc" id="escape_8h_html"><div class="ttname"><a href="escape_8h.html">escape.h</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a06ee9e40c4f7e506b01c849754ae40c8"><div class="ttname"><a href="struct_connect_bits.html#a06ee9e40c4f7e506b01c849754ae40c8">ConnectBits::ftp_use_epsv</a></div><div class="ttdeci">bool ftp_use_epsv</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00417">urldata.h:417</a></div></div>
<div class="ttc" id="sendf_8h_html_a0056494e05c065643a400059b9318270"><div class="ttname"><a href="sendf_8h.html#a0056494e05c065643a400059b9318270">infof</a></div><div class="ttdeci">#define infof</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8h_source.html#l00044">sendf.h:44</a></div></div>
<div class="ttc" id="structconnectdata_html_ad7c678f6933c3681e5d4e31d0a2a6494"><div class="ttname"><a href="structconnectdata.html#ad7c678f6933c3681e5d4e31d0a2a6494">connectdata::proxy_ssl_config</a></div><div class="ttdeci">struct ssl_primary_config proxy_ssl_config</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00891">urldata.h:891</a></div></div>
<div class="ttc" id="anyauth_8d_html_a1d461998550d329666033ab94bf67c6a"><div class="ttname"><a href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response thus possibly inducing an extra network round trip.This is used instead of setting a specific authentication which you can do with and negotiate.Using anyauth is not recommended if you do uploads from stdin</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="struct_url_state_html_a2a614f59e98ba94ecd0fc2edc1f189c3"><div class="ttname"><a href="struct_url_state.html#a2a614f59e98ba94ecd0fc2edc1f189c3">UrlState::resume_from</a></div><div class="ttdeci">curl_off_t resume_from</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01337">urldata.h:1337</a></div></div>
<div class="ttc" id="structconnectdata_html_a347307932d5d64be48527b2f3ed666ca"><div class="ttname"><a href="structconnectdata.html#a347307932d5d64be48527b2f3ed666ca">connectdata::proto</a></div><div class="ttdeci">union connectdata::@45 proto</div></div>
<div class="ttc" id="urldata_8h_html_a27e0e4c009c7bae409b32e148d923658"><div class="ttname"><a href="urldata_8h.html#a27e0e4c009c7bae409b32e148d923658">CONNRESULT_DEAD</a></div><div class="ttdeci">#define CONNRESULT_DEAD</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00735">urldata.h:735</a></div></div>
<div class="ttc" id="structhostname_html_a291f3a076a5e010a90c0245625ea09b9"><div class="ttname"><a href="structhostname.html#a291f3a076a5e010a90c0245625ea09b9">hostname::rawalloc</a></div><div class="ttdeci">char * rawalloc</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00447">urldata.h:447</a></div></div>
<div class="ttc" id="urldata_8h_html_a34fcb7c4bc590f8c24dee47e14ed41d6"><div class="ttname"><a href="urldata_8h.html#a34fcb7c4bc590f8c24dee47e14ed41d6">CONN_INUSE</a></div><div class="ttdeci">#define CONN_INUSE(c)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00803">urldata.h:803</a></div></div>
<div class="ttc" id="share_8c_html_a5dcfa53b653176b92395464a33b509cb"><div class="ttname"><a href="share_8c.html#a5dcfa53b653176b92395464a33b509cb">Curl_share_lock</a></div><div class="ttdeci">CURLSHcode Curl_share_lock(struct Curl_easy *data, curl_lock_data type, curl_lock_access accesstype)</div><div class="ttdef"><b>Definition:</b> <a href="share_8c_source.html#l00226">share.c:226</a></div></div>
<div class="ttc" id="sendf_8c_html_a93f532184de8849628a6048c992daf2b"><div class="ttname"><a href="sendf_8c.html#a93f532184de8849628a6048c992daf2b">Curl_recv_plain</a></div><div class="ttdeci">ssize_t Curl_recv_plain(struct connectdata *conn, int num, char *buf, size_t len, CURLcode *code)</div><div class="ttdef"><b>Definition:</b> <a href="sendf_8c_source.html#l00445">sendf.c:445</a></div></div>
<div class="ttc" id="curl_8h_html_a24fffb09f0eaa14dd67cde59e7b09480a3e82c23436860875b1b656827911ee3e"><div class="ttname"><a href="curl_8h.html#a24fffb09f0eaa14dd67cde59e7b09480a3e82c23436860875b1b656827911ee3e">CURL_TLSAUTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01997">curl.h:1997</a></div></div>
<div class="ttc" id="structconnectdata_html_a57fed5d378439f0b8cbad7cc9e916604"><div class="ttname"><a href="structconnectdata.html#a57fed5d378439f0b8cbad7cc9e916604">connectdata::proxy_ssl</a></div><div class="ttdeci">struct ssl_connect_data proxy_ssl[2]</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00886">urldata.h:886</a></div></div>
<div class="ttc" id="strcase_8h_html_a23b67e200b6f4c3ead633c94b3edcdb3"><div class="ttname"><a href="strcase_8h.html#a23b67e200b6f4c3ead633c94b3edcdb3">checkprefix</a></div><div class="ttdeci">#define checkprefix(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="strcase_8h_source.html#l00046">strcase.h:46</a></div></div>
<div class="ttc" id="hostip_8h_html_ae8618661546c3da74f78cc6e60dcc1b3"><div class="ttname"><a href="hostip_8h.html#ae8618661546c3da74f78cc6e60dcc1b3">CURLRESOLV_TIMEDOUT</a></div><div class="ttdeci">#define CURLRESOLV_TIMEDOUT</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00082">hostip.h:82</a></div></div>
<div class="ttc" id="curl_8h_html_a49d83160803f433b12209ed52aafc05f"><div class="ttname"><a href="curl_8h.html#a49d83160803f433b12209ed52aafc05f">CURL_HTTP_VERSION_2</a></div><div class="ttdeci">#define CURL_HTTP_VERSION_2</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01938">curl.h:1938</a></div></div>
<div class="ttc" id="structconnectdata_html_ac9d24fcd15a4c660fa7b6fbf55f6451d"><div class="ttname"><a href="structconnectdata.html#ac9d24fcd15a4c660fa7b6fbf55f6451d">connectdata::port</a></div><div class="ttdeci">long port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00839">urldata.h:839</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa44bdbcbad6ae62ee8ae3ba16f61e4197"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa44bdbcbad6ae62ee8ae3ba16f61e4197">STRING_OPTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01445">urldata.h:1445</a></div></div>
<div class="ttc" id="url_8c_html_af34ad1731858af49358d292b89e1d277"><div class="ttname"><a href="url_8c.html#af34ad1731858af49358d292b89e1d277">Curl_init_userdefined</a></div><div class="ttdeci">CURLcode Curl_init_userdefined(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00405">url.c:405</a></div></div>
<div class="ttc" id="structconnectdata_html_ad7ad0216049eeb5099888585025e2202"><div class="ttname"><a href="structconnectdata.html#ad7ad0216049eeb5099888585025e2202">connectdata::seek_client</a></div><div class="ttdeci">void * seek_client</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00974">urldata.h:974</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8a7d6d42eb703774dcd800c4881951c997"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a7d6d42eb703774dcd800c4881951c997">CURLPROXY_HTTP</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00673">curl.h:673</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa29e1ceb3d6dbaa6b04a3438dc3cc5f2f"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa29e1ceb3d6dbaa6b04a3438dc3cc5f2f">STRING_KEY_PASSWD_ORIG</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01413">urldata.h:1413</a></div></div>
<div class="ttc" id="struct_single_request_html_a9342cccc08a1a935d26085f854a4a9ef"><div class="ttname"><a href="struct_single_request.html#a9342cccc08a1a935d26085f854a4a9ef">SingleRequest::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00583">urldata.h:583</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_a802d4850777aae029b9aa17dc163580d"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#a802d4850777aae029b9aa17dc163580d">connectdata::dynamically_allocated_data::accept_encoding</a></div><div class="ttdeci">char * accept_encoding</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00929">urldata.h:929</a></div></div>
<div class="ttc" id="urldata_8h_html_a766105b6448011146b33df92f55d2261"><div class="ttname"><a href="urldata_8h.html#a766105b6448011146b33df92f55d2261">PROTOPT_WILDCARD</a></div><div class="ttdeci">#define PROTOPT_WILDCARD</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00728">urldata.h:728</a></div></div>
<div class="ttc" id="warnless_8h_html"><div class="ttname"><a href="warnless_8h.html">warnless.h</a></div></div>
<div class="ttc" id="struct_curl__dns__entry_html_a04bf1940359219c8e600a993c345d068"><div class="ttname"><a href="struct_curl__dns__entry.html#a04bf1940359219c8e600a993c345d068">Curl_dns_entry::inuse</a></div><div class="ttdeci">long inuse</div><div class="ttdef"><b>Definition:</b> <a href="hostip_8h_source.html#l00071">hostip.h:71</a></div></div>
<div class="ttc" id="curl__printf_8h_html_aab6e63106cf29e5160e5c2d63db86d27"><div class="ttname"><a href="curl__printf_8h.html#aab6e63106cf29e5160e5c2d63db86d27">fprintf</a></div><div class="ttdeci">#define fprintf</div><div class="ttdef"><b>Definition:</b> <a href="curl__printf_8h_source.html#l00041">curl_printf.h:41</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1deac2e085bf461f244975782d033af83813"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1deac2e085bf461f244975782d033af83813">CURLUE_USER_NOT_ALLOWED</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00039">urlapi.h:39</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a0ee68a0bf33b1d80a417c3d53a5bfa41">CURLPROXY_SOCKS4</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00678">curl.h:678</a></div></div>
<div class="ttc" id="structconnectdata_html_a90fee5026509bdba864f256eab51a77b"><div class="ttname"><a href="structconnectdata.html#a90fee5026509bdba864f256eab51a77b">connectdata::master_buffer</a></div><div class="ttdeci">char * master_buffer</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00967">urldata.h:967</a></div></div>
<div class="ttc" id="curl__ldap_8h_html_aa1253b14602d68a70ca20be27d768594"><div class="ttname"><a href="curl__ldap_8h.html#aa1253b14602d68a70ca20be27d768594">Curl_handler_ldap</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_ldap</div><div class="ttdef"><b>Definition:</b> <a href="ldap_8c_source.html#l00129">ldap.c:129</a></div></div>
<div class="ttc" id="urldata_8h_html"><div class="ttname"><a href="urldata_8h.html">urldata.h</a></div></div>
<div class="ttc" id="multi-debugcallback_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="multi-debugcallback_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="multi-debugcallback_8c_source.html#l00038">multi-debugcallback.c:38</a></div></div>
<div class="ttc" id="structcurl__llist_html"><div class="ttname"><a href="structcurl__llist.html">curl_llist</a></div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00036">llist.h:36</a></div></div>
<div class="ttc" id="struct_curl__multi_html_a0b29ca948d79c169c92f28239fbdd6ea"><div class="ttname"><a href="struct_curl__multi.html#a0b29ca948d79c169c92f28239fbdd6ea">Curl_multi::max_pipeline_length</a></div><div class="ttdeci">long max_pipeline_length</div><div class="ttdef"><b>Definition:</b> <a href="multihandle_8h_source.html#l00132">multihandle.h:132</a></div></div>
<div class="ttc" id="urldata_8h_html_a9ea1f37a358d8c3a9ee378b36e614b48"><div class="ttname"><a href="urldata_8h.html#a9ea1f37a358d8c3a9ee378b36e614b48">PROTOPT_CREDSPERREQUEST</a></div><div class="ttdeci">#define PROTOPT_CREDSPERREQUEST</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00719">urldata.h:719</a></div></div>
<div class="ttc" id="urldata_8h_html_a1107f8f3c79ed6d630958c8363ee37da"><div class="ttname"><a href="urldata_8h.html#a1107f8f3c79ed6d630958c8363ee37da">GOOD_EASY_HANDLE</a></div><div class="ttdeci">#define GOOD_EASY_HANDLE(x)</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00154">urldata.h:154</a></div></div>
<div class="ttc" id="url_8c_html_a557d55610156477514fe6dc5a178789e"><div class="ttname"><a href="url_8c.html#a557d55610156477514fe6dc5a178789e">Curl_close</a></div><div class="ttdeci">CURLcode Curl_close(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00319">url.c:319</a></div></div>
<div class="ttc" id="structproxy__info_html_a1bc66a2c41e16eb2138fc7bc4f96021a"><div class="ttname"><a href="structproxy__info.html#a1bc66a2c41e16eb2138fc7bc4f96021a">proxy_info::proxytype</a></div><div class="ttdeci">curl_proxytype proxytype</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00754">urldata.h:754</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a7563463d9ad94df9ed822c17786dd6a2"><div class="ttname"><a href="struct_connect_bits.html#a7563463d9ad94df9ed822c17786dd6a2">ConnectBits::do_more</a></div><div class="ttdeci">bool do_more</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00396">urldata.h:396</a></div></div>
<div class="ttc" id="non-ascii_8h_html_aaaa5271f94f6fd821706be7de0a47ae9"><div class="ttname"><a href="non-ascii_8h.html#aaaa5271f94f6fd821706be7de0a47ae9">Curl_convert_close</a></div><div class="ttdeci">#define Curl_convert_close(x)</div><div class="ttdef"><b>Definition:</b> <a href="non-ascii_8h_source.html#l00055">non-ascii.h:55</a></div></div>
<div class="ttc" id="curl_8h_html_a386aada409c078d3506577dcca240beb"><div class="ttname"><a href="curl_8h.html#a386aada409c078d3506577dcca240beb">CURLPROTO_RTMPS</a></div><div class="ttdeci">#define CURLPROTO_RTMPS</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00888">curl.h:888</a></div></div>
<div class="ttc" id="structconnectbundle_html_a57ed4d57b65409965070b7b82593391d"><div class="ttname"><a href="structconnectbundle.html#a57ed4d57b65409965070b7b82593391d">connectbundle::conn_list</a></div><div class="ttdeci">struct curl_llist conn_list</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00049">conncache.h:49</a></div></div>
<div class="ttc" id="imap_8h_html_aba3ad26835d0af88926a323546998304"><div class="ttname"><a href="imap_8h.html#aba3ad26835d0af88926a323546998304">Curl_handler_imaps</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_imaps</div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951aeaaa9c51dc850e9dd9b052c4aa32b782"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951aeaaa9c51dc850e9dd9b052c4aa32b782">CURLE_NO_CONNECTION_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00576">curl.h:576</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba31b7e4d52954c2d447b851e4891cf7a0"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba31b7e4d52954c2d447b851e4891cf7a0">CURLUPART_USER</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00054">urlapi.h:54</a></div></div>
<div class="ttc" id="hostip_8h_html"><div class="ttname"><a href="hostip_8h.html">hostip.h</a></div></div>
<div class="ttc" id="struct_curl__ssl_html_a67125f10866c619561ae6a7d38c4cd6f"><div class="ttname"><a href="struct_curl__ssl.html#a67125f10866c619561ae6a7d38c4cd6f">Curl_ssl::sizeof_ssl_backend_data</a></div><div class="ttdeci">size_t sizeof_ssl_backend_data</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00043">vtls.h:43</a></div></div>
<div class="ttc" id="curl_8h_html_a10d827e5e0e4d1c324f0dbc4ebe2f2b1"><div class="ttname"><a href="curl_8h.html#a10d827e5e0e4d1c324f0dbc4ebe2f2b1">CURLPROTO_POP3</a></div><div class="ttdeci">#define CURLPROTO_POP3</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00879">curl.h:879</a></div></div>
<div class="ttc" id="structconnectdata_html_a94e8ccd4c3824eb5353efcd5016908fa"><div class="ttname"><a href="structconnectdata.html#a94e8ccd4c3824eb5353efcd5016908fa">connectdata::allocptr</a></div><div class="ttdeci">struct connectdata::dynamically_allocated_data allocptr</div></div>
<div class="ttc" id="memdebug_8h_html"><div class="ttname"><a href="memdebug_8h.html">memdebug.h</a></div></div>
<div class="ttc" id="curl_8h_html_a8ebcd4e614f222aca6352ad5052634f8a60f240b4395a4acea5816c585b68a32f"><div class="ttname"><a href="curl_8h.html#a8ebcd4e614f222aca6352ad5052634f8a60f240b4395a4acea5816c585b68a32f">CURLPROXY_HTTP_1_0</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00675">curl.h:675</a></div></div>
<div class="ttc" id="http_8c_html_ada3b16c5ed5c539dfdfe51909d1224ec"><div class="ttname"><a href="http_8c.html#ada3b16c5ed5c539dfdfe51909d1224ec">Curl_handler_http</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_http</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00109">http.c:109</a></div></div>
<div class="ttc" id="structurlpieces_html_ac561333ae56240b401939694f505207e"><div class="ttname"><a href="structurlpieces.html#ac561333ae56240b401939694f505207e">urlpieces::port</a></div><div class="ttdeci">char * port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01232">urldata.h:1232</a></div></div>
<div class="ttc" id="vtls_8h_html_aa4cc853c97440333b00f76f160b3af50"><div class="ttname"><a href="vtls_8h.html#aa4cc853c97440333b00f76f160b3af50">Curl_ssl_free_certinfo</a></div><div class="ttdeci">#define Curl_ssl_free_certinfo(x)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00269">vtls.h:269</a></div></div>
<div class="ttc" id="urlapi_8h_html_aa61ba3e924e11f4a7f208aa051a5d2eba78d43413bf7e618d74014aea871032a1"><div class="ttname"><a href="urlapi_8h.html#aa61ba3e924e11f4a7f208aa051a5d2eba78d43413bf7e618d74014aea871032a1">CURLUPART_SCHEME</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00053">urlapi.h:53</a></div></div>
<div class="ttc" id="curl_8h_html_adb5a46d02359d2379dc7e0904c987828"><div class="ttname"><a href="curl_8h.html#adb5a46d02359d2379dc7e0904c987828">curl_socket_t</a></div><div class="ttdeci">int curl_socket_t</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00130">curl.h:130</a></div></div>
<div class="ttc" id="urldata_8h_html_ad7ac61834c3bfb1a509fdb5d4d7edc17"><div class="ttname"><a href="urldata_8h.html#ad7ac61834c3bfb1a509fdb5d4d7edc17">CONNCHECK_KEEPALIVE</a></div><div class="ttdeci">#define CONNCHECK_KEEPALIVE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00732">urldata.h:732</a></div></div>
<div class="ttc" id="curl_8h_html_a2611629a2ab88e042f40a524d797e911"><div class="ttname"><a href="curl_8h.html#a2611629a2ab88e042f40a524d797e911">curl_easy_unescape</a></div><div class="ttdeci">CURL_EXTERN char * curl_easy_unescape(CURL *handle, const char *string, int length, int *outlength)</div></div>
<div class="ttc" id="progress_8h_html_a478e9e98396f7df74b2f2402f4f6f9f0"><div class="ttname"><a href="progress_8h.html#a478e9e98396f7df74b2f2402f4f6f9f0">PGRS_HIDE</a></div><div class="ttdeci">#define PGRS_HIDE</div><div class="ttdef"><b>Definition:</b> <a href="progress_8h_source.html#l00059">progress.h:59</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a72ceb38665fe6374e78ebb8ca8d5e33a"><div class="ttname"><a href="struct_connect_bits.html#a72ceb38665fe6374e78ebb8ca8d5e33a">ConnectBits::multiplex</a></div><div class="ttdeci">bool multiplex</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00436">urldata.h:436</a></div></div>
<div class="ttc" id="url_8c_html_ab33224c0b40950d8ca21b816b234db3e"><div class="ttname"><a href="url_8c.html#ab33224c0b40950d8ca21b816b234db3e">Curl_protocol_connecting</a></div><div class="ttdeci">CURLcode Curl_protocol_connecting(struct connectdata *conn, bool *done)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l01575">url.c:1575</a></div></div>
<div class="ttc" id="curl__ctype_8h_html_ac0e84c3fd48c096e0f836d1cdbe310bb"><div class="ttname"><a href="curl__ctype_8h.html#ac0e84c3fd48c096e0f836d1cdbe310bb">ISXDIGIT</a></div><div class="ttdeci">#define ISXDIGIT(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__ctype_8h_source.html#l00067">curl_ctype.h:67</a></div></div>
<div class="ttc" id="struct_url_state_html_a378e4c0765c6b44975bdbb9aeaebd763"><div class="ttname"><a href="struct_url_state.html#a378e4c0765c6b44975bdbb9aeaebd763">UrlState::rangestringalloc</a></div><div class="ttdeci">bool rangestringalloc</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01333">urldata.h:1333</a></div></div>
<div class="ttc" id="dotdot_8h_html"><div class="ttname"><a href="dotdot_8h.html">dotdot.h</a></div></div>
<div class="ttc" id="structconnectdata_html_a4ae9ef32ff4f93d9fe8cc5f6ba7c690b"><div class="ttname"><a href="structconnectdata.html#a4ae9ef32ff4f93d9fe8cc5f6ba7c690b">connectdata::secondaryhostname</a></div><div class="ttdeci">char * secondaryhostname</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00832">urldata.h:832</a></div></div>
<div class="ttc" id="socks_8h_html"><div class="ttname"><a href="socks_8h.html">socks.h</a></div></div>
<div class="ttc" id="curl_8h_html_abc73006227ef9c2827f26b33d7cbadce"><div class="ttname"><a href="curl_8h.html#abc73006227ef9c2827f26b33d7cbadce">CURLAUTH_NTLM_WB</a></div><div class="ttdeci">#define CURLAUTH_NTLM_WB</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00715">curl.h:715</a></div></div>
<div class="ttc" id="structconncache_html"><div class="ttname"><a href="structconncache.html">conncache</a></div><div class="ttdef"><b>Definition:</b> <a href="conncache_8h_source.html#l00032">conncache.h:32</a></div></div>
<div class="ttc" id="struct_user_defined_html_acea22e26cd3f89feab66b25fc9fe9ffe"><div class="ttname"><a href="struct_user_defined.html#acea22e26cd3f89feab66b25fc9fe9ffe">UserDefined::httpreq</a></div><div class="ttdeci">Curl_HttpReq httpreq</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01590">urldata.h:1590</a></div></div>
<div class="ttc" id="struct_single_request_html_a683ae9cf88cfb47bbeeaa562dd27331b"><div class="ttname"><a href="struct_single_request.html#a683ae9cf88cfb47bbeeaa562dd27331b">SingleRequest::start</a></div><div class="ttdeci">struct curltime start</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00551">urldata.h:551</a></div></div>
<div class="ttc" id="url_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="structprunedead_html"><div class="ttname"><a href="structprunedead.html">prunedead</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00987">url.c:987</a></div></div>
<div class="ttc" id="urldata_8h_html_a9d346cfcc0046f6c6ed206bde086ab2d"><div class="ttname"><a href="urldata_8h.html#a9d346cfcc0046f6c6ed206bde086ab2d">PROTO_FAMILY_HTTP</a></div><div class="ttdeci">#define PROTO_FAMILY_HTTP</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00066">urldata.h:66</a></div></div>
<div class="ttc" id="structproxy__info_html_adba1abda48be65b7b737625d591193f9"><div class="ttname"><a href="structproxy__info.html#adba1abda48be65b7b737625d591193f9">proxy_info::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00755">urldata.h:755</a></div></div>
<div class="ttc" id="get_8d_html_a38b0ef81b65f2aee282c8c217a123176"><div class="ttname"><a href="get_8d.html#a38b0ef81b65f2aee282c8c217a123176">data</a></div><div class="ttdeci">Long this option will make all data specified with data</div><div class="ttdef"><b>Definition:</b> <a href="get_8d_source.html#l00005">get.d:5</a></div></div>
<div class="ttc" id="structconnectdata_html"><div class="ttname"><a href="structconnectdata.html">connectdata</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00782">urldata.h:782</a></div></div>
<div class="ttc" id="non-ascii_8h_html_aa05bf6a4e3fb151028f9eb10fc8d6432"><div class="ttname"><a href="non-ascii_8h.html#aa05bf6a4e3fb151028f9eb10fc8d6432">Curl_convert_init</a></div><div class="ttdeci">#define Curl_convert_init(x)</div><div class="ttdef"><b>Definition:</b> <a href="non-ascii_8h_source.html#l00053">non-ascii.h:53</a></div></div>
<div class="ttc" id="stdcheaders_8h_html_ae791f89cbd418b3074b1349d8f5075dd"><div class="ttname"><a href="stdcheaders_8h.html#ae791f89cbd418b3074b1349d8f5075dd">fwrite</a></div><div class="ttdeci">size_t fwrite(const void *, size_t, size_t, FILE *)</div></div>
<div class="ttc" id="struct_single_request_html"><div class="ttname"><a href="struct_single_request.html">SingleRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00533">urldata.h:533</a></div></div>
<div class="ttc" id="structhostname_html_aee7d0ff8210c25b87d6fdeacf8ea7939"><div class="ttname"><a href="structhostname.html#aee7d0ff8210c25b87d6fdeacf8ea7939">hostname::dispname</a></div><div class="ttdeci">const char * dispname</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00450">urldata.h:450</a></div></div>
<div class="ttc" id="noproxy_8d_html_a76bbcca5c6576b1086f83570943ed989"><div class="ttname"><a href="noproxy_8d.html#a76bbcca5c6576b1086f83570943ed989">hostname</a></div><div class="ttdeci">Long if one is specified.The only wildcard is a single which matches all and effectively disables the proxy.Each name in this list is matched as either a domain which contains the hostname</div><div class="ttdef"><b>Definition:</b> <a href="noproxy_8d_source.html#l00006">noproxy.d:6</a></div></div>
<div class="ttc" id="struct_curl__ssl_html_ad8aeedd93171e98d8db0049085d40f31"><div class="ttname"><a href="struct_curl__ssl.html#ad8aeedd93171e98d8db0049085d40f31">Curl_ssl::supports</a></div><div class="ttdeci">unsigned int supports</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00042">vtls.h:42</a></div></div>
<div class="ttc" id="pipeline_8c_html_ac3cc799a3d53b03d3dc146d08a80fb3d"><div class="ttname"><a href="pipeline_8c.html#ac3cc799a3d53b03d3dc146d08a80fb3d">Curl_pipeline_penalized</a></div><div class="ttdeci">bool Curl_pipeline_penalized(struct Curl_easy *data, struct connectdata *conn)</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8c_source.html#l00059">pipeline.c:59</a></div></div>
<div class="ttc" id="urldata_8h_html_a6cc485779d7912aa352adc326d8a89f6"><div class="ttname"><a href="urldata_8h.html#a6cc485779d7912aa352adc326d8a89f6">MASTERBUF_SIZE</a></div><div class="ttdeci">#define MASTERBUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00147">urldata.h:147</a></div></div>
<div class="ttc" id="structurlpieces_html_a96b325a949245170dfe7957fd31cd8ef"><div class="ttname"><a href="structurlpieces.html#a96b325a949245170dfe7957fd31cd8ef">urlpieces::password</a></div><div class="ttdeci">char * password</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01234">urldata.h:1234</a></div></div>
<div class="ttc" id="urlapi_8h_html_a6a5b8d5c719d5d893048d2410d74d1dead6544c3594d9fccf22317dc96b109c75"><div class="ttname"><a href="urlapi_8h.html#a6a5b8d5c719d5d893048d2410d74d1dead6544c3594d9fccf22317dc96b109c75">CURLUE_NO_OPTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="urlapi_8h_source.html#l00044">urlapi.h:44</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a3bfd8a5d78dc98e435348b877e19f619"><div class="ttname"><a href="struct_connect_bits.html#a3bfd8a5d78dc98e435348b877e19f619">ConnectBits::user_passwd</a></div><div class="ttdeci">bool user_passwd</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00390">urldata.h:390</a></div></div>
<div class="ttc" id="getinfo_8h_html"><div class="ttname"><a href="getinfo_8h.html">getinfo.h</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a0a00cd02ce442392e3836545ce356b6a"><div class="ttname"><a href="struct_connect_bits.html#a0a00cd02ce442392e3836545ce356b6a">ConnectBits::tls_enable_npn</a></div><div class="ttdeci">bool tls_enable_npn</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00439">urldata.h:439</a></div></div>
<div class="ttc" id="asyn_8h_html_a8c9afac009dfe8163725f99211d069a3"><div class="ttname"><a href="asyn_8h.html#a8c9afac009dfe8163725f99211d069a3">Curl_resolver_asynch</a></div><div class="ttdeci">#define Curl_resolver_asynch()</div><div class="ttdef"><b>Definition:</b> <a href="asyn_8h_source.html#l00164">asyn.h:164</a></div></div>
<div class="ttc" id="pop3_8c_html_ad66fb72d1c6b45256deaf03f6415612c"><div class="ttname"><a href="pop3_8c.html#ad66fb72d1c6b45256deaf03f6415612c">Curl_handler_pop3</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_pop3</div><div class="ttdef"><b>Definition:</b> <a href="pop3_8c_source.html#l00113">pop3.c:113</a></div></div>
<div class="ttc" id="structconnectdata_1_1dynamically__allocated__data_html_ae18576e8daa81e213781ac6c0183109f"><div class="ttname"><a href="structconnectdata_1_1dynamically__allocated__data.html#ae18576e8daa81e213781ac6c0183109f">connectdata::dynamically_allocated_data::cookiehost</a></div><div class="ttdeci">char * cookiehost</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00934">urldata.h:934</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="conncache_8c_html_aa471cc13d69dc43e7f446e60ac2471d5"><div class="ttname"><a href="conncache_8c.html#aa471cc13d69dc43e7f446e60ac2471d5">Curl_conncache_remove_conn</a></div><div class="ttdeci">void Curl_conncache_remove_conn(struct connectdata *conn, bool lock)</div><div class="ttdef"><b>Definition:</b> <a href="conncache_8c_source.html#l00305">conncache.c:305</a></div></div>
<div class="ttc" id="multi_8h_html_a05ea44148f8932f7d99ef0487ddf7003"><div class="ttname"><a href="multi_8h.html#a05ea44148f8932f7d99ef0487ddf7003">curl_multi_cleanup</a></div><div class="ttdeci">CURL_EXTERN CURLMcode curl_multi_cleanup(CURLM *multi_handle)</div></div>
<div class="ttc" id="structconnectdata_html_a82d9732a096255f5d8741c4a0ea990eb"><div class="ttname"><a href="structconnectdata.html#a82d9732a096255f5d8741c4a0ea990eb">connectdata::remote_port</a></div><div class="ttdeci">int remote_port</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00840">urldata.h:840</a></div></div>
<div class="ttc" id="multi_8c_html_a7a9f018ccced30e7c65ea89e2c85382f"><div class="ttname"><a href="multi_8c.html#a7a9f018ccced30e7c65ea89e2c85382f">Curl_expire_clear</a></div><div class="ttdeci">void Curl_expire_clear(struct Curl_easy *data)</div><div class="ttdef"><b>Definition:</b> <a href="multi_8c_source.html#l03070">multi.c:3070</a></div></div>
<div class="ttc" id="pop3_8h_html_a8b15b78466276c8940976d7b5f549607"><div class="ttname"><a href="pop3_8h.html#a8b15b78466276c8940976d7b5f549607">Curl_handler_pop3s</a></div><div class="ttdeci">const struct Curl_handler Curl_handler_pop3s</div></div>
<div class="ttc" id="structconnectdata_html_a85cb9da7776d42c440612d2940a7fcb4"><div class="ttname"><a href="structconnectdata.html#a85cb9da7776d42c440612d2940a7fcb4">connectdata::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00863">urldata.h:863</a></div></div>
<div class="ttc" id="urldata_8h_html_a9607658ec977f6ca435daf26b82f6b3fa74a093c60d09ef3eae6ea5fc7be3b9b6"><div class="ttname"><a href="urldata_8h.html#a9607658ec977f6ca435daf26b82f6b3fa74a093c60d09ef3eae6ea5fc7be3b9b6">STRING_SSL_CIPHER13_LIST_PROXY</a></div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l01434">urldata.h:1434</a></div></div>
<div class="ttc" id="curl__memory_8h_html_abc013d1a27cb591a5316801c509c781f"><div class="ttname"><a href="curl__memory_8h.html#abc013d1a27cb591a5316801c509c781f">calloc</a></div><div class="ttdeci">#define calloc(nbelem, size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00126">curl_memory.h:126</a></div></div>
<div class="ttc" id="struct_connect_bits_html_a969da5526443f50aabfd413bf1f106b7"><div class="ttname"><a href="struct_connect_bits.html#a969da5526443f50aabfd413bf1f106b7">ConnectBits::socksproxy_connecting</a></div><div class="ttdeci">bool socksproxy_connecting</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00443">urldata.h:443</a></div></div>
<div class="ttc" id="cacert_8d_html_a858975e5da2b16954a88f19566bff526"><div class="ttname"><a href="cacert_8d.html#a858975e5da2b16954a88f19566bff526">set</a></div><div class="ttdeci">Long so this option is typically used to alter that default file.curl recognizes the environment variable named CURL_CA_BUNDLE if it is set</div><div class="ttdef"><b>Definition:</b> <a href="cacert_8d_source.html#l00008">cacert.d:8</a></div></div>
<div class="ttc" id="vtls_8h_html_a396bfd7b7888300739b9c3b323ab0907"><div class="ttname"><a href="vtls_8h.html#a396bfd7b7888300739b9c3b323ab0907">Curl_ssl_close_all</a></div><div class="ttdeci">#define Curl_ssl_close_all(x)</div><div class="ttdef"><b>Definition:</b> <a href="vtls_8h_source.html#l00257">vtls.h:257</a></div></div>
<div class="ttc" id="util_8c_html_a3b02c6de5c049804444a246f7fdf46b4"><div class="ttname"><a href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00194">util.c:194</a></div></div>
<div class="ttc" id="struct_curl___u_r_l_html"><div class="ttname"><a href="struct_curl___u_r_l.html">Curl_URL</a></div><div class="ttdef"><b>Definition:</b> <a href="lib_2urlapi_8c_source.html#l00053">urlapi.c:53</a></div></div>
<div class="ttc" id="timeval_8h_html_aeb19832fd3e7f11c8d047d6824300e87"><div class="ttname"><a href="timeval_8h.html#aeb19832fd3e7f11c8d047d6824300e87">timediff_t</a></div><div class="ttdeci">int timediff_t</div><div class="ttdef"><b>Definition:</b> <a href="timeval_8h_source.html#l00028">timeval.h:28</a></div></div>
<div class="ttc" id="structcurl__llist__element_html_a75de5ec93f47535d096929a045f46467"><div class="ttname"><a href="structcurl__llist__element.html#a75de5ec93f47535d096929a045f46467">curl_llist_element::next</a></div><div class="ttdeci">struct curl_llist_element * next</div><div class="ttdef"><b>Definition:</b> <a href="llist_8h_source.html#l00033">llist.h:33</a></div></div>
<div class="ttc" id="http__proxy_8c_html_ac79abdd8c0d0b2818f4478e91afcaa35"><div class="ttname"><a href="http__proxy_8c.html#ac79abdd8c0d0b2818f4478e91afcaa35">Curl_proxy_connect</a></div><div class="ttdeci">CURLcode Curl_proxy_connect(struct connectdata *conn, int sockindex)</div><div class="ttdef"><b>Definition:</b> <a href="http__proxy_8c_source.html#l00072">http_proxy.c:72</a></div></div>
<div class="ttc" id="curl__setup__once_8h_html_a805079d1643f348afa725659b45b6f87"><div class="ttname"><a href="curl__setup__once_8h.html#a805079d1643f348afa725659b45b6f87">DEBUGF</a></div><div class="ttdeci">#define DEBUGF(x)</div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00390">curl_setup_once.h:390</a></div></div>
<div class="ttc" id="structconnectdata_html_a3df7eee97914936f17a228eb2cf84eed"><div class="ttname"><a href="structconnectdata.html#a3df7eee97914936f17a228eb2cf84eed">connectdata::data</a></div><div class="ttdeci">struct Curl_easy * data</div><div class="ttdef"><b>Definition:</b> <a href="urldata_8h_source.html#l00786">urldata.h:786</a></div></div>
<div class="ttc" id="curl_8h_html_abc5c98fcc1211af2b80116dd6e0a035da153a446054f34c6bcbca7a690209f284"><div class="ttname"><a href="curl_8h.html#abc5c98fcc1211af2b80116dd6e0a035da153a446054f34c6bcbca7a690209f284">CURL_HTTP_VERSION_2TLS</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l01928">curl.h:1928</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_efb6013f246e7f8b3181c5014844a411.html">lib</a></li><li class="navelem"><a class="el" href="url_8c.html">url.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
