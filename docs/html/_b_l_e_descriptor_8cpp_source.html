<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/BLEDescriptor.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_b_l_e_descriptor_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLEDescriptor.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_b_l_e_descriptor_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * BLEDescriptor.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Jun 22, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#if defined(CONFIG_BT_ENABLED)</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;esp_err.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_service_8h.html">BLEService.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_descriptor_8h.html">BLEDescriptor.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_general_utils_8h.html">GeneralUtils.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifdef ARDUINO_ARCH_ESP32</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;esp32-hal-log.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;BLEDescriptor&quot;</span>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="_b_l_e_descriptor_8cpp.html#ae633a443f20ba142873858305e83cd88">   26</a></span>&#160;<span class="preprocessor">#define NULL_HANDLE (0xffff)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a259039b5b54400c37611c32b3bd550f6">   32</a></span>&#160;<a class="code" href="class_b_l_e_descriptor.html#a259039b5b54400c37611c32b3bd550f6">BLEDescriptor::BLEDescriptor</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* uuid, uint16_t <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>) : <a class="code" href="class_b_l_e_descriptor.html">BLEDescriptor</a>(<a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a>(uuid), <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>) {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}   </div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#af11f6b425e0e8c8c4c57a9cdd696749d">   38</a></span>&#160;<a class="code" href="class_b_l_e_descriptor.html#a259039b5b54400c37611c32b3bd550f6">BLEDescriptor::BLEDescriptor</a>(<a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a> uuid, uint16_t max_len) {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    m_bleUUID            = uuid;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    m_value.attr_len     = 0;                                         <span class="comment">// Initial length is 0.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    m_value.attr_max_len = max_len;                     <span class="comment">// Maximum length of the data.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    m_handle             = <a class="code" href="_b_l_e_descriptor_8cpp.html#ae633a443f20ba142873858305e83cd88">NULL_HANDLE</a>;                               <span class="comment">// Handle is initially unknown.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    m_pCharacteristic    = <span class="keyword">nullptr</span>;                                   <span class="comment">// No initial characteristic.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    m_pCallback          = <span class="keyword">nullptr</span>;                                   <span class="comment">// No initial callback.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    m_value.attr_value   = (uint8_t*) <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(max_len);  <span class="comment">// Allocate storage for the value.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;} <span class="comment">// BLEDescriptor</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a74723c83e138072195e2fa3cd2230db8">   53</a></span>&#160;<a class="code" href="class_b_l_e_descriptor.html#a74723c83e138072195e2fa3cd2230db8">BLEDescriptor::~BLEDescriptor</a>() {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(m_value.attr_value);   <span class="comment">// Release the storage we created in the constructor.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;} <span class="comment">// ~BLEDescriptor</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordtype">void</span> BLEDescriptor::executeCreate(<a class="code" href="class_b_l_e_characteristic.html">BLECharacteristic</a>* <a class="code" href="_sample_notify_8cpp.html#a83949d215e88efee5fc4f312ea2692e7">pCharacteristic</a>) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; executeCreate(): %s&quot;</span>, <a class="code" href="class_b_l_e_descriptor.html#a767ecc1c8a3137faa99e973d9459e5e6">toString</a>().c_str());</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (m_handle != <a class="code" href="_b_l_e_descriptor_8cpp.html#ae633a443f20ba142873858305e83cd88">NULL_HANDLE</a>) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;Descriptor already has a handle.&quot;</span>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    m_pCharacteristic = <a class="code" href="_sample_notify_8cpp.html#a83949d215e88efee5fc4f312ea2692e7">pCharacteristic</a>; <span class="comment">// Save the characteristic associated with this service.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    esp_attr_control_t control;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    control.auto_rsp = ESP_GATT_AUTO_RSP;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    m_semaphoreCreateEvt.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">take</a>(<span class="stringliteral">&quot;executeCreate&quot;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    esp_err_t errRc = ::esp_ble_gatts_add_char_descr(</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <a class="code" href="_sample_notify_8cpp.html#a83949d215e88efee5fc4f312ea2692e7">pCharacteristic</a>-&gt;getService()-&gt;<a class="code" href="class_b_l_e_service.html#ab4cce218daffde19e019bd0d1b6697ad">getHandle</a>(),</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <a class="code" href="class_b_l_e_descriptor.html#a85ebb13db3538adc419f2dceb60afd68">getUUID</a>().<a class="code" href="class_b_l_e_u_u_i_d.html#ad59ac075030347b7f306cdeb850e3e6e">getNative</a>(),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            (esp_gatt_perm_t)m_permissions,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            &amp;m_value,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            &amp;control);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (errRc != ESP_OK) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; esp_ble_gatts_add_char_descr: rc=%d %s&quot;</span>, errRc, <a class="code" href="class_general_utils.html#a25e466e54ff002f54bfb7e1f43bd401b">GeneralUtils::errorToString</a>(errRc));</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    m_semaphoreCreateEvt.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">wait</a>(<span class="stringliteral">&quot;executeCreate&quot;</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; executeCreate&quot;</span>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;} <span class="comment">// executeCreate</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a1072ac2689f57d15be37009f91d0a7be">   95</a></span>&#160;uint16_t <a class="code" href="class_b_l_e_descriptor.html#a1072ac2689f57d15be37009f91d0a7be">BLEDescriptor::getHandle</a>() {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> m_handle;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;} <span class="comment">// getHandle</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a4c9fc9aeb6fcef1a670cc6b06c808a12">  104</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_b_l_e_descriptor.html#a4c9fc9aeb6fcef1a670cc6b06c808a12">BLEDescriptor::getLength</a>() {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> m_value.attr_len;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;} <span class="comment">// getLength</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a85ebb13db3538adc419f2dceb60afd68">  112</a></span>&#160;<a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a> <a class="code" href="class_b_l_e_descriptor.html#a85ebb13db3538adc419f2dceb60afd68">BLEDescriptor::getUUID</a>() {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> m_bleUUID;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;} <span class="comment">// getUUID</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a35a3a0f4dc88bc2572319c86563227b4">  122</a></span>&#160;uint8_t* <a class="code" href="class_b_l_e_descriptor.html#a35a3a0f4dc88bc2572319c86563227b4">BLEDescriptor::getValue</a>() {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> m_value.attr_value;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;} <span class="comment">// getValue</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a222a6f64ce042a0238f607b2a2fc6d95">  133</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor.html#a222a6f64ce042a0238f607b2a2fc6d95">BLEDescriptor::handleGATTServerEvent</a>(</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        esp_gatts_cb_event_t      event,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        esp_gatt_if_t             gatts_if,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        esp_ble_gatts_cb_param_t* param) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">switch</span> (event) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">// ESP_GATTS_ADD_CHAR_DESCR_EVT</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="comment">// add_char_descr:</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment">// - esp_gatt_status_t status</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// - uint16_t          attr_handle</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// - uint16_t          service_handle</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment">// - esp_bt_uuid_t     char_uuid</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">case</span> ESP_GATTS_ADD_CHAR_DESCR_EVT: {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">if</span> (m_pCharacteristic != <span class="keyword">nullptr</span> &amp;&amp;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    m_bleUUID.<a class="code" href="class_b_l_e_u_u_i_d.html#abe938a2b61c7bff880b02ec5f79287fb">equals</a>(<a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a>(param-&gt;add_char_descr.descr_uuid)) &amp;&amp;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    m_pCharacteristic-&gt;getService()-&gt;<a class="code" href="class_b_l_e_service.html#ab4cce218daffde19e019bd0d1b6697ad">getHandle</a>() == param-&gt;add_char_descr.service_handle &amp;&amp;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    m_pCharacteristic == m_pCharacteristic-&gt;getService()-&gt;getLastCreatedCharacteristic()) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                setHandle(param-&gt;add_char_descr.attr_handle);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                m_semaphoreCreateEvt.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">give</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        } <span class="comment">// ESP_GATTS_ADD_CHAR_DESCR_EVT</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment">// ESP_GATTS_WRITE_EVT - A request to write the value of a descriptor has arrived.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">// write:</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment">// - uint16_t conn_id</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// - uint16_t trans_id</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// - esp_bd_addr_t bda</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">// - uint16_t handle</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// - uint16_t offset</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">// - bool need_rsp</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// - bool is_prep</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// - uint16_t len</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// - uint8_t *value</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">case</span> ESP_GATTS_WRITE_EVT: {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">if</span> (param-&gt;write.handle == m_handle) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">setValue</a>(param-&gt;write.value, param-&gt;write.len);   <span class="comment">// Set the value of the descriptor.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">if</span> (m_pCallback != <span class="keyword">nullptr</span>) {   <span class="comment">// We have completed the write, if there is a user supplied callback handler, invoke it now.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    m_pCallback-&gt;<a class="code" href="class_b_l_e_descriptor_callbacks.html#ab5dd2a6e2d0f88005f9c940d01932a1c">onWrite</a>(<span class="keyword">this</span>);   <span class="comment">// Invoke the onWrite callback handler.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            }  <span class="comment">// End of ... this is our handle.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        } <span class="comment">// ESP_GATTS_WRITE_EVT</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// ESP_GATTS_READ_EVT - A request to read the value of a descriptor has arrived.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">// read:</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="comment">// - uint16_t conn_id</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">// - uint32_t trans_id</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="comment">// - esp_bd_addr_t bda</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment">// - uint16_t handle</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// - uint16_t offset</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="comment">// - bool is_long</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment">// - bool need_rsp</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">case</span> ESP_GATTS_READ_EVT: {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">if</span> (param-&gt;read.handle == m_handle) {  <span class="comment">// If this event is for this descriptor ... process it</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">if</span> (m_pCallback != <span class="keyword">nullptr</span>) {   <span class="comment">// If we have a user supplied callback, invoke it now.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    m_pCallback-&gt;<a class="code" href="class_b_l_e_descriptor_callbacks.html#ad496e5d0b74c73199765709d9abd9237">onRead</a>(<span class="keyword">this</span>);    <span class="comment">// Invoke the onRead callback method in the callback handler.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            } <span class="comment">// End of this is our handle</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        } <span class="comment">// ESP_GATTS_READ_EVT</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    } <span class="comment">// switch event</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;} <span class="comment">// handleGATTServerEvent</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#aa8589c0e54a86b0e8bc493435240ea02">  212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor.html#aa8589c0e54a86b0e8bc493435240ea02">BLEDescriptor::setCallbacks</a>(<a class="code" href="class_b_l_e_descriptor_callbacks.html">BLEDescriptorCallbacks</a>* pCallback) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; setCallbacks: 0x%x&quot;</span>, (uint32_t) pCallback);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    m_pCallback = pCallback;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; setCallbacks&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;} <span class="comment">// setCallbacks</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keywordtype">void</span> BLEDescriptor::setHandle(uint16_t handle) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; setHandle(0x%.2x): Setting descriptor handle to be 0x%.2x&quot;</span>, handle, handle);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    m_handle = handle;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; setHandle()&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;} <span class="comment">// setHandle</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">  237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">BLEDescriptor::setValue</a>(uint8_t* <a class="code" href="structdata.html">data</a>, <span class="keywordtype">size_t</span> length) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (length &gt; ESP_GATT_MAX_ATTR_LEN) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;Size %d too large, must be no bigger than %d&quot;</span>, length, ESP_GATT_MAX_ATTR_LEN);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    m_value.attr_len = length;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(m_value.attr_value, <a class="code" href="structdata.html">data</a>, length);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;} <span class="comment">// setValue</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#abb81a89f884acb33ee5cd34680589fbd">  251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">BLEDescriptor::setValue</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">setValue</a>((uint8_t*) <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>.data(), <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>.length());</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;} <span class="comment">// setValue</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a93759cf117513da3e15729c16d9ef043">  255</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor.html#a93759cf117513da3e15729c16d9ef043">BLEDescriptor::setAccessPermissions</a>(esp_gatt_perm_t perm) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    m_permissions = perm;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor.html#a767ecc1c8a3137faa99e973d9459e5e6">  263</a></span>&#160;<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="class_b_l_e_descriptor.html#a767ecc1c8a3137faa99e973d9459e5e6">BLEDescriptor::toString</a>() {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    std::stringstream stringstream;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    stringstream &lt;&lt; std::hex &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    stringstream &lt;&lt; <span class="stringliteral">&quot;UUID: &quot;</span> &lt;&lt; m_bleUUID.<a class="code" href="class_b_l_e_u_u_i_d.html#a52e30a254e1ff10a429c2e0a36a6131d">toString</a>() + <span class="stringliteral">&quot;, handle: 0x&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; m_handle;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> stringstream.str();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;} <span class="comment">// toString</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor_callbacks.html#a03625caf3524a1139e3e6f94155c29b7">  271</a></span>&#160;<a class="code" href="class_b_l_e_descriptor_callbacks.html#a03625caf3524a1139e3e6f94155c29b7">BLEDescriptorCallbacks::~BLEDescriptorCallbacks</a>() {}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor_callbacks.html#ad496e5d0b74c73199765709d9abd9237">  277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor_callbacks.html#ad496e5d0b74c73199765709d9abd9237">BLEDescriptorCallbacks::onRead</a>(<a class="code" href="class_b_l_e_descriptor.html">BLEDescriptor</a>* pDescriptor) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    ESP_LOGD(<span class="stringliteral">&quot;BLEDescriptorCallbacks&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; onRead: default&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    ESP_LOGD(<span class="stringliteral">&quot;BLEDescriptorCallbacks&quot;</span>, <span class="stringliteral">&quot;&lt;&lt; onRead&quot;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;} <span class="comment">// onRead</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="class_b_l_e_descriptor_callbacks.html#ab5dd2a6e2d0f88005f9c940d01932a1c">  287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_l_e_descriptor_callbacks.html#ab5dd2a6e2d0f88005f9c940d01932a1c">BLEDescriptorCallbacks::onWrite</a>(<a class="code" href="class_b_l_e_descriptor.html">BLEDescriptor</a>* pDescriptor) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    ESP_LOGD(<span class="stringliteral">&quot;BLEDescriptorCallbacks&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; onWrite: default&quot;</span>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    ESP_LOGD(<span class="stringliteral">&quot;BLEDescriptorCallbacks&quot;</span>, <span class="stringliteral">&quot;&lt;&lt; onWrite&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;} <span class="comment">// onWrite</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_BT_ENABLED */</span><span class="preprocessor"></span></div><div class="ttc" id="curl__memory_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="curl__memory_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00130">curl_memory.h:130</a></div></div>
<div class="ttc" id="class_b_l_e_u_u_i_d_html"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html">BLEUUID</a></div><div class="ttdoc">A model of a BLE UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8h_source.html#l00018">BLEUUID.h:18</a></div></div>
<div class="ttc" id="_general_utils_8h_html"><div class="ttname"><a href="_general_utils_8h.html">GeneralUtils.h</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_callbacks_html_a03625caf3524a1139e3e6f94155c29b7"><div class="ttname"><a href="class_b_l_e_descriptor_callbacks.html#a03625caf3524a1139e3e6f94155c29b7">BLEDescriptorCallbacks::~BLEDescriptorCallbacks</a></div><div class="ttdeci">virtual ~BLEDescriptorCallbacks()</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00271">BLEDescriptor.cpp:271</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_callbacks_html_ab5dd2a6e2d0f88005f9c940d01932a1c"><div class="ttname"><a href="class_b_l_e_descriptor_callbacks.html#ab5dd2a6e2d0f88005f9c940d01932a1c">BLEDescriptorCallbacks::onWrite</a></div><div class="ttdeci">virtual void onWrite(BLEDescriptor *pDescriptor)</div><div class="ttdoc">Callback function to support a write request. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00287">BLEDescriptor.cpp:287</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a767ecc1c8a3137faa99e973d9459e5e6"><div class="ttname"><a href="class_b_l_e_descriptor.html#a767ecc1c8a3137faa99e973d9459e5e6">BLEDescriptor::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Return a string representation of the descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00263">BLEDescriptor.cpp:263</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_callbacks_html"><div class="ttname"><a href="class_b_l_e_descriptor_callbacks.html">BLEDescriptorCallbacks</a></div><div class="ttdoc">Callbacks that can be associated with a BLE descriptors to inform of events. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8h_source.html#l00070">BLEDescriptor.h:70</a></div></div>
<div class="ttc" id="class_b_l_e_u_u_i_d_html_ad59ac075030347b7f306cdeb850e3e6e"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html#ad59ac075030347b7f306cdeb850e3e6e">BLEUUID::getNative</a></div><div class="ttdeci">esp_bt_uuid_t * getNative()</div><div class="ttdoc">Get the native UUID value. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8cpp_source.html#l00278">BLEUUID.cpp:278</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_ad1aa158e37d15363b4441482fae82dd8"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">FreeRTOS::Semaphore::give</a></div><div class="ttdeci">void give()</div><div class="ttdoc">Give a semaphore. The Semaphore is given. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00114">FreeRTOS.cpp:114</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a2eb0b03d1a9de9615a291b1205969069"><div class="ttname"><a href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a></div><div class="ttdeci">#define malloc(size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00124">curl_memory.h:124</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a4c9fc9aeb6fcef1a670cc6b06c808a12"><div class="ttname"><a href="class_b_l_e_descriptor.html#a4c9fc9aeb6fcef1a670cc6b06c808a12">BLEDescriptor::getLength</a></div><div class="ttdeci">size_t getLength()</div><div class="ttdoc">Get the length of the value of this descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00104">BLEDescriptor.cpp:104</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a259039b5b54400c37611c32b3bd550f6"><div class="ttname"><a href="class_b_l_e_descriptor.html#a259039b5b54400c37611c32b3bd550f6">BLEDescriptor::BLEDescriptor</a></div><div class="ttdeci">BLEDescriptor(const char *uuid, uint16_t max_len=100)</div><div class="ttdoc">BLEDescriptor constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00032">BLEDescriptor.cpp:32</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a1072ac2689f57d15be37009f91d0a7be"><div class="ttname"><a href="class_b_l_e_descriptor.html#a1072ac2689f57d15be37009f91d0a7be">BLEDescriptor::getHandle</a></div><div class="ttdeci">uint16_t getHandle()</div><div class="ttdoc">Get the BLE handle for this descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00095">BLEDescriptor.cpp:95</a></div></div>
<div class="ttc" id="class_b_l_e_service_html_ab4cce218daffde19e019bd0d1b6697ad"><div class="ttname"><a href="class_b_l_e_service.html#ab4cce218daffde19e019bd0d1b6697ad">BLEService::getHandle</a></div><div class="ttdeci">uint16_t getHandle()</div><div class="ttdoc">Get the handle associated with this service. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_service_8cpp_source.html#l00213">BLEService.cpp:213</a></div></div>
<div class="ttc" id="curl__sasl_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="curl__sasl_8c_source.html#l00055">curl_sasl.c:55</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a222a6f64ce042a0238f607b2a2fc6d95"><div class="ttname"><a href="class_b_l_e_descriptor.html#a222a6f64ce042a0238f607b2a2fc6d95">BLEDescriptor::handleGATTServerEvent</a></div><div class="ttdeci">void handleGATTServerEvent(esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</div><div class="ttdoc">Handle GATT server events for the descripttor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00133">BLEDescriptor.cpp:133</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a74723c83e138072195e2fa3cd2230db8"><div class="ttname"><a href="class_b_l_e_descriptor.html#a74723c83e138072195e2fa3cd2230db8">BLEDescriptor::~BLEDescriptor</a></div><div class="ttdeci">virtual ~BLEDescriptor()</div><div class="ttdoc">BLEDescriptor destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00053">BLEDescriptor.cpp:53</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a93759cf117513da3e15729c16d9ef043"><div class="ttname"><a href="class_b_l_e_descriptor.html#a93759cf117513da3e15729c16d9ef043">BLEDescriptor::setAccessPermissions</a></div><div class="ttdeci">void setAccessPermissions(esp_gatt_perm_t perm)</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00255">BLEDescriptor.cpp:255</a></div></div>
<div class="ttc" id="unit1304_8c_html_a82a69fcfe92d9db6dd585ccc532a2ab7"><div class="ttname"><a href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a></div><div class="ttdeci">memcpy(filename, filename1, strlen(filename1))</div></div>
<div class="ttc" id="class_b_l_e_descriptor_html"><div class="ttname"><a href="class_b_l_e_descriptor.html">BLEDescriptor</a></div><div class="ttdoc">A model of a BLE descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8h_source.html#l00025">BLEDescriptor.h:25</a></div></div>
<div class="ttc" id="class_b_l_e_characteristic_html"><div class="ttname"><a href="class_b_l_e_characteristic.html">BLECharacteristic</a></div><div class="ttdoc">The model of a BLE Characteristic. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_characteristic_8h_source.html#l00053">BLECharacteristic.h:53</a></div></div>
<div class="ttc" id="class_general_utils_html_a25e466e54ff002f54bfb7e1f43bd401b"><div class="ttname"><a href="class_general_utils.html#a25e466e54ff002f54bfb7e1f43bd401b">GeneralUtils::errorToString</a></div><div class="ttdeci">static const char * errorToString(esp_err_t errCode)</div><div class="ttdoc">Convert an ESP error code to a string. </div><div class="ttdef"><b>Definition:</b> <a href="_general_utils_8cpp_source.html#l00366">GeneralUtils.cpp:366</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a023cb404ff897bb39064b454732ccf21"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">FreeRTOS::Semaphore::wait</a></div><div class="ttdeci">uint32_t wait(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Wait for a semaphore to be released by trying to take it and then releasing it again. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00064">FreeRTOS.cpp:64</a></div></div>
<div class="ttc" id="class_b_l_e_u_u_i_d_html_abe938a2b61c7bff880b02ec5f79287fb"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html#abe938a2b61c7bff880b02ec5f79287fb">BLEUUID::equals</a></div><div class="ttdeci">bool equals(BLEUUID uuid)</div><div class="ttdoc">Compare a UUID against this UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8cpp_source.html#l00224">BLEUUID.cpp:224</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_callbacks_html_ad496e5d0b74c73199765709d9abd9237"><div class="ttname"><a href="class_b_l_e_descriptor_callbacks.html#ad496e5d0b74c73199765709d9abd9237">BLEDescriptorCallbacks::onRead</a></div><div class="ttdeci">virtual void onRead(BLEDescriptor *pDescriptor)</div><div class="ttdoc">Callback function to support a read request. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00277">BLEDescriptor.cpp:277</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_aa8589c0e54a86b0e8bc493435240ea02"><div class="ttname"><a href="class_b_l_e_descriptor.html#aa8589c0e54a86b0e8bc493435240ea02">BLEDescriptor::setCallbacks</a></div><div class="ttdeci">void setCallbacks(BLEDescriptorCallbacks *pCallbacks)</div><div class="ttdoc">Set the callback handlers for this descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00212">BLEDescriptor.cpp:212</a></div></div>
<div class="ttc" id="_sample_notify_8cpp_html_a83949d215e88efee5fc4f312ea2692e7"><div class="ttname"><a href="_sample_notify_8cpp.html#a83949d215e88efee5fc4f312ea2692e7">pCharacteristic</a></div><div class="ttdeci">BLECharacteristic * pCharacteristic</div><div class="ttdef"><b>Definition:</b> <a href="_sample_notify_8cpp_source.html#l00042">SampleNotify.cpp:42</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_ab6f950a61ab0ac09651ae9d255aeeb55"><div class="ttname"><a href="class_b_l_e_descriptor.html#ab6f950a61ab0ac09651ae9d255aeeb55">BLEDescriptor::setValue</a></div><div class="ttdeci">void setValue(uint8_t *data, size_t size)</div><div class="ttdoc">Set the value of the descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00237">BLEDescriptor.cpp:237</a></div></div>
<div class="ttc" id="_b_l_e_service_8h_html"><div class="ttname"><a href="_b_l_e_service_8h.html">BLEService.h</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a35a3a0f4dc88bc2572319c86563227b4"><div class="ttname"><a href="class_b_l_e_descriptor.html#a35a3a0f4dc88bc2572319c86563227b4">BLEDescriptor::getValue</a></div><div class="ttdeci">uint8_t * getValue()</div><div class="ttdoc">Get the value of this descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00122">BLEDescriptor.cpp:122</a></div></div>
<div class="ttc" id="_b_l_e_descriptor_8cpp_html_ae633a443f20ba142873858305e83cd88"><div class="ttname"><a href="_b_l_e_descriptor_8cpp.html#ae633a443f20ba142873858305e83cd88">NULL_HANDLE</a></div><div class="ttdeci">#define NULL_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00026">BLEDescriptor.cpp:26</a></div></div>
<div class="ttc" id="unit1602_8c_html_a1f81d06f9ccd5ec47176a7fc466b6030"><div class="ttname"><a href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a></div><div class="ttdeci">UNITTEST_START int * value</div><div class="ttdef"><b>Definition:</b> <a href="unit1602_8c_source.html#l00051">unit1602.c:51</a></div></div>
<div class="ttc" id="_b_l_e_descriptor_8h_html"><div class="ttname"><a href="_b_l_e_descriptor_8h.html">BLEDescriptor.h</a></div></div>
<div class="ttc" id="class_b_l_e_u_u_i_d_html_a52e30a254e1ff10a429c2e0a36a6131d"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html#a52e30a254e1ff10a429c2e0a36a6131d">BLEUUID::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Get a string representation of the UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8cpp_source.html#l00355">BLEUUID.cpp:355</a></div></div>
<div class="ttc" id="class_b_l_e_descriptor_html_a85ebb13db3538adc419f2dceb60afd68"><div class="ttname"><a href="class_b_l_e_descriptor.html#a85ebb13db3538adc419f2dceb60afd68">BLEDescriptor::getUUID</a></div><div class="ttdeci">BLEUUID getUUID()</div><div class="ttdoc">Get the UUID of the descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_descriptor_8cpp_source.html#l00112">BLEDescriptor.cpp:112</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a67fa9bf777be48332a30154e006827fd"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">FreeRTOS::Semaphore::take</a></div><div class="ttdeci">bool take(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Take a semaphore. Take a semaphore and wait indefinitely. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00159">FreeRTOS.cpp:159</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_b_l_e_descriptor_8cpp.html">BLEDescriptor.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
