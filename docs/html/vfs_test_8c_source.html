<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/vfs/vfs-skeleton/main/vfsTest.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('vfs_test_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">vfsTest.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vfs_test_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;esp_vfs.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vfs_test_8h.html">vfsTest.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="ble1_8c.html#afec25c5f400b1e2ff79878c038385f0d">tag</a>[] = <span class="stringliteral">&quot;vfsTest&quot;</span>;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> logFlags(<span class="keywordtype">int</span> flags) {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    ESP_LOGD(tag, <span class="stringliteral">&quot;flags:&quot;</span>);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_APPEND) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_APPEND&quot;</span>);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_CREAT) {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_CREAT&quot;</span>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_TRUNC) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_TRUNC&quot;</span>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_RDONLY) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_RDONLY&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_WRONLY) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_WRONLY&quot;</span>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (flags &amp; O_RDWR) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        ESP_LOGD(tag, <span class="stringliteral">&quot;- O_RDWR&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;} <span class="comment">// End of logFlags</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_close(<span class="keywordtype">int</span> fd) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; close fd=%d&quot;</span>, fd);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_closedir(DIR *pdir) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; closedir&quot;</span>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_fstat(<span class="keywordtype">int</span> fd, <span class="keyword">struct</span> <a class="code" href="config-win32ce_8h.html#ad4ea824bd0fcae61733c900a5cab1e01">stat</a> *st) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; fstat fd=%d&quot;</span>, fd);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_link(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldPath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newPath) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; link oldPath=%s, newPath=%s&quot;</span>, oldPath, newPath);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">static</span> off_t vfs_lseek(<span class="keywordtype">int</span> fd, off_t offset, <span class="keywordtype">int</span> whence) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; lseek fd=%d, offset=%d, whence=%d&quot;</span>, fd, (<span class="keywordtype">int</span>)offset, whence);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_mkdir(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, mode_t mode) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; mkdir name=%s, mode=%d&quot;</span>, <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>, mode);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_open(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> accessMode) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; open path=%s, flags=0x%x, accessMode=0x%x&quot;</span>, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, flags, accessMode);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    logFlags(flags);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> DIR *vfs_opendir(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; opendir name=%s&quot;</span>, <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">static</span> <a class="code" href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a> vfs_read(<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *dst, <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; read fd=%d, dst=0x%lx, size=%d&quot;</span>, fd, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)dst, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>dirent vfs_readdir(DIR *pdir) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; readdir name=%s&quot;</span>, <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">struct </span>dirent d;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> d;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_rename(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldPath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newPath) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; rename oldPath=%s, newPath=%s&quot;</span>, oldPath, newPath);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> vfs_rmdir(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; rmdir name=%s&quot;</span>, <a class="code" href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> vfs_seekdir(DIR *pdir, <span class="keywordtype">long</span> offset) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; seekdir offset=%d&quot;</span>, offset);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_stat(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>, <span class="keyword">struct</span> <a class="code" href="config-win32ce_8h.html#ad4ea824bd0fcae61733c900a5cab1e01">stat</a> *st) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; stat path=%s&quot;</span>, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">static</span> <span class="keywordtype">long</span> vfs_telldir(DIR *pdir) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; telldir&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vfs_unlink(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; unlink path=%s&quot;</span>, <a class="code" href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> vfs_write(<span class="keywordtype">int</span> fd, <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="structdata.html">data</a>, <span class="keywordtype">size_t</span> <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    ESP_LOGI(tag, <span class="stringliteral">&quot;&gt;&gt; write fd=%d, data=0x%lx, size=%d&quot;</span>, fd, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="structdata.html">data</a>, <a class="code" href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="vfs_test_8h.html#a6ae4255426a286e60f10d31951eb375c">  166</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vfs_test_8c.html#a6ae4255426a286e60f10d31951eb375c">registerTestVFS</a>(<span class="keywordtype">char</span> *mountPoint) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    esp_vfs_t vfs;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    esp_err_t err;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    vfs.fd_offset = 0;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    vfs.flags    = ESP_VFS_FLAG_DEFAULT;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    vfs.close    = vfs_close;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    vfs.closedir = vfs_closedir;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    vfs.fstat    = vfs_fstat;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    vfs.link     = vfs_link;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    vfs.lseek    = vfs_lseek;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    vfs.mkdir    = vfs_mkdir;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    vfs.open     = vfs_open;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    vfs.opendir  = vfs_opendir;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    vfs.read     = vfs_read;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    vfs.readdir  = vfs_readdir;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    vfs.rename   = vfs_rename;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    vfs.rmdir    = vfs_rmdir;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    vfs.seekdir  = vfs_seekdir;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    vfs.stat     = vfs_stat;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    vfs.telldir  = vfs_telldir;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    vfs.unlink   = vfs_unlink;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    vfs.write    = vfs_write;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    err = esp_vfs_register(mountPoint, &amp;vfs, NULL);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (err != ESP_OK) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        ESP_LOGE(<a class="code" href="ble1_8c.html#afec25c5f400b1e2ff79878c038385f0d">tag</a>, <span class="stringliteral">&quot;esp_vfs_register: err=%d&quot;</span>, err);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;} <span class="comment">// End of registerTestVFS</span></div><div class="ttc" id="config-win32ce_8h_html_ad4ea824bd0fcae61733c900a5cab1e01"><div class="ttname"><a href="config-win32ce_8h.html#ad4ea824bd0fcae61733c900a5cab1e01">stat</a></div><div class="ttdeci">int stat(const char *path, struct stat *buffer)</div></div>
<div class="ttc" id="ble1_8c_html_afec25c5f400b1e2ff79878c038385f0d"><div class="ttname"><a href="ble1_8c.html#afec25c5f400b1e2ff79878c038385f0d">tag</a></div><div class="ttdeci">#define tag</div><div class="ttdef"><b>Definition:</b> <a href="ble1_8c_source.html#l00027">ble1.c:27</a></div></div>
<div class="ttc" id="vfs_test_8h_html"><div class="ttname"><a href="vfs_test_8h.html">vfsTest.h</a></div></div>
<div class="ttc" id="remote-name_8d_html_aa335f8bb20424b03700f57b150bf0aa6"><div class="ttname"><a href="remote-name_8d.html#aa335f8bb20424b03700f57b150bf0aa6">name</a></div><div class="ttdeci">Long the path is cut off.The file will be saved in the current working directory.If you want the file saved in a different make sure you change the current working directory before invoking curl with this option.The remote file name to use for saving is extracted from the given nothing and if it already exists it will be overwritten.If you want the server to be able to choose the file name refer to remote header name which can be used in addition to this option.If the server chooses a file name and that name already exists it will not be overwritten.There is no URL decoding done on the file name.If it has or other URL encoded parts of the name</div><div class="ttdef"><b>Definition:</b> <a href="remote-name_8d_source.html#l00006">remote-name.d:6</a></div></div>
<div class="ttc" id="vfs_test_8c_html_a6ae4255426a286e60f10d31951eb375c"><div class="ttname"><a href="vfs_test_8c.html#a6ae4255426a286e60f10d31951eb375c">registerTestVFS</a></div><div class="ttdeci">void registerTestVFS(char *mountPoint)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_test_8c_source.html#l00166">vfsTest.c:166</a></div></div>
<div class="ttc" id="progress-bar_8d_html_ab8db689d5132c4523a63d67bedf23c8a"><div class="ttname"><a href="progress-bar_8d.html#ab8db689d5132c4523a63d67bedf23c8a">size</a></div><div class="ttdeci">Short more meter.This progress bar draws a single line of shows a percentage if the transfer size is known.For transfers without a known size</div><div class="ttdef"><b>Definition:</b> <a href="progress-bar_8d_source.html#l00006">progress-bar.d:6</a></div></div>
<div class="ttc" id="config-win32_8h_html_a8af93bbb66534e14d651bbb0638ee796"><div class="ttname"><a href="config-win32_8h.html#a8af93bbb66534e14d651bbb0638ee796">ssize_t</a></div><div class="ttdeci">#define ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="config-win32_8h_source.html#l00379">config-win32.h:379</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="util_8c_html_a3b02c6de5c049804444a246f7fdf46b4"><div class="ttname"><a href="util_8c.html#a3b02c6de5c049804444a246f7fdf46b4">path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00194">util.c:194</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_875d1963bf6e038ed4915d307be6e1e9.html">vfs</a></li><li class="navelem"><a class="el" href="dir_3a0adb2453105576e06a5377557e87e3.html">vfs-skeleton</a></li><li class="navelem"><a class="el" href="dir_1d0f6e0042830f69d9979d2433817d45.html">main</a></li><li class="navelem"><a class="el" href="vfs_test_8c.html">vfsTest.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
