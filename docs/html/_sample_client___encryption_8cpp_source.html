<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/tests/BLETests/security/SampleClient_Encryption.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_sample_client___encryption_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SampleClient_Encryption.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_sample_client___encryption_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * SampleClient_Encryption.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Dec 23, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: chegewara</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;sys/time.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_device_8h.html">BLEDevice.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_advertised_device_8h.html">BLEAdvertisedDevice.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_client_8h.html">BLEClient.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_scan_8h.html">BLEScan.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_b_l_e_utils_8h.html">BLEUtils.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_task_8h.html">Task.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;SampleClient&quot;</span>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// See the following for generating UUIDs:</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// https://www.uuidgenerator.net/</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// The remote service we wish to connect to.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">static</span> <a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a> serviceUUID(<span class="stringliteral">&quot;91bad492-b950-4226-aa2b-4ede9fa42f59&quot;</span>);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// The characteristic of the remote service we are interested in.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">static</span> <a class="code" href="class_b_l_e_u_u_i_d.html">BLEUUID</a>    charUUID(<span class="stringliteral">&quot;0d563a58-196a-48ce-ace2-dfec78acc814&quot;</span>);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">class </span><a class="code" href="class_my_client.html">MyClient</a>: <span class="keyword">public</span> <a class="code" href="class_task.html">Task</a> {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">void</span> run(<span class="keywordtype">void</span>* <a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="class_b_l_e_address.html">BLEAddress</a>* pAddress = (<a class="code" href="class_b_l_e_address.html">BLEAddress</a>*)<a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="class_b_l_e_client.html">BLEClient</a>*  pClient  = <a class="code" href="class_b_l_e_device.html#a43c500c5e9bcfb046404e7996ec87d48">BLEDevice::createClient</a>();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">         * Here we have implemented simplest security. This kind security does not provide authentication</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="class_b_l_e_device.html#a4160b81bf7a467f22b13fa72a36daa46">BLEDevice::setEncryptionLevel</a>(ESP_BLE_SEC_ENCRYPT);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">// Connect to the remove BLE Server.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        pClient-&gt;<a class="code" href="class_b_l_e_client.html#ac12af63aaf2f5048de66f30d69914dda">connect</a>(*pAddress);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="comment">// Obtain a reference to the service we are after in the remote BLE server.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="class_b_l_e_remote_service.html">BLERemoteService</a>* pRemoteService = pClient-&gt;<a class="code" href="class_b_l_e_client.html#ad46efb4c86113700133a7ec15dd78ff5">getService</a>(serviceUUID);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">if</span> (pRemoteService == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Failed to find our service UUID: %s&quot;</span>, serviceUUID.<a class="code" href="class_b_l_e_u_u_i_d.html#a52e30a254e1ff10a429c2e0a36a6131d">toString</a>().c_str());</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="comment">// Obtain a reference to the characteristic in the service of the remote BLE server.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="class_b_l_e_remote_characteristic.html">BLERemoteCharacteristic</a>* pRemoteCharacteristic = pRemoteService-&gt;<a class="code" href="class_b_l_e_remote_service.html#afa7ce75f76f9c905eef0593449854ce1">getCharacteristic</a>(charUUID);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (pRemoteCharacteristic == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Failed to find our characteristic UUID: %s&quot;</span>, charUUID.<a class="code" href="class_b_l_e_u_u_i_d.html#a52e30a254e1ff10a429c2e0a36a6131d">toString</a>().c_str());</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="comment">// Read the value of the characteristic.</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a> = pRemoteCharacteristic-&gt;<a class="code" href="class_b_l_e_remote_characteristic.html#a67b0993e84a032ef1f4dd0601e6a4628">readValue</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;The characteristic value was: %s&quot;</span>, <a class="code" href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a>.c_str());</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">while</span>(1) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="comment">// Set a new value of the characteristic</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Setting the new value&quot;</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            std::ostringstream stringStream;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keyword">struct </span><a class="code" href="structtimeval.html">timeval</a> tv;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            gettimeofday(&amp;tv, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            stringStream &lt;&lt; <span class="stringliteral">&quot;Time since boot: &quot;</span> &lt;&lt; tv.tv_sec;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            pRemoteCharacteristic-&gt;<a class="code" href="class_b_l_e_remote_characteristic.html#aecd512f950b6a0151941d139d78b19aa">writeValue</a>(stringStream.str());</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <a class="code" href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a>(1000);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        pClient-&gt;<a class="code" href="class_b_l_e_client.html#a967a3ce9f960232db674f5b130894f47">disconnect</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;%s&quot;</span>, pClient-&gt;<a class="code" href="class_b_l_e_client.html#a55209904b6c007e197fc3fd637ce0a6f">toString</a>().c_str());</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;-- End of task&quot;</span>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    } <span class="comment">// run</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}; <span class="comment">// MyClient</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">class </span><a class="code" href="class_my_advertised_device_callbacks.html">MyAdvertisedDeviceCallbacks</a>: <span class="keyword">public</span> <a class="code" href="class_b_l_e_advertised_device_callbacks.html">BLEAdvertisedDeviceCallbacks</a> {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">void</span> onResult(<a class="code" href="class_b_l_e_advertised_device.html">BLEAdvertisedDevice</a> advertisedDevice) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Advertised Device: %s&quot;</span>, advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#aca2821d8b145b0a80ff03dcbbed256bf">toString</a>().c_str());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">if</span> (advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#a58e1a3c25c0da4a8537286ff871c2b52">haveServiceUUID</a>() &amp;&amp; advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#a2feacdfb36be10b82a7fe5265097946e">isAdvertisingService</a>(serviceUUID)) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#a59acd4a2cbb249639de2aa0c230dfa68">getScan</a>()-&gt;<a class="code" href="class_b_l_e_scan.html#a7b78f3ca50d83be7a1448b4f5fdafa02">stop</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Found our device!  address: %s&quot;</span>, advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#a2584fc39d2caa62ea38e2d7bfcf2ccc9">getAddress</a>().<a class="code" href="class_b_l_e_address.html#a495521811cabfb55acd38e393f701508">toString</a>().c_str());</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="class_my_client.html">MyClient</a>* pMyClient = <span class="keyword">new</span> <a class="code" href="class_my_client.html">MyClient</a>();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            pMyClient-&gt;setStackSize(18000);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            pMyClient-&gt;start(<span class="keyword">new</span> <a class="code" href="class_b_l_e_address.html">BLEAddress</a>(*advertisedDevice.<a class="code" href="class_b_l_e_advertised_device.html#a2584fc39d2caa62ea38e2d7bfcf2ccc9">getAddress</a>().<a class="code" href="class_b_l_e_address.html#a4c11bcce1d6ebf907e9a3c4f318bde2e">getNative</a>()));</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        } <span class="comment">// Found our server</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    } <span class="comment">// onResult</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}; <span class="comment">// MyAdvertisedDeviceCallbacks</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="_sample_client___encryption_8cpp.html#a1851534a2467fb786bc6685b5236b042">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_sample_client___encryption_8cpp.html#a1851534a2467fb786bc6685b5236b042">SampleClient_Encryption</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Scanning sample starting&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="class_b_l_e_device.html#a804a83266c71073f9f21eda47b5a3533">BLEDevice::init</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="class_b_l_e_scan.html">BLEScan</a> *pBLEScan = <a class="code" href="class_b_l_e_device.html#ab33f8aaf0d2cc2d7a9d70f991dec9275">BLEDevice::getScan</a>();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    pBLEScan-&gt;<a class="code" href="class_b_l_e_scan.html#a1c6bac2afb7fb0eadab2131d86319316">setAdvertisedDeviceCallbacks</a>(<span class="keyword">new</span> <a class="code" href="class_my_advertised_device_callbacks.html">MyAdvertisedDeviceCallbacks</a>());</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    pBLEScan-&gt;<a class="code" href="class_b_l_e_scan.html#a02e4e5e7297aaa66648e170ebc5ace62">setActiveScan</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    pBLEScan-&gt;<a class="code" href="class_b_l_e_scan.html#a904d302f0f27360abe75b48e7373e228">start</a>(5);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;} <span class="comment">// SampleClient</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="ttc" id="class_b_l_e_u_u_i_d_html"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html">BLEUUID</a></div><div class="ttdoc">A model of a BLE UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8h_source.html#l00018">BLEUUID.h:18</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_html_abea19fd141147c054f47c6a00e77f2ff"><div class="ttname"><a href="class_free_r_t_o_s.html#abea19fd141147c054f47c6a00e77f2ff">FreeRTOS::sleep</a></div><div class="ttdeci">static void sleep(uint32_t ms)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00023">FreeRTOS.cpp:23</a></div></div>
<div class="ttc" id="class_b_l_e_address_html"><div class="ttname"><a href="class_b_l_e_address.html">BLEAddress</a></div><div class="ttdoc">A BLE device address. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_address_8h_source.html#l00021">BLEAddress.h:21</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html_a59acd4a2cbb249639de2aa0c230dfa68"><div class="ttname"><a href="class_b_l_e_advertised_device.html#a59acd4a2cbb249639de2aa0c230dfa68">BLEAdvertisedDevice::getScan</a></div><div class="ttdeci">BLEScan * getScan()</div><div class="ttdoc">Get the scan object that created this advertisement. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8cpp_source.html#l00104">BLEAdvertisedDevice.cpp:104</a></div></div>
<div class="ttc" id="_b_l_e_utils_8h_html"><div class="ttname"><a href="_b_l_e_utils_8h.html">BLEUtils.h</a></div></div>
<div class="ttc" id="_b_l_e_advertised_device_8h_html"><div class="ttname"><a href="_b_l_e_advertised_device_8h.html">BLEAdvertisedDevice.h</a></div></div>
<div class="ttc" id="_b_l_e_device_8h_html"><div class="ttname"><a href="_b_l_e_device_8h.html">BLEDevice.h</a></div></div>
<div class="ttc" id="_task_8h_html"><div class="ttname"><a href="_task_8h.html">Task.h</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html_a2feacdfb36be10b82a7fe5265097946e"><div class="ttname"><a href="class_b_l_e_advertised_device.html#a2feacdfb36be10b82a7fe5265097946e">BLEAdvertisedDevice::isAdvertisingService</a></div><div class="ttdeci">bool isAdvertisingService(BLEUUID uuid)</div><div class="ttdoc">Check advertised serviced for existence required UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8cpp_source.html#l00139">BLEAdvertisedDevice.cpp:139</a></div></div>
<div class="ttc" id="class_b_l_e_remote_service_html"><div class="ttname"><a href="class_b_l_e_remote_service.html">BLERemoteService</a></div><div class="ttdoc">A model of a remote BLE service. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_remote_service_8h_source.html#l00027">BLERemoteService.h:27</a></div></div>
<div class="ttc" id="class_b_l_e_scan_html_a7b78f3ca50d83be7a1448b4f5fdafa02"><div class="ttname"><a href="class_b_l_e_scan.html#a7b78f3ca50d83be7a1448b4f5fdafa02">BLEScan::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stop an in progress scan. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_scan_8cpp_source.html#l00255">BLEScan.cpp:255</a></div></div>
<div class="ttc" id="class_b_l_e_device_html_ab33f8aaf0d2cc2d7a9d70f991dec9275"><div class="ttname"><a href="class_b_l_e_device.html#ab33f8aaf0d2cc2d7a9d70f991dec9275">BLEDevice::getScan</a></div><div class="ttdeci">static BLEScan * getScan()</div><div class="ttdoc">Retrieve the Scan object that we use for scanning. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_device_8cpp_source.html#l00301">BLEDevice.cpp:301</a></div></div>
<div class="ttc" id="class_b_l_e_remote_service_html_afa7ce75f76f9c905eef0593449854ce1"><div class="ttname"><a href="class_b_l_e_remote_service.html#afa7ce75f76f9c905eef0593449854ce1">BLERemoteService::getCharacteristic</a></div><div class="ttdeci">BLERemoteCharacteristic * getCharacteristic(const char *uuid)</div><div class="ttdoc">Get the remote characteristic object for the characteristic UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_remote_service_8cpp_source.html#l00128">BLERemoteService.cpp:128</a></div></div>
<div class="ttc" id="class_b_l_e_client_html_ac12af63aaf2f5048de66f30d69914dda"><div class="ttname"><a href="class_b_l_e_client.html#ac12af63aaf2f5048de66f30d69914dda">BLEClient::connect</a></div><div class="ttdeci">bool connect(BLEAdvertisedDevice *device)</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_client_8cpp_source.html#l00088">BLEClient.cpp:88</a></div></div>
<div class="ttc" id="class_b_l_e_remote_characteristic_html_aecd512f950b6a0151941d139d78b19aa"><div class="ttname"><a href="class_b_l_e_remote_characteristic.html#aecd512f950b6a0151941d139d78b19aa">BLERemoteCharacteristic::writeValue</a></div><div class="ttdeci">void writeValue(uint8_t *data, size_t length, bool response=false)</div><div class="ttdoc">Write the new value for the characteristic from a data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_remote_characteristic_8cpp_source.html#l00546">BLERemoteCharacteristic.cpp:546</a></div></div>
<div class="ttc" id="class_b_l_e_client_html_ad46efb4c86113700133a7ec15dd78ff5"><div class="ttname"><a href="class_b_l_e_client.html#ad46efb4c86113700133a7ec15dd78ff5">BLEClient::getService</a></div><div class="ttdeci">BLERemoteService * getService(const char *uuid)</div><div class="ttdoc">Get the service BLE Remote Service instance corresponding to the uuid. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_client_8cpp_source.html#l00368">BLEClient.cpp:368</a></div></div>
<div class="ttc" id="class_my_client_html"><div class="ttname"><a href="class_my_client.html">MyClient</a></div><div class="ttdef"><b>Definition:</b> <a href="_sample-_m_l_e-15_8cpp_source.html#l00025">Sample-MLE-15.cpp:25</a></div></div>
<div class="ttc" id="structtimeval_html"><div class="ttname"><a href="structtimeval.html">timeval</a></div><div class="ttdef"><b>Definition:</b> <a href="curl__setup__once_8h_source.html#l00109">curl_setup_once.h:109</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html_a58e1a3c25c0da4a8537286ff871c2b52"><div class="ttname"><a href="class_b_l_e_advertised_device.html#a58e1a3c25c0da4a8537286ff871c2b52">BLEAdvertisedDevice::haveServiceUUID</a></div><div class="ttdeci">bool haveServiceUUID()</div><div class="ttdoc">Does this advertisement have a service UUID value? </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8cpp_source.html#l00205">BLEAdvertisedDevice.cpp:205</a></div></div>
<div class="ttc" id="class_b_l_e_address_html_a495521811cabfb55acd38e393f701508"><div class="ttname"><a href="class_b_l_e_address.html#a495521811cabfb55acd38e393f701508">BLEAddress::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Convert a BLE address to a string. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_address_8cpp_source.html#l00085">BLEAddress.cpp:85</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_callbacks_html"><div class="ttname"><a href="class_b_l_e_advertised_device_callbacks.html">BLEAdvertisedDeviceCallbacks</a></div><div class="ttdoc">A callback handler for callbacks associated device scanning. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8h_source.html#l00110">BLEAdvertisedDevice.h:110</a></div></div>
<div class="ttc" id="_b_l_e_client_8h_html"><div class="ttname"><a href="_b_l_e_client_8h.html">BLEClient.h</a></div></div>
<div class="ttc" id="class_b_l_e_address_html_a4c11bcce1d6ebf907e9a3c4f318bde2e"><div class="ttname"><a href="class_b_l_e_address.html#a4c11bcce1d6ebf907e9a3c4f318bde2e">BLEAddress::getNative</a></div><div class="ttdeci">esp_bd_addr_t * getNative()</div><div class="ttdoc">Return the native representation of the address. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_address_8cpp_source.html#l00069">BLEAddress.cpp:69</a></div></div>
<div class="ttc" id="class_b_l_e_client_html"><div class="ttname"><a href="class_b_l_e_client.html">BLEClient</a></div><div class="ttdoc">A model of a BLE client. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_client_8h_source.html#l00031">BLEClient.h:31</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html_aca2821d8b145b0a80ff03dcbbed256bf"><div class="ttname"><a href="class_b_l_e_advertised_device.html#aca2821d8b145b0a80ff03dcbbed256bf">BLEAdvertisedDevice::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Create a string representation of this device. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8cpp_source.html#l00490">BLEAdvertisedDevice.cpp:490</a></div></div>
<div class="ttc" id="_sample_client___encryption_8cpp_html_a1851534a2467fb786bc6685b5236b042"><div class="ttname"><a href="_sample_client___encryption_8cpp.html#a1851534a2467fb786bc6685b5236b042">SampleClient_Encryption</a></div><div class="ttdeci">void SampleClient_Encryption(void)</div><div class="ttdef"><b>Definition:</b> <a href="_sample_client___encryption_8cpp_source.html#l00112">SampleClient_Encryption.cpp:112</a></div></div>
<div class="ttc" id="class_task_html"><div class="ttname"><a href="class_task.html">Task</a></div><div class="ttdoc">Encapsulate a runnable task. </div><div class="ttdef"><b>Definition:</b> <a href="_task_8h_source.html#l00034">Task.h:34</a></div></div>
<div class="ttc" id="class_b_l_e_device_html_a43c500c5e9bcfb046404e7996ec87d48"><div class="ttname"><a href="class_b_l_e_device.html#a43c500c5e9bcfb046404e7996ec87d48">BLEDevice::createClient</a></div><div class="ttdeci">static BLEClient * createClient()</div><div class="ttdoc">Create a new instance of a client. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_device_8cpp_source.html#l00059">BLEDevice.cpp:59</a></div></div>
<div class="ttc" id="class_b_l_e_scan_html_a1c6bac2afb7fb0eadab2131d86319316"><div class="ttname"><a href="class_b_l_e_scan.html#a1c6bac2afb7fb0eadab2131d86319316">BLEScan::setAdvertisedDeviceCallbacks</a></div><div class="ttdeci">void setAdvertisedDeviceCallbacks(BLEAdvertisedDeviceCallbacks *pAdvertisedDeviceCallbacks, bool wantDuplicates=false)</div><div class="ttdoc">Set the call backs to be invoked. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_scan_8cpp_source.html#l00169">BLEScan.cpp:169</a></div></div>
<div class="ttc" id="class_my_advertised_device_callbacks_html"><div class="ttname"><a href="class_my_advertised_device_callbacks.html">MyAdvertisedDeviceCallbacks</a></div><div class="ttdef"><b>Definition:</b> <a href="_sample_async_scan_8cpp_source.html#l00015">SampleAsyncScan.cpp:15</a></div></div>
<div class="ttc" id="unit1602_8c_html_a1f81d06f9ccd5ec47176a7fc466b6030"><div class="ttname"><a href="unit1602_8c.html#a1f81d06f9ccd5ec47176a7fc466b6030">value</a></div><div class="ttdeci">UNITTEST_START int * value</div><div class="ttdef"><b>Definition:</b> <a href="unit1602_8c_source.html#l00051">unit1602.c:51</a></div></div>
<div class="ttc" id="class_b_l_e_u_u_i_d_html_a52e30a254e1ff10a429c2e0a36a6131d"><div class="ttname"><a href="class_b_l_e_u_u_i_d.html#a52e30a254e1ff10a429c2e0a36a6131d">BLEUUID::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Get a string representation of the UUID. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_u_u_i_d_8cpp_source.html#l00355">BLEUUID.cpp:355</a></div></div>
<div class="ttc" id="_b_l_e_scan_8h_html"><div class="ttname"><a href="_b_l_e_scan_8h.html">BLEScan.h</a></div></div>
<div class="ttc" id="class_b_l_e_scan_html"><div class="ttname"><a href="class_b_l_e_scan.html">BLEScan</a></div><div class="ttdoc">Perform and manage BLE scans. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_scan_8h_source.html#l00049">BLEScan.h:49</a></div></div>
<div class="ttc" id="class_b_l_e_client_html_a967a3ce9f960232db674f5b130894f47"><div class="ttname"><a href="class_b_l_e_client.html#a967a3ce9f960232db674f5b130894f47">BLEClient::disconnect</a></div><div class="ttdeci">void disconnect()</div><div class="ttdoc">Disconnect from the peer. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_client_8cpp_source.html#l00142">BLEClient.cpp:142</a></div></div>
<div class="ttc" id="class_b_l_e_remote_characteristic_html"><div class="ttname"><a href="class_b_l_e_remote_characteristic.html">BLERemoteCharacteristic</a></div><div class="ttdoc">A model of a remote BLE characteristic. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_remote_characteristic_8h_source.html#l00029">BLERemoteCharacteristic.h:29</a></div></div>
<div class="ttc" id="class_b_l_e_device_html_a4160b81bf7a467f22b13fa72a36daa46"><div class="ttname"><a href="class_b_l_e_device.html#a4160b81bf7a467f22b13fa72a36daa46">BLEDevice::setEncryptionLevel</a></div><div class="ttdeci">static void setEncryptionLevel(esp_ble_sec_act_t level)</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_device_8cpp_source.html#l00513">BLEDevice.cpp:513</a></div></div>
<div class="ttc" id="class_b_l_e_device_html_a804a83266c71073f9f21eda47b5a3533"><div class="ttname"><a href="class_b_l_e_device.html#a804a83266c71073f9f21eda47b5a3533">BLEDevice::init</a></div><div class="ttdeci">static void init(std::string deviceName)</div><div class="ttdoc">Initialize the BLE environment. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_device_8cpp_source.html#l00333">BLEDevice.cpp:333</a></div></div>
<div class="ttc" id="class_b_l_e_scan_html_a904d302f0f27360abe75b48e7373e228"><div class="ttname"><a href="class_b_l_e_scan.html#a904d302f0f27360abe75b48e7373e228">BLEScan::start</a></div><div class="ttdeci">bool start(uint32_t duration, void(*scanCompleteCB)(BLEScanResults), bool is_continue=false)</div><div class="ttdoc">Start scanning. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_scan_8cpp_source.html#l00200">BLEScan.cpp:200</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html_a2584fc39d2caa62ea38e2d7bfcf2ccc9"><div class="ttname"><a href="class_b_l_e_advertised_device.html#a2584fc39d2caa62ea38e2d7bfcf2ccc9">BLEAdvertisedDevice::getAddress</a></div><div class="ttdeci">BLEAddress getAddress()</div><div class="ttdoc">Get the address. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8cpp_source.html#l00055">BLEAdvertisedDevice.cpp:55</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="class_b_l_e_remote_characteristic_html_a67b0993e84a032ef1f4dd0601e6a4628"><div class="ttname"><a href="class_b_l_e_remote_characteristic.html#a67b0993e84a032ef1f4dd0601e6a4628">BLERemoteCharacteristic::readValue</a></div><div class="ttdeci">std::string readValue()</div><div class="ttdoc">Read the value of the remote characteristic. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_remote_characteristic_8cpp_source.html#l00401">BLERemoteCharacteristic.cpp:401</a></div></div>
<div class="ttc" id="class_b_l_e_advertised_device_html"><div class="ttname"><a href="class_b_l_e_advertised_device.html">BLEAdvertisedDevice</a></div><div class="ttdoc">A representation of a BLE advertised device found by a scan. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_advertised_device_8h_source.html#l00028">BLEAdvertisedDevice.h:28</a></div></div>
<div class="ttc" id="class_b_l_e_client_html_a55209904b6c007e197fc3fd637ce0a6f"><div class="ttname"><a href="class_b_l_e_client.html#a55209904b6c007e197fc3fd637ce0a6f">BLEClient::toString</a></div><div class="ttdeci">std::string toString()</div><div class="ttdoc">Return a string representation of this client. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_client_8cpp_source.html#l00521">BLEClient.cpp:521</a></div></div>
<div class="ttc" id="class_b_l_e_scan_html_a02e4e5e7297aaa66648e170ebc5ace62"><div class="ttname"><a href="class_b_l_e_scan.html#a02e4e5e7297aaa66648e170ebc5ace62">BLEScan::setActiveScan</a></div><div class="ttdeci">void setActiveScan(bool active)</div><div class="ttdoc">Should we perform an active or passive scan? The default is a passive scan. An active scan means that...</div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_scan_8cpp_source.html#l00155">BLEScan.cpp:155</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="dir_af73c6a8db99cb06944db5cd579ae26e.html">tests</a></li><li class="navelem"><a class="el" href="dir_bd6a5a299570209f7e79b4822fafcd71.html">BLETests</a></li><li class="navelem"><a class="el" href="dir_7c0983341e9b67ee36213177c29e94d5.html">security</a></li><li class="navelem"><a class="el" href="_sample_client___encryption_8cpp.html">SampleClient_Encryption.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
