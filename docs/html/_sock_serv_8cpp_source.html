<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: esp32-snippets/cpp_utils/SockServ.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_sock_serv_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SockServ.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_sock_serv_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * SockServ.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Feb 24, 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: kolban</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;esp_log.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;freertos/FreeRTOS.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;freertos/queue.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;sdkconfig.h&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_sock_serv_8h.html">SockServ.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_socket_8h.html">Socket.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* LOG_TAG = <span class="stringliteral">&quot;SockServ&quot;</span>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a8c3fa6bf7bb34ebf9b8db86048ded61c">   31</a></span>&#160;<a class="code" href="class_sock_serv.html#a9fb32006f0a3a89da0145971a17ccab4">SockServ::SockServ</a>(uint16_t port) : <a class="code" href="class_sock_serv.html">SockServ</a>() {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    this-&gt;m_port = port;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;} <span class="comment">// SockServ</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a9fb32006f0a3a89da0145971a17ccab4">   39</a></span>&#160;<a class="code" href="class_sock_serv.html#a9fb32006f0a3a89da0145971a17ccab4">SockServ::SockServ</a>() {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    m_port        = 0;  <span class="comment">// Unknown port.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    m_acceptQueue = xQueueCreate(1, <span class="keyword">sizeof</span>(<a class="code" href="class_socket.html">Socket</a>));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    m_useSSL      = <span class="keyword">false</span>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    m_clientSemaphore.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">take</a>(<span class="stringliteral">&quot;SockServ&quot;</span>);   <span class="comment">// Create the queue; deleted in the destructor.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;} <span class="comment">// SockServ</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a18b87a413bac01b49e89f7d616a14da8">   50</a></span>&#160;<a class="code" href="class_sock_serv.html#a18b87a413bac01b49e89f7d616a14da8">SockServ::~SockServ</a>() {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    vQueueDelete(m_acceptQueue);   <span class="comment">// Delete the queue created in the constructor.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;} <span class="comment">// ~SockServ</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/* static */</span> <span class="keywordtype">void</span> SockServ::acceptTask(<span class="keywordtype">void</span>* <a class="code" href="structdata.html">data</a>) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="class_sock_serv.html">SockServ</a>* pSockServ = (<a class="code" href="class_sock_serv.html">SockServ</a>*) <a class="code" href="structdata.html">data</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Waiting on accept&quot;</span>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <a class="code" href="class_socket.html">Socket</a> tempSock = pSockServ-&gt;m_serverSocket.<a class="code" href="class_socket.html#a3f749d9a206e48a875e8c24f29500a93">accept</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">if</span> (!tempSock.<a class="code" href="class_socket.html#a5ccaf81da2b6f25dded056e6dbf7f410">isValid</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            pSockServ-&gt;m_clientSet.insert(tempSock);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            xQueueSendToBack(pSockServ-&gt;m_acceptQueue, &amp;tempSock, portMAX_DELAY);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            pSockServ-&gt;m_clientSemaphore.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">give</a>();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        } <span class="keywordflow">catch</span> (std::exception e) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;acceptTask ending&quot;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            pSockServ-&gt;m_clientSemaphore.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">give</a>();   <span class="comment">// Wake up any waiting clients.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <a class="code" href="class_free_r_t_o_s.html#a965b07cf1ca57fd0eb61df092b98edab">FreeRTOS::deleteTask</a>();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;} <span class="comment">// acceptTask</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a74fdc3b3fcb84a1e64505b1c792032f9">   88</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_sock_serv.html#a74fdc3b3fcb84a1e64505b1c792032f9">SockServ::connectedCount</a>() {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> m_clientSet.size();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;} <span class="comment">// connectedCount</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a28ad7ac11058be8dbb87439c430329c2">   96</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a28ad7ac11058be8dbb87439c430329c2">SockServ::disconnect</a>(<a class="code" href="class_socket.html">Socket</a> s) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">auto</span> search = m_clientSet.find(s);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    m_clientSet.erase(search);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;} <span class="comment">// disconnect</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="class_sock_serv.html#aa62641e571ccec4dd6ec8c141204fe5e">  105</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_sock_serv.html#aa62641e571ccec4dd6ec8c141204fe5e">SockServ::getSSL</a>() {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> m_useSSL;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;} <span class="comment">// getSSL</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a9e4e21eb4e94912fd403a7e3dcbdb54c">  116</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_sock_serv.html#a9e4e21eb4e94912fd403a7e3dcbdb54c">SockServ::receiveData</a>(<a class="code" href="class_socket.html">Socket</a> s, <span class="keywordtype">void</span>* pData, <span class="keywordtype">size_t</span> maxData) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = s.<a class="code" href="class_socket.html#abeb5751e47f3fa96755aba55d29c300a">receive</a>((uint8_t*) pData, maxData);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == -1) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;recv(): %s&quot;</span>, <a class="code" href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">strerror</a>(errno));</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;} <span class="comment">// receiveData</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="class_sock_serv.html#ac50c88830b1b4a3e75b8fbd82799b08d">  131</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a3e4e4cc30becc9440573c3285e8004d2">SockServ::sendData</a>(<a class="code" href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">std::string</a> <a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="class_sock_serv.html#a3e4e4cc30becc9440573c3285e8004d2">sendData</a>((uint8_t*) <a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>.data(), <a class="code" href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>.size());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;} <span class="comment">// sendData</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a3e4e4cc30becc9440573c3285e8004d2">  142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a3e4e4cc30becc9440573c3285e8004d2">SockServ::sendData</a>(uint8_t* <a class="code" href="structdata.html">data</a>, <span class="keywordtype">size_t</span> length) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> = m_clientSet.begin(); <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> != m_clientSet.end(); ++<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      (*it).send(<a class="code" href="structdata.html">data</a>, length);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;} <span class="comment">// sendData</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a12c8f4baa1bad7d405a39c4ad3310e37">  153</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a12c8f4baa1bad7d405a39c4ad3310e37">SockServ::setPort</a>(uint16_t port) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    m_port = port;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;} <span class="comment">// setPort</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a26b1666ac84ee10fc3a39086192e3617">  158</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a26b1666ac84ee10fc3a39086192e3617">SockServ::setSSL</a>(<span class="keywordtype">bool</span> use) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    m_useSSL = use;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;} <span class="comment">// setSSL</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="class_sock_serv.html#abbfb5d8eba2ef0a47fa0aa981a43f6dc">  168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#abbfb5d8eba2ef0a47fa0aa981a43f6dc">SockServ::start</a>() {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="test1_8c.html#a74bb3debd3b0d3f9c3fe210442b4cacc">assert</a>(m_port != 0);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">//m_serverSocket.setSSL(m_useSSL);</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    m_serverSocket.<a class="code" href="class_socket.html#a893bb9a6107d2139cfb088f0c82ac5ae">listen</a>(m_port);   <span class="comment">// Create a socket and start listening on it.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;Now listening on port %d&quot;</span>, m_port);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="class_free_r_t_o_s.html#aaabf67574ec5a28c3db4536e200af576">FreeRTOS::startTask</a>(acceptTask, <span class="stringliteral">&quot;acceptTask&quot;</span>, <span class="keyword">this</span>, 8 * 1024);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;} <span class="comment">// start</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="class_sock_serv.html#a4d6d90089cd108ba10e481e4aca274f4">  180</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_sock_serv.html#a4d6d90089cd108ba10e481e4aca274f4">SockServ::stop</a>() {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; stop&quot;</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// By closing the server socket, the task watching on accept() on that socket</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// will throw an exception which will propagate a clean ending.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    m_serverSocket.<a class="code" href="class_socket.html#aef06605c6725958004116983f1a2051f">close</a>();   <span class="comment">// Close the server socket.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; stop&quot;</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;} <span class="comment">// stop</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_sock_serv.html#afe1a76ac356518aac617b25f6c6b3c42">  189</a></span>&#160;<a class="code" href="class_socket.html">Socket</a> <a class="code" href="class_sock_serv.html#afe1a76ac356518aac617b25f6c6b3c42">SockServ::waitForData</a>(std::set&lt;Socket&gt;&amp; socketSet) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    fd_set readSet;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> maxFd = -1;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> = socketSet.begin(); <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> != socketSet.end(); ++<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        FD_SET(<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getFD(), &amp;readSet);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getFD() &gt; maxFd) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            maxFd = <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getFD();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    } <span class="comment">// End for</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = ::select(</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            maxFd+1,  <span class="comment">// Number of sockets to scan</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            &amp;readSet, <span class="comment">// Set of read sockets</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keyword">nullptr</span>,  <span class="comment">// Set of write sockets</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keyword">nullptr</span>,  <span class="comment">// Set of exception sockets</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keyword">nullptr</span>   <span class="comment">// Timeout</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    );</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> == -1) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;Error with select&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="class_socket.html">Socket</a> s;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> = socketSet.begin(); <a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a> != socketSet.end(); ++<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (FD_ISSET(<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>-&gt;getFD(), &amp;readSet)) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">return</span> *<a class="code" href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    } <span class="comment">// End for</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="class_socket.html">Socket</a> s;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="class_sock_serv.html#ad0dfa6f354891c6f8b435d831fea14f5">  228</a></span>&#160;<a class="code" href="class_socket.html">Socket</a> <a class="code" href="class_sock_serv.html#ad0dfa6f354891c6f8b435d831fea14f5">SockServ::waitForNewClient</a>() {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&gt;&gt; waitForNewClient&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    m_clientSemaphore.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">wait</a>(<span class="stringliteral">&quot;waitForNewClient&quot;</span>);                 <span class="comment">// Unlocked in acceptTask.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    m_clientSemaphore.<a class="code" href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">take</a>(<span class="stringliteral">&quot;waitForNewClient&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="class_socket.html">Socket</a> tempSocket;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    BaseType_t <a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> = xQueueReceive(m_acceptQueue, &amp;tempSocket, 0);   <span class="comment">// Read the socket from the queue.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">rc</a> != pdPASS) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        ESP_LOGE(LOG_TAG, <span class="stringliteral">&quot;No new client from SockServ!&quot;</span>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_socket_exception.html">SocketException</a>(0);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    ESP_LOGD(LOG_TAG, <span class="stringliteral">&quot;&lt;&lt; waitForNewClient&quot;</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> tempSocket;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;} <span class="comment">// waitForNewClient</span></div><div class="ttc" id="class_socket_html_a5ccaf81da2b6f25dded056e6dbf7f410"><div class="ttname"><a href="class_socket.html#a5ccaf81da2b6f25dded056e6dbf7f410">Socket::isValid</a></div><div class="ttdeci">bool isValid()</div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00249">Socket.cpp:249</a></div></div>
<div class="ttc" id="class_socket_html_abeb5751e47f3fa96755aba55d29c300a"><div class="ttname"><a href="class_socket.html#abeb5751e47f3fa96755aba55d29c300a">Socket::receive</a></div><div class="ttdeci">size_t receive(uint8_t *data, size_t length, bool exact=false)</div><div class="ttdoc">Receive data from the partner. Receive data from the socket partner. If exact = false, we read as much data as is available without blocking up to length. If exact = true, we will block until we have received exactly length bytes or there are no more bytes to read. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00349">Socket.cpp:349</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_html_a965b07cf1ca57fd0eb61df092b98edab"><div class="ttname"><a href="class_free_r_t_o_s.html#a965b07cf1ca57fd0eb61df092b98edab">FreeRTOS::deleteTask</a></div><div class="ttdeci">static void deleteTask(TaskHandle_t pTask=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00044">FreeRTOS.cpp:44</a></div></div>
<div class="ttc" id="_sock_serv_8h_html"><div class="ttname"><a href="_sock_serv_8h.html">SockServ.h</a></div></div>
<div class="ttc" id="class_sock_serv_html_aa62641e571ccec4dd6ec8c141204fe5e"><div class="ttname"><a href="class_sock_serv.html#aa62641e571ccec4dd6ec8c141204fe5e">SockServ::getSSL</a></div><div class="ttdeci">bool getSSL()</div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00105">SockServ.cpp:105</a></div></div>
<div class="ttc" id="class_sock_serv_html_a3e4e4cc30becc9440573c3285e8004d2"><div class="ttname"><a href="class_sock_serv.html#a3e4e4cc30becc9440573c3285e8004d2">SockServ::sendData</a></div><div class="ttdeci">void sendData(uint8_t *data, size_t length)</div><div class="ttdoc">Send data to any connected partners. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00142">SockServ.cpp:142</a></div></div>
<div class="ttc" id="class_sock_serv_html_a12c8f4baa1bad7d405a39c4ad3310e37"><div class="ttname"><a href="class_sock_serv.html#a12c8f4baa1bad7d405a39c4ad3310e37">SockServ::setPort</a></div><div class="ttdeci">void setPort(uint16_t port)</div><div class="ttdoc">Set the port number to use. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00153">SockServ.cpp:153</a></div></div>
<div class="ttc" id="connect-to_8d_html_a450c41f520f7661f0a48b8fd2597a74c"><div class="ttname"><a href="connect-to_8d.html#a450c41f520f7661f0a48b8fd2597a74c">string</a></div><div class="ttdeci">Long connect to e.g.at a specific cluster node in a cluster of servers.This option is only used to establish the network connection.It does NOT affect the hostname port that is used for TLS meaning any host port.HOST2 and PORT2 may also be the empty string</div><div class="ttdef"><b>Definition:</b> <a href="connect-to_8d_source.html#l00014">connect-to.d:14</a></div></div>
<div class="ttc" id="class_socket_html_aef06605c6725958004116983f1a2051f"><div class="ttname"><a href="class_socket.html#aef06605c6725958004116983f1a2051f">Socket::close</a></div><div class="ttdeci">int close()</div><div class="ttdoc">Close the socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00135">Socket.cpp:135</a></div></div>
<div class="ttc" id="class_sock_serv_html_a9fb32006f0a3a89da0145971a17ccab4"><div class="ttname"><a href="class_sock_serv.html#a9fb32006f0a3a89da0145971a17ccab4">SockServ::SockServ</a></div><div class="ttdeci">SockServ()</div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00039">SockServ.cpp:39</a></div></div>
<div class="ttc" id="namespacedictserver_html_aeb700c49a1a229869c3b36509a6c6c32"><div class="ttname"><a href="namespacedictserver.html#aeb700c49a1a229869c3b36509a6c6c32">dictserver.rc</a></div><div class="ttdeci">def rc</div><div class="ttdef"><b>Definition:</b> <a href="dictserver_8py_source.html#l00153">dictserver.py:153</a></div></div>
<div class="ttc" id="class_sock_serv_html_a26b1666ac84ee10fc3a39086192e3617"><div class="ttname"><a href="class_sock_serv.html#a26b1666ac84ee10fc3a39086192e3617">SockServ::setSSL</a></div><div class="ttdeci">void setSSL(bool use=true)</div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00158">SockServ.cpp:158</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_ad1aa158e37d15363b4441482fae82dd8"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#ad1aa158e37d15363b4441482fae82dd8">FreeRTOS::Semaphore::give</a></div><div class="ttdeci">void give()</div><div class="ttdoc">Give a semaphore. The Semaphore is given. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00114">FreeRTOS.cpp:114</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_html_aaabf67574ec5a28c3db4536e200af576"><div class="ttname"><a href="class_free_r_t_o_s.html#aaabf67574ec5a28c3db4536e200af576">FreeRTOS::startTask</a></div><div class="ttdeci">static void startTask(void task(void *), std::string taskName, void *param=nullptr, uint32_t stackSize=2048)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00035">FreeRTOS.cpp:35</a></div></div>
<div class="ttc" id="class_sock_serv_html"><div class="ttname"><a href="class_sock_serv.html">SockServ</a></div><div class="ttdoc">Provide a socket listener and the ability to send data to connected partners. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8h_source.html#l00033">SockServ.h:33</a></div></div>
<div class="ttc" id="namespaceimpacket_1_1nmb_html_ae08ba7342be906ac4e49aa4746c2242d"><div class="ttname"><a href="namespaceimpacket_1_1nmb.html#ae08ba7342be906ac4e49aa4746c2242d">impacket.nmb.strerror</a></div><div class="ttdeci">def strerror(errclass, errcode)</div><div class="ttdef"><b>Definition:</b> <a href="nmb_8py_source.html#l00140">nmb.py:140</a></div></div>
<div class="ttc" id="class_sock_serv_html_afe1a76ac356518aac617b25f6c6b3c42"><div class="ttname"><a href="class_sock_serv.html#afe1a76ac356518aac617b25f6c6b3c42">SockServ::waitForData</a></div><div class="ttdeci">Socket waitForData(std::set&lt; Socket &gt; &amp;socketSet)</div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00189">SockServ.cpp:189</a></div></div>
<div class="ttc" id="_socket_8h_html"><div class="ttname"><a href="_socket_8h.html">Socket.h</a></div></div>
<div class="ttc" id="class_sock_serv_html_a9e4e21eb4e94912fd403a7e3dcbdb54c"><div class="ttname"><a href="class_sock_serv.html#a9e4e21eb4e94912fd403a7e3dcbdb54c">SockServ::receiveData</a></div><div class="ttdeci">size_t receiveData(Socket s, void *pData, size_t maxData)</div><div class="ttdoc">Wait for data. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00116">SockServ.cpp:116</a></div></div>
<div class="ttc" id="unit1398_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="unit1398_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="unit1398_8c_source.html#l00033">unit1398.c:33</a></div></div>
<div class="ttc" id="class_socket_exception_html"><div class="ttname"><a href="class_socket_exception.html">SocketException</a></div><div class="ttdef"><b>Definition:</b> <a href="_socket_8h_source.html#l00045">Socket.h:45</a></div></div>
<div class="ttc" id="class_sock_serv_html_a74fdc3b3fcb84a1e64505b1c792032f9"><div class="ttname"><a href="class_sock_serv.html#a74fdc3b3fcb84a1e64505b1c792032f9">SockServ::connectedCount</a></div><div class="ttdeci">int connectedCount()</div><div class="ttdoc">Determine the number of connected partners. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00088">SockServ.cpp:88</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a023cb404ff897bb39064b454732ccf21"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a023cb404ff897bb39064b454732ccf21">FreeRTOS::Semaphore::wait</a></div><div class="ttdeci">uint32_t wait(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Wait for a semaphore to be released by trying to take it and then releasing it again. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00064">FreeRTOS.cpp:64</a></div></div>
<div class="ttc" id="class_sock_serv_html_a18b87a413bac01b49e89f7d616a14da8"><div class="ttname"><a href="class_sock_serv.html#a18b87a413bac01b49e89f7d616a14da8">SockServ::~SockServ</a></div><div class="ttdeci">~SockServ()</div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00050">SockServ.cpp:50</a></div></div>
<div class="ttc" id="class_socket_html"><div class="ttname"><a href="class_socket.html">Socket</a></div><div class="ttdoc">Encapsulate a socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8h_source.html#l00062">Socket.h:62</a></div></div>
<div class="ttc" id="class_sock_serv_html_ad0dfa6f354891c6f8b435d831fea14f5"><div class="ttname"><a href="class_sock_serv.html#ad0dfa6f354891c6f8b435d831fea14f5">SockServ::waitForNewClient</a></div><div class="ttdeci">Socket waitForNewClient()</div><div class="ttdoc">Wait for a client connection to be present. Returns when a client connection is present. This can block until a client connects or can return immediately is there is already a client connection in existence. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00228">SockServ.cpp:228</a></div></div>
<div class="ttc" id="_free_r_t_o_s_8h_html"><div class="ttname"><a href="_free_r_t_o_s_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="class_socket_html_a3f749d9a206e48a875e8c24f29500a93"><div class="ttname"><a href="class_socket.html#a3f749d9a206e48a875e8c24f29500a93">Socket::accept</a></div><div class="ttdeci">Socket accept()</div><div class="ttdoc">Accept a new socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00057">Socket.cpp:57</a></div></div>
<div class="ttc" id="ftp-ssl-ccc-mode_8d_html_ac4f4031531425afe8fbe576a1e1d1642"><div class="ttname"><a href="ftp-ssl-ccc-mode_8d.html#ac4f4031531425afe8fbe576a1e1d1642">it</a></div><div class="ttdeci">Long but instead wait for the server to do it</div><div class="ttdef"><b>Definition:</b> <a href="ftp-ssl-ccc-mode_8d_source.html#l00008">ftp-ssl-ccc-mode.d:8</a></div></div>
<div class="ttc" id="class_sock_serv_html_abbfb5d8eba2ef0a47fa0aa981a43f6dc"><div class="ttname"><a href="class_sock_serv.html#abbfb5d8eba2ef0a47fa0aa981a43f6dc">SockServ::start</a></div><div class="ttdeci">void start()</div><div class="ttdoc">Start listening for new partner connections. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00168">SockServ.cpp:168</a></div></div>
<div class="ttc" id="class_socket_html_a893bb9a6107d2139cfb088f0c82ac5ae"><div class="ttname"><a href="class_socket.html#a893bb9a6107d2139cfb088f0c82ac5ae">Socket::listen</a></div><div class="ttdeci">int listen(uint16_t port, bool isDatagram=false, bool reuseAddress=false)</div><div class="ttdoc">Create a listening socket. </div><div class="ttdef"><b>Definition:</b> <a href="_socket_8cpp_source.html#l00259">Socket.cpp:259</a></div></div>
<div class="ttc" id="class_free_r_t_o_s_1_1_semaphore_html_a67fa9bf777be48332a30154e006827fd"><div class="ttname"><a href="class_free_r_t_o_s_1_1_semaphore.html#a67fa9bf777be48332a30154e006827fd">FreeRTOS::Semaphore::take</a></div><div class="ttdeci">bool take(std::string owner=&quot;&lt;Unknown&gt;&quot;)</div><div class="ttdoc">Take a semaphore. Take a semaphore and wait indefinitely. </div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8cpp_source.html#l00159">FreeRTOS.cpp:159</a></div></div>
<div class="ttc" id="test1_8c_html_a74bb3debd3b0d3f9c3fe210442b4cacc"><div class="ttname"><a href="test1_8c.html#a74bb3debd3b0d3f9c3fe210442b4cacc">assert</a></div><div class="ttdeci">#define assert(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="test1_8c_source.html#l00202">test1.c:202</a></div></div>
<div class="ttc" id="class_sock_serv_html_a4d6d90089cd108ba10e481e4aca274f4"><div class="ttname"><a href="class_sock_serv.html#a4d6d90089cd108ba10e481e4aca274f4">SockServ::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stop listening for new partner connections. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00180">SockServ.cpp:180</a></div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00029">debug.c:29</a></div></div>
<div class="ttc" id="class_sock_serv_html_a28ad7ac11058be8dbb87439c430329c2"><div class="ttname"><a href="class_sock_serv.html#a28ad7ac11058be8dbb87439c430329c2">SockServ::disconnect</a></div><div class="ttdeci">void disconnect(Socket s)</div><div class="ttdoc">Disconnect any connected partners. </div><div class="ttdef"><b>Definition:</b> <a href="_sock_serv_8cpp_source.html#l00096">SockServ.cpp:96</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b66d65f09a100230911d819a169d69c.html">esp32-snippets</a></li><li class="navelem"><a class="el" href="dir_e66062f3a4d2a5b6b6746a6b0f9c85ac.html">cpp_utils</a></li><li class="navelem"><a class="el" href="_sock_serv_8cpp.html">SockServ.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
