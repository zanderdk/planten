<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plante: components/curl/docs/examples/curlx.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plante
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('curlx_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">curlx.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="curlx_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  curlx.c  Authors: Peter Sylvester, Jean-Paul Merlin</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  This is a little program to demonstrate the usage of</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">  - an ssl initialisation callback setting a user key and trustbases</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  coming from a pkcs12 file</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  - using an ssl application callback to find a URI in the</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">  certificate presented during ssl session establishment.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* &lt;DESC&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * demonstrates use of SSL context callback, requires OpenSSL</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * &lt;/DESC&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Copyright (c) 2003 The OpenEvidence Project.  All rights reserved.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * are met:</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *    notice, this list of conditions, the following disclaimer,</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *    and the original OpenSSL and SSLeay Licences below.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *    notice, this list of conditions, the following disclaimer</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *    and the original OpenSSL and SSLeay Licences below in</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *    the documentation and/or other materials provided with the</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *    distribution.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * 3. All advertising materials mentioning features or use of this</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *    software must display the following acknowledgments:</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *    &quot;This product includes software developed by the Openevidence Project</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *    for use in the OpenEvidence Toolkit. (http://www.openevidence.org/)&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *    This product includes software developed by the OpenSSL Project</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *    for use in the OpenSSL Toolkit (https://www.openssl.org/)&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> *    This product includes cryptographic software written by Eric Young</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> *    (eay@cryptsoft.com).  This product includes software written by Tim</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *    Hudson (tjh@cryptsoft.com).&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * 4. The names &quot;OpenEvidence Toolkit&quot; and &quot;OpenEvidence Project&quot; must not be</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *    used to endorse or promote products derived from this software without</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> *    prior written permission. For written permission, please contact</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> *    openevidence-core@openevidence.org.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * 5. Products derived from this software may not be called &quot;OpenEvidence&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> *    nor may &quot;OpenEvidence&quot; appear in their names without prior written</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> *    permission of the OpenEvidence Project.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * 6. Redistributions of any form whatsoever must retain the following</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> *    acknowledgments:</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> *    &quot;This product includes software developed by the OpenEvidence Project</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *    for use in the OpenEvidence Toolkit (http://www.openevidence.org/)</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> *    This product includes software developed by the OpenSSL Project</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> *    for use in the OpenSSL Toolkit (https://www.openssl.org/)&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> *    This product includes cryptographic software written by Eric Young</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> *    (eay@cryptsoft.com).  This product includes software written by Tim</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> *    Hudson (tjh@cryptsoft.com).&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE OpenEvidence PROJECT ``AS IS&#39;&#39; AND ANY</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> * EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE OpenEvidence PROJECT OR</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * ====================================================================</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * This product includes software developed by the OpenSSL Project</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * for use in the OpenSSL Toolkit (https://www.openssl.org/)</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> * This product includes cryptographic software written by Eric Young</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> * (eay@cryptsoft.com).  This product includes software written by Tim</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * Hudson (tjh@cryptsoft.com).</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="curl_8h.html">curl/curl.h</a>&gt;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &lt;openssl/x509v3.h&gt;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;openssl/x509_vfy.h&gt;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &lt;openssl/crypto.h&gt;</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &lt;openssl/lhash.h&gt;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &lt;openssl/objects.h&gt;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &lt;openssl/err.h&gt;</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &lt;openssl/evp.h&gt;</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &lt;openssl/x509.h&gt;</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &lt;openssl/pkcs12.h&gt;</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &lt;openssl/bio.h&gt;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &lt;openssl/ssl.h&gt;</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *curlx_usage[]={</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="stringliteral">&quot;usage: curlx args\n&quot;</span>,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="stringliteral">&quot; -p12 arg         - tia  file &quot;</span>,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="stringliteral">&quot; -envpass arg     - environment variable which content the tia private&quot;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="stringliteral">&quot; key password&quot;</span>,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="stringliteral">&quot; -out arg         - output file (response)- default stdout&quot;</span>,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="stringliteral">&quot; -in arg          - input file (request)- default stdin&quot;</span>,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="stringliteral">&quot; -connect arg     - URL of the server for the connection ex:&quot;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="stringliteral">&quot; www.openevidence.org&quot;</span>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="stringliteral">&quot; -mimetype arg    - MIME type for data in ex : application/timestamp-query&quot;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="stringliteral">&quot; or application/dvcs -default application/timestamp-query&quot;</span>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="stringliteral">&quot; -acceptmime arg  - MIME type acceptable for the response ex : &quot;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="stringliteral">&quot;application/timestamp-response or application/dvcs -default none&quot;</span>,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="stringliteral">&quot; -accesstype arg  - an Object identifier in an AIA/SIA method, e.g.&quot;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="stringliteral">&quot; AD_DVCS or ad_timestamping&quot;</span>,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  NULL</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">./curlx -p12 psy.p12 -envpass XX -in request -verbose -accesstype AD_DVCS</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">-mimetype application/dvcs -acceptmime application/dvcs -out response</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> * We use this ZERO_NULL to avoid picky compiler warnings,</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> * when assigning a NULL pointer to a function pointer var.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">  131</a></span>&#160;<span class="preprocessor">#define ZERO_NULL 0</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/* This is a context that we pass to all callbacks */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html">  135</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structsslctxparm__st.html">sslctxparm_st</a> {</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html#aaf1d75a6294fa0931f8754addff919b7">  136</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structsslctxparm__st.html#aaf1d75a6294fa0931f8754addff919b7">p12file</a>;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html#a780798d5d1cb34c6f85980f9e11b7923">  137</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structsslctxparm__st.html#a780798d5d1cb34c6f85980f9e11b7923">pst</a>;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html#a76cf8a879581310fb777d798e7c4c7e9">  138</a></span>&#160;  PKCS12 *<a class="code" href="structsslctxparm__st.html#a76cf8a879581310fb777d798e7c4c7e9">p12</a>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html#afcf37460264acdb7cfd955f09c691ff6">  139</a></span>&#160;  EVP_PKEY *<a class="code" href="structsslctxparm__st.html#afcf37460264acdb7cfd955f09c691ff6">pkey</a>;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structsslctxparm__st.html#ac6fcbed7595d038e47612fdd47c48e3f">  140</a></span>&#160;  X509 *<a class="code" href="structsslctxparm__st.html#ac6fcbed7595d038e47612fdd47c48e3f">usercert</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  STACK_OF(X509) * ca;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="curl_8h.html#ace655e3633b6533591283994d6b5cdda">CURL</a> *curl;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  BIO *errorbio;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">int</span> accesstype;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="next_8d.html#abe10eb0831ec028e893494fafede8ed9">verbose</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;} <a class="code" href="curlx_8c.html#a00811309833133b6a9139cb8eff8a170">sslctxparm</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">/* some helper function. */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *ia5string(ASN1_IA5STRING *ia5)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">char</span> *tmp;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span>(!ia5 || !ia5-&gt;length)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  tmp = OPENSSL_malloc(ia5-&gt;length + 1);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a>(tmp, ia5-&gt;data, ia5-&gt;length);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  tmp[ia5-&gt;length] = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/* A convenience routine to get an access URI. */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *my_get_ext(X509 *cert, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                 <span class="keywordtype">int</span> extensiontype)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  STACK_OF(ACCESS_DESCRIPTION) * accessinfo;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  accessinfo =  <a class="code" href="setup-vms_8h.html#a5d2928a33b697892fa7dcc0f1fb0d129">X509_get_ext_d2i</a>(cert, extensiontype, NULL, NULL);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span>(!sk_ACCESS_DESCRIPTION_num(accessinfo))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0; <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> &lt; sk_ACCESS_DESCRIPTION_num(accessinfo); <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>++) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    ACCESS_DESCRIPTION * ad = sk_ACCESS_DESCRIPTION_value(accessinfo, <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span>(OBJ_obj2nid(ad-&gt;method) == <a class="code" href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">if</span>(ad-&gt;location-&gt;type == GEN_URI) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> ia5string(ad-&gt;location-&gt;d.ia5);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/* This is an application verification call back, it does not</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   perform any addition verification but tries to find a URL</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   in the presented certificate. If found, this will become</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">   the URL to be used in the POST.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> ssl_app_verify_callback(X509_STORE_CTX *ctx, <span class="keywordtype">void</span> *arg)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="structsslctxparm__st.html">sslctxparm</a> * <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = (<a class="code" href="structsslctxparm__st.html">sslctxparm</a> *) arg;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordtype">int</span> ok;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;verbose &gt; 2)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;entering ssl_app_verify_callback\n&quot;</span>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  ok = X509_verify_cert(ctx);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span>(ok &amp;&amp; ctx-&gt;cert) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *accessinfo;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;verbose &gt; 1)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      X509_print_ex(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, ctx-&gt;cert, 0, 0);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    accessinfo = my_get_ext(ctx-&gt;cert, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;accesstype, NID_sinfo_access);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span>(accessinfo) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;verbose)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;Setting URL from SIA to: %s\n&quot;</span>, accessinfo);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;curl, CURLOPT_URL, accessinfo);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(accessinfo = my_get_ext(ctx-&gt;cert, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;accesstype,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                    NID_info_access)) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;verbose)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;Setting URL from AIA to: %s\n&quot;</span>, accessinfo);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;curl, CURLOPT_URL, accessinfo);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;verbose &gt; 2)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;leaving ssl_app_verify_callback with %d\n&quot;</span>, ok);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">/* The SSL initialisation callback. The callback sets:</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">   - a private key and certificate</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   - a trusted ca certificate</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">   - a preferred cipherlist</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">   - an application verification callback (the function above)</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="keyword">static</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> sslctxfun(<a class="code" href="curl_8h.html#ace655e3633b6533591283994d6b5cdda">CURL</a> *curl, <span class="keywordtype">void</span> *sslctx, <span class="keywordtype">void</span> *parm)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="structsslctxparm__st.html">sslctxparm</a> *<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a> = (<a class="code" href="structsslctxparm__st.html">sslctxparm</a> *) parm;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  SSL_CTX *ctx = (SSL_CTX *) sslctx;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="setup-vms_8h.html#ac78686b148fb4b4ec55b126c404bd89e">SSL_CTX_use_certificate</a>(ctx, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;usercert)) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;SSL_CTX_use_certificate problem\n&quot;</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="setup-vms_8h.html#a44ca1aff4da82f55bd20b3c7a7f2e383">SSL_CTX_use_PrivateKey</a>(ctx, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;pkey)) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;SSL_CTX_use_PrivateKey\n&quot;</span>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="setup-vms_8h.html#a06dc4c3f54ecece03a956a8f99296ff5">SSL_CTX_check_private_key</a>(ctx)) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio, <span class="stringliteral">&quot;SSL_CTX_check_private_key\n&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  SSL_CTX_set_quiet_shutdown(ctx, 1);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="setup-vms_8h.html#aa7611069fbad9e8c84bbafc77b58f369">SSL_CTX_set_cipher_list</a>(ctx, <span class="stringliteral">&quot;RC4-MD5&quot;</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  SSL_CTX_set_mode(ctx, SSL_MODE_AUTO_RETRY);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  X509_STORE_add_cert(<a class="code" href="setup-vms_8h.html#af55e4ccbb54ad626fde32c2a43a8e06e">SSL_CTX_get_cert_store</a>(ctx),</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                      sk_X509_value(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;ca, sk_X509_num(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;ca)-1));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  SSL_CTX_set_verify_depth(ctx, 2);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="setup-vms_8h.html#ad16fc197ca0af13411844895262ac9b6">SSL_CTX_set_verify</a>(ctx, SSL_VERIFY_PEER, <a class="code" href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  SSL_CTX_set_cert_verify_callback(ctx, ssl_app_verify_callback, parm);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  err:</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  ERR_print_errors(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>-&gt;errorbio);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951a5ffb4b97de06318ffbd19405b18494f9">CURLE_SSL_CERTPROBLEM</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="curlx_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">  270</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="curlx_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  BIO* <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a> = NULL;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  BIO* out = NULL;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordtype">char</span> *outfile = NULL;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordtype">char</span> *infile = NULL;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordtype">int</span> tabLength = 100;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordtype">char</span> *binaryptr;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">char</span> *mimetype;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordtype">char</span> *mimetypeaccept = NULL;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordtype">char</span> *contenttype;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> **pp;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *hostporturl = NULL;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  BIO *p12bio;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordtype">char</span> **args = argv + 1;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *serverurl;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="structsslctxparm__st.html">sslctxparm</a> <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordtype">char</span> *response;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a> res;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcurl__slist.html">curl_slist</a> *<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a> = NULL;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">int</span> badarg = 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  binaryptr = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(tabLength);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose = 0;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio = BIO_new_fp(stderr, BIO_NOCLOSE);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="curl_8h.html#a913e575dba100c0e9f9f6420a054d5ab">curl_global_init</a>(<a class="code" href="curl_8h.html#a43a83b323c903cc5042cd55cb6f2c78c">CURL_GLOBAL_DEFAULT</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">/* we need some more for the P12 decoding */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  OpenSSL_add_all_ciphers();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  OpenSSL_add_all_digests();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  ERR_load_crypto_strings();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">while</span>(*args &amp;&amp; *args[0] == <span class="charliteral">&#39;-&#39;</span>) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span>(!strcmp (*args, <span class="stringliteral">&quot;-in&quot;</span>)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        infile = *(++args);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        badarg = 1;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp (*args, <span class="stringliteral">&quot;-out&quot;</span>)) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        outfile = *(++args);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        badarg = 1;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp (*args, <span class="stringliteral">&quot;-p12&quot;</span>)) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file = *(++args);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        badarg = 1;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-envpass&quot;</span>) == 0) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.pst = <a class="code" href="setup-vms_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a>(*(++args));</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        badarg = 1;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-connect&quot;</span>) == 0) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        hostporturl = *(++args);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        badarg = 1;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-mimetype&quot;</span>) == 0) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        mimetype = *(++args);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        badarg = 1;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-acceptmime&quot;</span>) == 0) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        mimetypeaccept = *(++args);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        badarg = 1;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-accesstype&quot;</span>) == 0) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">if</span>(args[1]) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype = OBJ_obj2nid(OBJ_txt2obj(*++args, 0));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype == 0)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          badarg = 1;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        badarg = 1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(*args, <span class="stringliteral">&quot;-verbose&quot;</span>) == 0) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose++;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      badarg = 1;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    args++;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span>(mimetype == NULL || mimetypeaccept == NULL)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    badarg = 1;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span>(badarg) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">for</span>(pp = curlx_usage; (*pp != NULL); pp++)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;%s\n&quot;</span>, *pp);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">/* set input */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a> = <a class="code" href="setup-vms_8h.html#ab76b179b23145cfc0547f1704c9215cb">BIO_new</a>(BIO_s_file());</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a> == NULL) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Error setting input bio\n&quot;</span>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(infile == NULL)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    BIO_set_fp(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>, <a class="code" href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a>, BIO_NOCLOSE|BIO_FP_TEXT);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(BIO_read_filename(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>, infile) &lt;= 0) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Error opening input file %s\n&quot;</span>, infile);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="setup-vms_8h.html#a82c2c4a514da95fce469765dacd90a52">BIO_free</a>(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">/* set output  */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  out = <a class="code" href="setup-vms_8h.html#ab76b179b23145cfc0547f1704c9215cb">BIO_new</a>(BIO_s_file());</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span>(out == NULL) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Error setting output bio.\n&quot;</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(outfile == NULL)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    BIO_set_fp(out, stdout, BIO_NOCLOSE|BIO_FP_TEXT);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(BIO_write_filename(out, outfile) &lt;= 0) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Error opening output file %s\n&quot;</span>, outfile);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="setup-vms_8h.html#a82c2c4a514da95fce469765dacd90a52">BIO_free</a>(out);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio = BIO_new_fp(stderr, BIO_NOCLOSE);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl = <a class="code" href="easy_8h.html#ac6359c6087e29eb8876d92bf8c7c10d7">curl_easy_init</a>();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Cannot init curl lib\n&quot;</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  p12bio = BIO_new_file(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">if</span>(!p12bio) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Error opening P12 file %s\n&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12 = d2i_PKCS12_bio(p12bio, NULL);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Cannot decode P12 structure %s\n&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca = NULL;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span>(!(<a class="code" href="setup-vms_8h.html#a87a05918f3772aac3d94e2028f7ef2a9">PKCS12_parse</a> (<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.pst, &amp;(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.pkey), &amp;(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.usercert), &amp;(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca) ) )) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Invalid P12 structure in %s\n&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span>(sk_X509_num(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca) &lt;= 0) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;No trustworthy CA given.%s\n&quot;</span>, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.p12file);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose &gt; 1)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    X509_print_ex(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.usercert, 0, 0);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">/* determine URL to go */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span>(hostporturl) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> = strlen(hostporturl) + 9;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    serverurl = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(<a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    snprintf(serverurl, <a class="code" href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <span class="stringliteral">&quot;https://%s&quot;</span>, hostporturl);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype != 0) { <span class="comment">/* see whether we can find an AIA or SIA for a</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">                                  given access type */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    serverurl = my_get_ext(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.usercert, <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype, NID_info_access);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span>(!serverurl) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;no service URL in user cert &quot;</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                 <span class="stringliteral">&quot;cherching in others certificats\n&quot;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>&lt;sk_X509_num(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca); <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        serverurl = my_get_ext(sk_X509_value(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca, <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>), <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                               NID_info_access);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">if</span>(serverurl)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        serverurl = my_get_ext(sk_X509_value(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.ca, <a class="code" href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>), <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.accesstype,</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                               NID_sinfo_access);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span>(serverurl)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">if</span>(!serverurl) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;no service URL in certificats,&quot;</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;               <span class="stringliteral">&quot; check &#39;-accesstype (AD_DVCS | ad_timestamping)&#39;&quot;</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;               <span class="stringliteral">&quot; or use &#39;-connect&#39;\n&quot;</span>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Service URL: &lt;%s&gt;\n&quot;</span>, serverurl);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_URL, serverurl);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">/* Now specify the POST binary data */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_POSTFIELDS, binaryptr);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_POSTFIELDSIZE, (<span class="keywordtype">long</span>)tabLength);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">/* pass our list of custom made headers */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  contenttype = <a class="code" href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a>(15 + strlen(mimetype));</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  snprintf(contenttype, 15 + strlen(mimetype), <span class="stringliteral">&quot;Content-type: %s&quot;</span>, mimetype);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a> = <a class="code" href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>, contenttype);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_HTTPHEADER, <a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;Service URL: &lt;%s&gt;\n&quot;</span>, serverurl);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">FILE</a> *outfp;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    BIO_get_fp(out, &amp;outfp);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_WRITEDATA, outfp);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  res = <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_SSL_CTX_FUNCTION, sslctxfun);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">if</span>(res != <a class="code" href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a>)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;%d %s=%d %d\n&quot;</span>, __LINE__,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;               <span class="stringliteral">&quot;CURLOPT_SSL_CTX_FUNCTION&quot;</span>, CURLOPT_SSL_CTX_FUNCTION, res);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_SSL_CTX_DATA, &amp;<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordtype">int</span> lu; <span class="keywordtype">int</span> <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> = 0;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">while</span>((lu = BIO_read(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>, &amp;binaryptr[<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>], tabLength-<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>)) &gt;0) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> += lu;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a> == tabLength) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        tabLength += 100;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = <a class="code" href="curl__memory_8h.html#aa568500a9ca507b5a53de5372c81f26a">realloc</a>(binaryptr, tabLength); <span class="comment">/* should be more careful */</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          <span class="comment">/* out of memory */</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;out of memory (realloc returned NULL)\n&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <span class="keywordflow">goto</span> <a class="code" href="fail-early_8d.html#a2b978ebca1e6cb7fcbcb9a6b51701ce3">fail</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        binaryptr = <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a> = NULL;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    tabLength = <a class="code" href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">/* Now specify the POST binary data */</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_POSTFIELDS, binaryptr);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, CURLOPT_POSTFIELDSIZE, (<span class="keywordtype">long</span>)tabLength);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">/* Perform the request, res will get the return code */</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;%d %s %d\n&quot;</span>, __LINE__, <span class="stringliteral">&quot;curl_easy_perform&quot;</span>,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;             res = <a class="code" href="easy_8h.html#a8126b918a6e44facb451ce6c78658506">curl_easy_perform</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl));</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a> = <a class="code" href="typecheck-gcc_8h.html#a978f4e7a75943f3c2a518eb72da213f2">curl_easy_getinfo</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl, <a class="code" href="curl_8h.html#aabc03ec968a2fdccde5c6709f712dd7bab5da68e3c8938e91667a953d95d5e5cb">CURLINFO_CONTENT_TYPE</a>, &amp;response);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span>(mimetypeaccept &amp;&amp; <a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.verbose) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">if</span>(!strcmp(mimetypeaccept, response))</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;the response has a correct mimetype : %s\n&quot;</span>,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                   response);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;the response doesn\&#39;t have an acceptable &quot;</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                   <span class="stringliteral">&quot;mime type, it is %s instead of %s\n&quot;</span>,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                   response, mimetypeaccept);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">/*** code d&#39;erreur si accept mime ***, egalement code return HTTP != 200 ***/</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/* free the header list*/</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<a class="code" href="fail-early_8d.html#a2b978ebca1e6cb7fcbcb9a6b51701ce3">fail</a>:</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a>(<a class="code" href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">/* always cleanup */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="easy_8h.html#a7acd7812b672df9e378050fab7c732aa">curl_easy_cleanup</a>(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.curl);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="setup-vms_8h.html#a82c2c4a514da95fce469765dacd90a52">BIO_free</a>(<a class="code" href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="setup-vms_8h.html#a82c2c4a514da95fce469765dacd90a52">BIO_free</a>(out);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">return</span> (EXIT_SUCCESS);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  err: BIO_printf(<a class="code" href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a>.errorbio, <span class="stringliteral">&quot;error&quot;</span>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  exit(1);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="ttc" id="setup-vms_8h_html_a44ca1aff4da82f55bd20b3c7a7f2e383"><div class="ttname"><a href="setup-vms_8h.html#a44ca1aff4da82f55bd20b3c7a7f2e383">SSL_CTX_use_PrivateKey</a></div><div class="ttdeci">#define SSL_CTX_use_PrivateKey</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00281">setup-vms.h:281</a></div></div>
<div class="ttc" id="structsslctxparm__st_html_a76cf8a879581310fb777d798e7c4c7e9"><div class="ttname"><a href="structsslctxparm__st.html#a76cf8a879581310fb777d798e7c4c7e9">sslctxparm_st::p12</a></div><div class="ttdeci">PKCS12 * p12</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00138">curlx.c:138</a></div></div>
<div class="ttc" id="setup-vms_8h_html_aafc8c101dfb6313ab0416a6c5903ce66"><div class="ttname"><a href="setup-vms_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a></div><div class="ttdeci">#define getenv</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00052">setup-vms.h:52</a></div></div>
<div class="ttc" id="structcurl__slist_html"><div class="ttname"><a href="structcurl__slist.html">curl_slist</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02394">curl.h:2394</a></div></div>
<div class="ttc" id="setup-vms_8h_html_ab76b179b23145cfc0547f1704c9215cb"><div class="ttname"><a href="setup-vms_8h.html#ab76b179b23145cfc0547f1704c9215cb">BIO_new</a></div><div class="ttdeci">#define BIO_new</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00200">setup-vms.h:200</a></div></div>
<div class="ttc" id="structsslctxparm__st_html_afcf37460264acdb7cfd955f09c691ff6"><div class="ttname"><a href="structsslctxparm__st.html#afcf37460264acdb7cfd955f09c691ff6">sslctxparm_st::pkey</a></div><div class="ttdeci">EVP_PKEY * pkey</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00139">curlx.c:139</a></div></div>
<div class="ttc" id="unit1330_8c_html_a367d241c5c363105ee629417d1dfba75"><div class="ttname"><a href="unit1330_8c.html#a367d241c5c363105ee629417d1dfba75">ptr</a></div><div class="ttdeci">UNITTEST_START char * ptr</div><div class="ttdef"><b>Definition:</b> <a href="unit1330_8c_source.html#l00038">unit1330.c:38</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951">CURLcode</a></div><div class="ttdeci">CURLcode</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00457">curl.h:457</a></div></div>
<div class="ttc" id="curl_8h_html"><div class="ttname"><a href="curl_8h.html">curl.h</a></div></div>
<div class="ttc" id="curl__memory_8h_html_aa568500a9ca507b5a53de5372c81f26a"><div class="ttname"><a href="curl__memory_8h.html#aa568500a9ca507b5a53de5372c81f26a">realloc</a></div><div class="ttdeci">#define realloc(ptr, size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00128">curl_memory.h:128</a></div></div>
<div class="ttc" id="setup-vms_8h_html_aa7611069fbad9e8c84bbafc77b58f369"><div class="ttname"><a href="setup-vms_8h.html#aa7611069fbad9e8c84bbafc77b58f369">SSL_CTX_set_cipher_list</a></div><div class="ttdeci">#define SSL_CTX_set_cipher_list</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00276">setup-vms.h:276</a></div></div>
<div class="ttc" id="curl__memory_8h_html_a2eb0b03d1a9de9615a291b1205969069"><div class="ttname"><a href="curl__memory_8h.html#a2eb0b03d1a9de9615a291b1205969069">malloc</a></div><div class="ttdeci">#define malloc(size)</div><div class="ttdef"><b>Definition:</b> <a href="curl__memory_8h_source.html#l00124">curl_memory.h:124</a></div></div>
<div class="ttc" id="structsslctxparm__st_html"><div class="ttname"><a href="structsslctxparm__st.html">sslctxparm_st</a></div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00135">curlx.c:135</a></div></div>
<div class="ttc" id="unit1304_8c_html_a937d4dd628a8858b443a399410d2600b"><div class="ttname"><a href="unit1304_8c.html#a937d4dd628a8858b443a399410d2600b">result</a></div><div class="ttdeci">UNITTEST_START int result</div><div class="ttdef"><b>Definition:</b> <a href="unit1304_8c_source.html#l00049">unit1304.c:49</a></div></div>
<div class="ttc" id="typecheck-gcc_8h_html_af8d527555aeac344caa3754445c6ecba"><div class="ttname"><a href="typecheck-gcc_8h.html#af8d527555aeac344caa3754445c6ecba">curl_easy_setopt</a></div><div class="ttdeci">#define curl_easy_setopt(handle, option, value)</div><div class="ttdef"><b>Definition:</b> <a href="typecheck-gcc_8h_source.html#l00041">typecheck-gcc.h:41</a></div></div>
<div class="ttc" id="unit1394_8c_html_a0fb9c3165f64b5b79f3928b404818be9"><div class="ttname"><a href="unit1394_8c.html#a0fb9c3165f64b5b79f3928b404818be9">p</a></div><div class="ttdeci">const char ** p</div><div class="ttdef"><b>Definition:</b> <a href="unit1394_8c_source.html#l00079">unit1394.c:79</a></div></div>
<div class="ttc" id="smooth-gtk-thread_8c_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="smooth-gtk-thread_8c.html#a37d972ae0b47b9099e30983131d31916">j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="smooth-gtk-thread_8c_source.html#l00047">smooth-gtk-thread.c:47</a></div></div>
<div class="ttc" id="unit1303_8c_html_ac8936188af0c1d2f8b9d0cd25fde43b2"><div class="ttname"><a href="unit1303_8c.html#ac8936188af0c1d2f8b9d0cd25fde43b2">i</a></div><div class="ttdeci">unsigned int i</div><div class="ttdef"><b>Definition:</b> <a href="unit1303_8c_source.html#l00078">unit1303.c:78</a></div></div>
<div class="ttc" id="curl__sasl_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="curl__sasl_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="curl__sasl_8c_source.html#l00055">curl_sasl.c:55</a></div></div>
<div class="ttc" id="curl_8h_html_aabc03ec968a2fdccde5c6709f712dd7bab5da68e3c8938e91667a953d95d5e5cb"><div class="ttname"><a href="curl_8h.html#aabc03ec968a2fdccde5c6709f712dd7bab5da68e3c8938e91667a953d95d5e5cb">CURLINFO_CONTENT_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02524">curl.h:2524</a></div></div>
<div class="ttc" id="unit1304_8c_html_a82a69fcfe92d9db6dd585ccc532a2ab7"><div class="ttname"><a href="unit1304_8c.html#a82a69fcfe92d9db6dd585ccc532a2ab7">memcpy</a></div><div class="ttdeci">memcpy(filename, filename1, strlen(filename1))</div></div>
<div class="ttc" id="anyauth_8d_html_a076c285cdc160cc073b20f7cf28ef85f"><div class="ttname"><a href="anyauth_8d.html#a076c285cdc160cc073b20f7cf28ef85f">headers</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response headers</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="form_8d_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="form_8d.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="form_8d_source.html#l00048">form.d:48</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951a5ffb4b97de06318ffbd19405b18494f9"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951a5ffb4b97de06318ffbd19405b18494f9">CURLE_SSL_CERTPROBLEM</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00529">curl.h:529</a></div></div>
<div class="ttc" id="curlx_8c_html_af6458f5d187f1d7c82fb9ea7ef634b44"><div class="ttname"><a href="curlx_8c.html#af6458f5d187f1d7c82fb9ea7ef634b44">ZERO_NULL</a></div><div class="ttdeci">#define ZERO_NULL</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00131">curlx.c:131</a></div></div>
<div class="ttc" id="typecheck-gcc_8h_html_a978f4e7a75943f3c2a518eb72da213f2"><div class="ttname"><a href="typecheck-gcc_8h.html#a978f4e7a75943f3c2a518eb72da213f2">curl_easy_getinfo</a></div><div class="ttdeci">#define curl_easy_getinfo(handle, info, arg)</div><div class="ttdef"><b>Definition:</b> <a href="typecheck-gcc_8h_source.html#l00117">typecheck-gcc.h:117</a></div></div>
<div class="ttc" id="curl_8h_html_a7ea20d9a213c806f82446bed893f423f"><div class="ttname"><a href="curl_8h.html#a7ea20d9a213c806f82446bed893f423f">curl_slist_append</a></div><div class="ttdeci">CURL_EXTERN struct curl_slist * curl_slist_append(struct curl_slist *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00089">slist.c:89</a></div></div>
<div class="ttc" id="curl_8h_html_a43a83b323c903cc5042cd55cb6f2c78c"><div class="ttname"><a href="curl_8h.html#a43a83b323c903cc5042cd55cb6f2c78c">CURL_GLOBAL_DEFAULT</a></div><div class="ttdeci">#define CURL_GLOBAL_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l02591">curl.h:2591</a></div></div>
<div class="ttc" id="easy_8h_html_ac6359c6087e29eb8876d92bf8c7c10d7"><div class="ttname"><a href="easy_8h.html#ac6359c6087e29eb8876d92bf8c7c10d7">curl_easy_init</a></div><div class="ttdeci">CURL_EXTERN CURL * curl_easy_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00354">easy.c:354</a></div></div>
<div class="ttc" id="next_8d_html_abe10eb0831ec028e893494fafede8ed9"><div class="ttname"><a href="next_8d.html#abe10eb0831ec028e893494fafede8ed9">verbose</a></div><div class="ttdeci">Short each with their own specific for such as different user names or custom requests for each.next will reset all local options and only global ones will have their values survive over to the operation following the next instruction.Global options include verbose</div><div class="ttdef"><b>Definition:</b> <a href="next_8d_source.html#l00010">next.d:10</a></div></div>
<div class="ttc" id="structsslctxparm__st_html_aaf1d75a6294fa0931f8754addff919b7"><div class="ttname"><a href="structsslctxparm__st.html#aaf1d75a6294fa0931f8754addff919b7">sslctxparm_st::p12file</a></div><div class="ttdeci">unsigned char * p12file</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00136">curlx.c:136</a></div></div>
<div class="ttc" id="setup-vms_8h_html_af55e4ccbb54ad626fde32c2a43a8e06e"><div class="ttname"><a href="setup-vms_8h.html#af55e4ccbb54ad626fde32c2a43a8e06e">SSL_CTX_get_cert_store</a></div><div class="ttdeci">#define SSL_CTX_get_cert_store</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00273">setup-vms.h:273</a></div></div>
<div class="ttc" id="easy_8h_html_a7acd7812b672df9e378050fab7c732aa"><div class="ttname"><a href="easy_8h.html#a7acd7812b672df9e378050fab7c732aa">curl_easy_cleanup</a></div><div class="ttdeci">CURL_EXTERN void curl_easy_cleanup(CURL *curl)</div></div>
<div class="ttc" id="setup-vms_8h_html_ad16fc197ca0af13411844895262ac9b6"><div class="ttname"><a href="setup-vms_8h.html#ad16fc197ca0af13411844895262ac9b6">SSL_CTX_set_verify</a></div><div class="ttdeci">#define SSL_CTX_set_verify</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00280">setup-vms.h:280</a></div></div>
<div class="ttc" id="fail-early_8d_html_a2b978ebca1e6cb7fcbcb9a6b51701ce3"><div class="ttname"><a href="fail-early_8d.html#a2b978ebca1e6cb7fcbcb9a6b51701ce3">fail</a></div><div class="ttdeci">Long do not continue it will attempt to operate on each given one by one.By it will ignore errors if there are more URLs given and the last URL s success will determine the error code curl returns.So early failures will be hidden by subsequent successful transfers.Using this curl will instead return an error on the first transfer that independent of the amount of URLs that are given on the command line.This no transfer failures go undetected by scripts and similar.This option is global and does not need to be specified for each use of next.This option does not imply fail</div><div class="ttdef"><b>Definition:</b> <a href="fail-early_8d_source.html#l00002">fail-early.d:2</a></div></div>
<div class="ttc" id="setup-vms_8h_html_ac78686b148fb4b4ec55b126c404bd89e"><div class="ttname"><a href="setup-vms_8h.html#ac78686b148fb4b4ec55b126c404bd89e">SSL_CTX_use_certificate</a></div><div class="ttdeci">#define SSL_CTX_use_certificate</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00284">setup-vms.h:284</a></div></div>
<div class="ttc" id="setup-vms_8h_html_a82c2c4a514da95fce469765dacd90a52"><div class="ttname"><a href="setup-vms_8h.html#a82c2c4a514da95fce469765dacd90a52">BIO_free</a></div><div class="ttdeci">#define BIO_free</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00199">setup-vms.h:199</a></div></div>
<div class="ttc" id="curl_8h_html_af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b"><div class="ttname"><a href="curl_8h.html#af0691941698240652e0a391394217951af2fb280cf805aa199f6b63a2a27c318b">CURLE_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00458">curl.h:458</a></div></div>
<div class="ttc" id="setup-vms_8h_html_a5d2928a33b697892fa7dcc0f1fb0d129"><div class="ttname"><a href="setup-vms_8h.html#a5d2928a33b697892fa7dcc0f1fb0d129">X509_get_ext_d2i</a></div><div class="ttdeci">#define X509_get_ext_d2i</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00346">setup-vms.h:346</a></div></div>
<div class="ttc" id="curlx_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="curlx_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00270">curlx.c:270</a></div></div>
<div class="ttc" id="structsslctxparm__st_html_a780798d5d1cb34c6f85980f9e11b7923"><div class="ttname"><a href="structsslctxparm__st.html#a780798d5d1cb34c6f85980f9e11b7923">sslctxparm_st::pst</a></div><div class="ttdeci">const char * pst</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00137">curlx.c:137</a></div></div>
<div class="ttc" id="_console_8h_html_ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719"><div class="ttname"><a href="_console_8h.html#ae07e7f0f3d76ae1309217641da872eb2a9fc5887c030f7a3e19821ebec457e719">ArgType_t::FILE</a></div></div>
<div class="ttc" id="curl_8h_html_a913e575dba100c0e9f9f6420a054d5ab"><div class="ttname"><a href="curl_8h.html#a913e575dba100c0e9f9f6420a054d5ab">curl_global_init</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_global_init(long flags)</div><div class="ttdef"><b>Definition:</b> <a href="easy_8c_source.html#l00281">easy.c:281</a></div></div>
<div class="ttc" id="setup-vms_8h_html_a06dc4c3f54ecece03a956a8f99296ff5"><div class="ttname"><a href="setup-vms_8h.html#a06dc4c3f54ecece03a956a8f99296ff5">SSL_CTX_check_private_key</a></div><div class="ttdeci">#define SSL_CTX_check_private_key</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00270">setup-vms.h:270</a></div></div>
<div class="ttc" id="curl_8h_html_ace655e3633b6533591283994d6b5cdda"><div class="ttname"><a href="curl_8h.html#ace655e3633b6533591283994d6b5cdda">CURL</a></div><div class="ttdeci">void CURL</div><div class="ttdef"><b>Definition:</b> <a href="curl_8h_source.html#l00102">curl.h:102</a></div></div>
<div class="ttc" id="header_8d_html_af039c1a4bf9f7d5ffdd981d66cd3fb2d"><div class="ttname"><a href="header_8d.html#af039c1a4bf9f7d5ffdd981d66cd3fb2d">in</a></div><div class="ttdeci">Long your externally set header will be used instead of the one.This allows you to make even trickier stuff than curl would normally do.You should not replace internally set headers without knowing perfectly well what you re doing.Remove an header by giving a replacement without content on the right side of the as in</div><div class="ttdef"><b>Definition:</b> <a href="header_8d_source.html#l00009">header.d:9</a></div></div>
<div class="ttc" id="structsslctxparm__st_html_ac6fcbed7595d038e47612fdd47c48e3f"><div class="ttname"><a href="structsslctxparm__st.html#ac6fcbed7595d038e47612fdd47c48e3f">sslctxparm_st::usercert</a></div><div class="ttdeci">X509 * usercert</div><div class="ttdef"><b>Definition:</b> <a href="curlx_8c_source.html#l00140">curlx.c:140</a></div></div>
<div class="ttc" id="anyauth_8d_html_a1d461998550d329666033ab94bf67c6a"><div class="ttname"><a href="anyauth_8d.html#a1d461998550d329666033ab94bf67c6a">stdin</a></div><div class="ttdeci">Long and use the most secure one the remote site claims to support.This is done by first doing a request and checking the response thus possibly inducing an extra network round trip.This is used instead of setting a specific authentication which you can do with and negotiate.Using anyauth is not recommended if you do uploads from stdin</div><div class="ttdef"><b>Definition:</b> <a href="anyauth_8d_source.html#l00006">anyauth.d:6</a></div></div>
<div class="ttc" id="curl_8h_html_a3a28c84e40db0ef30859b680281c9d36"><div class="ttname"><a href="curl_8h.html#a3a28c84e40db0ef30859b680281c9d36">curl_slist_free_all</a></div><div class="ttdeci">CURL_EXTERN void curl_slist_free_all(struct curl_slist *)</div><div class="ttdef"><b>Definition:</b> <a href="slist_8c_source.html#l00129">slist.c:129</a></div></div>
<div class="ttc" id="setup-vms_8h_html_a87a05918f3772aac3d94e2028f7ef2a9"><div class="ttname"><a href="setup-vms_8h.html#a87a05918f3772aac3d94e2028f7ef2a9">PKCS12_parse</a></div><div class="ttdeci">#define PKCS12_parse</div><div class="ttdef"><b>Definition:</b> <a href="setup-vms_8h_source.html#l00260">setup-vms.h:260</a></div></div>
<div class="ttc" id="easy_8h_html_a8126b918a6e44facb451ce6c78658506"><div class="ttname"><a href="easy_8h.html#a8126b918a6e44facb451ce6c78658506">curl_easy_perform</a></div><div class="ttdeci">CURL_EXTERN CURLcode curl_easy_perform(CURL *curl)</div></div>
<div class="ttc" id="curlx_8c_html_a00811309833133b6a9139cb8eff8a170"><div class="ttname"><a href="curlx_8c.html#a00811309833133b6a9139cb8eff8a170">sslctxparm</a></div><div class="ttdeci">struct sslctxparm_st sslctxparm</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_e9014474357f0c50c4c87dd9066e36b7.html">curl</a></li><li class="navelem"><a class="el" href="dir_6131665f531068ff14c6d07cb1603296.html">docs</a></li><li class="navelem"><a class="el" href="dir_bc05a9a33d7f4c6f9af4a85ebca21dd3.html">examples</a></li><li class="navelem"><a class="el" href="curlx_8c.html">curlx.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
